<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl4d2e15dbc9c94d67beaaf9ef0fe8c3ae' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl4d2e15dbc9c94d67beaaf9ef0fe8c3ae',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.27455491052678477,"B":-0.317667843216024,"C":-3.0134406949346415},{"x":2,"A":-0.3913247603965507,"B":0.1770560043506227,"C":-2.3037948005295297},{"x":3,"A":-0.07516715713202299,"B":-0.9878946659778218,"C":-2.9884305207057418},{"x":4,"A":-1.8065884386300852,"B":-2.0317847008663343,"C":-3.709104967304253},{"x":5,"A":-1.9149129187389309,"B":-2.0221924911886675,"C":-2.8419152153096072},{"x":6,"A":-3.2528557381059224,"B":-0.8452562077129757,"C":-2.615923142445945},{"x":7,"A":-1.8912358704625793,"B":-1.6803059458585858,"C":-1.1351357240080528},{"x":8,"A":-2.1298812929965805,"B":-0.743776727454982,"C":-2.8750357453172923},{"x":9,"A":-2.1393498723481517,"B":-0.7322831704911255,"C":-3.0288066138616108},{"x":10,"A":-1.855663726642379,"B":-1.4382744764932498,"C":-3.399229204066747},{"x":11,"A":-1.4965206026200462,"B":-1.9025460441202315,"C":-4.818536255956484},{"x":12,"A":-0.1040970159964168,"B":-1.8197285792894244,"C":-4.755028057595847},{"x":13,"A":-1.6458366114335712,"B":-1.1805694104226045,"C":-4.504613403021162},{"x":14,"A":-0.17565697484527037,"B":-1.342258329593627,"C":-5.004238627791523},{"x":15,"A":-1.0856862208700422,"B":-2.6696363856815184,"C":-6.201121329113468},{"x":16,"A":-2.3378662194955737,"B":-3.4029234985774743,"C":-7.841094412300816},{"x":17,"A":-2.4799570078537,"B":-3.1847882990658634,"C":-7.229611119490582},{"x":18,"A":-0.7780568482655723,"B":-3.626619169184625,"C":-5.066449318316483},{"x":19,"A":-1.2333951906662723,"B":-3.9474179375851266,"C":-6.290647620203784},{"x":20,"A":-2.041790953306598,"B":-2.964196250115079,"C":-4.8955111897583325},{"x":21,"A":-1.6014590254079368,"B":-3.8800883062788416,"C":-3.4041074247214524},{"x":22,"A":-1.4751675804605575,"B":-3.4734833743337963,"C":-4.63238424123451},{"x":23,"A":-1.8012968219649403,"B":-4.727080154902388,"C":-2.6066090422155526},{"x":24,"A":-2.6685120338209813,"B":-4.378155993887301,"C":-1.8238589873777618},{"x":25,"A":-4.491114251515818,"B":-3.5066767828174945,"C":-2.1316303820798534},{"x":26,"A":-5.489377834412402,"B":-3.4315136103569346,"C":-1.410057739818412},{"x":27,"A":-4.185903816838001,"B":-3.5972080175351713,"C":-1.1465702859176254},{"x":28,"A":-5.492018266480936,"B":-3.322111082769042,"C":0.3082682146707527},{"x":29,"A":-5.672263504948046,"B":-3.2985518835244285,"C":-0.935116708347361},{"x":30,"A":-5.324651293640579,"B":-4.920344167525192,"C":-0.3192713473561106},{"x":31,"A":-6.965666505189528,"B":-6.154136618952449,"C":1.443227584398814},{"x":32,"A":-6.447411429295886,"B":-7.494753941782892,"C":2.232557725265635},{"x":33,"A":-4.859001730150627,"B":-9.600391229186535,"C":2.0272773696040174},{"x":34,"A":-4.7528676800234475,"B":-8.989936684919941,"C":3.1624096580200316},{"x":35,"A":-4.451472998099782,"B":-8.85509032053823,"C":2.149266646329604},{"x":36,"A":-3.507616942101319,"B":-9.727778857062184,"C":2.1841771207614},{"x":37,"A":-3.6023942749694573,"B":-10.5575953009305,"C":2.192630728829834},{"x":38,"A":-2.0155750253693547,"B":-10.109616317860366,"C":1.9083484741203804},{"x":39,"A":-1.1906889139589034,"B":-9.59072455485383,"C":1.86790877461236},{"x":40,"A":-1.3539562494675792,"B":-10.520863380776937,"C":1.995439818488908},{"x":41,"A":-2.079008563003399,"B":-12.943622809501674,"C":1.9510981183044782},{"x":42,"A":-4.314927482898154,"B":-13.506075144915117,"C":1.3702510705164048},{"x":43,"A":-5.436322408386896,"B":-14.964212451454614,"C":-0.2798609614693115},{"x":44,"A":-6.972829704821884,"B":-16.716781745218736,"C":-0.35648416398949445},{"x":45,"A":-5.122829063040601,"B":-17.43728566067902,"C":1.422553344527918},{"x":46,"A":-3.3942752865749526,"B":-20.215277237766028,"C":2.184390911570434},{"x":47,"A":-4.618596524366786,"B":-22.32485272927337,"C":2.060878445767858},{"x":48,"A":-4.506482544382895,"B":-23.059318135593887,"C":-0.8816138951729267},{"x":49,"A":-5.521021881162156,"B":-22.764347808936137,"C":-1.0510517322843678},{"x":50,"A":-7.270744555360657,"B":-23.257168983605336,"C":1.711847883653359},{"x":51,"A":-6.2293935150057305,"B":-22.14516666344637,"C":3.4408465850388223},{"x":52,"A":-5.048278963941754,"B":-21.914402357406527,"C":4.472474724643222},{"x":53,"A":-4.3061582101618265,"B":-21.02959168145804,"C":5.370293423956762},{"x":54,"A":-6.768294849726576,"B":-22.26118857100153,"C":6.304950559087289},{"x":55,"A":-6.682702969720197,"B":-22.028716944859408,"C":6.2015021313696055},{"x":56,"A":-7.829279588224965,"B":-22.80585709430399,"C":7.579371685476752},{"x":57,"A":-7.547002013943145,"B":-23.76242995184913,"C":7.343024498974725},{"x":58,"A":-8.446199667087097,"B":-23.843161912265277,"C":10.381882442527907},{"x":59,"A":-6.521312043709709,"B":-23.658547015482675,"C":9.734974556370027},{"x":60,"A":-5.119083601979812,"B":-22.68346487052278,"C":11.016756213279137},{"x":61,"A":-4.061522356162865,"B":-22.399626143429668,"C":10.694595381176878},{"x":62,"A":-4.165859104674448,"B":-21.239024285629498,"C":9.96182871330894},{"x":63,"A":-2.553087063767372,"B":-22.142438749030454,"C":9.491786648015658},{"x":64,"A":-2.14725809574208,"B":-23.132723861244873,"C":8.704507580806155},{"x":65,"A":-2.700843494887655,"B":-22.68940591943425,"C":7.88670330337941},{"x":66,"A":-0.4973514321190203,"B":-23.57211747877384,"C":8.700821590051799},{"x":67,"A":-3.229316289487835,"B":-24.291001508596278,"C":9.450461491090405},{"x":68,"A":-3.336515196704466,"B":-25.115961055283353,"C":9.46551687294108},{"x":69,"A":-3.2043505449922165,"B":-25.83646983619688,"C":9.244183677294696},{"x":70,"A":-2.352716080091961,"B":-24.38135450887305,"C":7.0326448683694},{"x":71,"A":-3.342317587803514,"B":-24.84800415941493,"C":7.607679573176532},{"x":72,"A":-2.9232074536242667,"B":-25.34815083520787,"C":6.631668774172735},{"x":73,"A":-2.4684669771984553,"B":-25.64774578797639,"C":7.169134894401888},{"x":74,"A":-3.0914395609122876,"B":-25.130987081370392,"C":7.051610169407296},{"x":75,"A":-4.169837255202602,"B":-24.13847712513794,"C":7.943558937029077},{"x":76,"A":-4.156519497701047,"B":-23.61524812722708,"C":8.816487016052307},{"x":77,"A":-4.3463049701149075,"B":-25.279220499877443,"C":10.708251475150359},{"x":78,"A":-3.9263993083269044,"B":-24.53970256330778,"C":9.789008915667957},{"x":79,"A":-4.476457216940334,"B":-22.481902617390038,"C":9.2820314181863},{"x":80,"A":-5.357087536229617,"B":-22.270959087770617,"C":10.105642253077072},{"x":81,"A":-8.21100384868231,"B":-22.41953660329759,"C":12.001029047920944},{"x":82,"A":-9.65554008719084,"B":-23.28172828715604,"C":11.927932752852506},{"x":83,"A":-9.694543000683224,"B":-23.237984301948853,"C":11.175409118243504},{"x":84,"A":-8.766982147654259,"B":-24.830985503142788,"C":12.347913139578214},{"x":85,"A":-9.319517106042579,"B":-25.426358063927236,"C":12.422950889683396},{"x":86,"A":-8.961529029915475,"B":-25.912309183980643,"C":12.105289721329985},{"x":87,"A":-8.133964344777116,"B":-24.291143758012872,"C":13.943351583039352},{"x":88,"A":-8.771475404760904,"B":-22.740657689456622,"C":12.007753210372304},{"x":89,"A":-8.531343091729509,"B":-19.556806725228384,"C":11.235236739856546},{"x":90,"A":-7.16151147342434,"B":-18.77780264914065,"C":9.93463709830013},{"x":91,"A":-8.919654194102582,"B":-20.98470788857024,"C":10.637170970299103},{"x":92,"A":-9.904908535999112,"B":-20.860413876467916,"C":8.300161504501794},{"x":93,"A":-9.679415464738156,"B":-19.234075635148734,"C":9.012003133531632},{"x":94,"A":-10.190368173292528,"B":-18.775861373134624,"C":8.263599073795628},{"x":95,"A":-10.309662474458039,"B":-19.31479034101916,"C":8.41538028307001},{"x":96,"A":-9.84076098413429,"B":-19.899829576986352,"C":7.391708370699699},{"x":97,"A":-9.373190946827165,"B":-19.67189201050961,"C":8.789132759742113},{"x":98,"A":-9.162333917484151,"B":-18.51614156753511,"C":9.018904519292413},{"x":99,"A":-9.625014977190725,"B":-18.665761357441664,"C":9.225484376034462},{"x":100,"A":-10.624993051030502,"B":-18.955805080968737,"C":9.52771312437216}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 11 July 2023 07:50">Tuesday 11 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
