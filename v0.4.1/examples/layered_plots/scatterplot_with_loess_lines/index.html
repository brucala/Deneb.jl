<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../graphs/">Graphs</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-038cddbe-6a10-4c20-9d2a-938349e972a6.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-038cddbe-6a10-4c20-9d2a-938349e972a6.vega-embed details,
  #vis-038cddbe-6a10-4c20-9d2a-938349e972a6.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-038cddbe-6a10-4c20-9d2a-938349e972a6"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-038cddbe-6a10-4c20-9d2a-938349e972a6") {
      outputDiv = document.getElementById("vis-038cddbe-6a10-4c20-9d2a-938349e972a6");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.7563021866016015,"B":-2.565792127683649,"C":0.7350201873919746},{"x":2,"A":-0.17798106708121597,"B":-2.5411150261797215,"C":2.346950000259845},{"x":3,"A":-0.7099512720292943,"B":-2.90233727819742,"C":2.478424015025027},{"x":4,"A":-0.5471602577450312,"B":-1.0746176391542401,"C":1.8088410892291795},{"x":5,"A":0.484715294276856,"B":-1.8722552026154622,"C":2.306199607706116},{"x":6,"A":0.5284243601870733,"B":-0.5909273758477691,"C":1.6841075748508678},{"x":7,"A":-1.4985238581341322,"B":-1.4697384627978747,"C":1.79726254438742},{"x":8,"A":0.09169432374427089,"B":-1.8654806973560663,"C":-0.1133869900772595},{"x":9,"A":1.4845200841059092,"B":-0.005738694261462118,"C":-0.6716975981507232},{"x":10,"A":1.8542326450026634,"B":-1.630950212722211,"C":-0.21741772479309673},{"x":11,"A":0.3199534724428954,"B":-2.3664724378515207,"C":-0.07212378757453941},{"x":12,"A":0.3401089121266123,"B":-4.30263755747555,"C":-0.693071155945123},{"x":13,"A":0.7249204133371845,"B":-6.638669850187544,"C":-0.12124545134736253},{"x":14,"A":1.6120233480874577,"B":-6.926728452332851,"C":-0.25018916161754},{"x":15,"A":0.6165173778172961,"B":-4.698669336731491,"C":0.8629110628626526},{"x":16,"A":1.4106518355889448,"B":-5.275202303736547,"C":0.314237036587104},{"x":17,"A":3.201778702707029,"B":-5.259738697344876,"C":1.613586604747999},{"x":18,"A":2.2785462169412094,"B":-3.4639457123829778,"C":1.1350765565832175},{"x":19,"A":2.8354188046038495,"B":-4.106996209242577,"C":-0.2630265883363698},{"x":20,"A":2.72486546559036,"B":-3.9976061352214884,"C":-1.403079424857922},{"x":21,"A":1.556350989917978,"B":-6.055697443283995,"C":-1.8990471452179707},{"x":22,"A":0.406158675719432,"B":-7.775097514699704,"C":-2.9234881600678086},{"x":23,"A":0.9412009829357157,"B":-7.324281243247039,"C":-3.74251876018813},{"x":24,"A":2.290093016159772,"B":-8.07599589466945,"C":-2.8706102875447996},{"x":25,"A":3.462939188774774,"B":-5.804962857007196,"C":-3.1727146462424907},{"x":26,"A":5.182103246242614,"B":-5.8358979258412225,"C":-4.211047591582366},{"x":27,"A":5.5197351571487925,"B":-8.589316587559873,"C":-3.23330612318507},{"x":28,"A":6.686845562599229,"B":-8.073607928777708,"C":-2.7680366360990023},{"x":29,"A":6.894177310506327,"B":-6.987074131488109,"C":-5.039346049073612},{"x":30,"A":7.261101031413322,"B":-8.180766061226683,"C":-5.8873030213172495},{"x":31,"A":6.068538090696244,"B":-8.613302054961231,"C":-7.125011191031996},{"x":32,"A":6.318125571120716,"B":-8.063221747257646,"C":-6.672119291818981},{"x":33,"A":5.752599755276701,"B":-7.8481762340167425,"C":-7.398027175884961},{"x":34,"A":6.927720117824375,"B":-8.314808452890215,"C":-7.423328274986082},{"x":35,"A":7.721506669941576,"B":-8.649053486253107,"C":-8.104739510687654},{"x":36,"A":7.868125030361533,"B":-7.495131036121634,"C":-9.314785334638765},{"x":37,"A":8.353431207863748,"B":-7.235448622416129,"C":-8.60372417558052},{"x":38,"A":6.80384271107482,"B":-7.438581758031159,"C":-6.958664465519404},{"x":39,"A":5.875729096034775,"B":-8.933030991720484,"C":-8.098256807955002},{"x":40,"A":7.513419648457782,"B":-8.383995530117836,"C":-7.089549519760667},{"x":41,"A":7.233015615306312,"B":-8.434681848373021,"C":-5.00465297423442},{"x":42,"A":7.263598175152406,"B":-9.558177466104464,"C":-4.5527826541818115},{"x":43,"A":6.539691024910145,"B":-9.59366369275712,"C":-5.800714756392943},{"x":44,"A":7.774228068295281,"B":-10.143951262805729,"C":-5.5319434338147},{"x":45,"A":5.978486464548991,"B":-10.726289790996367,"C":-6.990019538179543},{"x":46,"A":7.473662108102884,"B":-10.842203493705934,"C":-7.855389393465041},{"x":47,"A":7.3153750706621405,"B":-8.64105031430515,"C":-9.428703637528923},{"x":48,"A":8.264065760488535,"B":-7.741253830277145,"C":-8.649131568236957},{"x":49,"A":8.347983482213424,"B":-7.755019125615755,"C":-8.89127549057365},{"x":50,"A":7.545463157009468,"B":-7.257139492894746,"C":-8.879347121930698},{"x":51,"A":7.008886839144951,"B":-7.6428574626957015,"C":-7.9825828533396415},{"x":52,"A":7.4976940008198465,"B":-8.082383660088626,"C":-7.259083189286427},{"x":53,"A":7.15206226519492,"B":-9.33028879001024,"C":-7.131583834248659},{"x":54,"A":9.337033130449653,"B":-9.454330571489162,"C":-5.2203816513206425},{"x":55,"A":8.405085564709227,"B":-8.914369173936986,"C":-6.843866762929704},{"x":56,"A":8.239596091391572,"B":-8.331159923895227,"C":-6.515685041349173},{"x":57,"A":7.153457328895082,"B":-8.541846937671027,"C":-7.7568930671872245},{"x":58,"A":6.310675343125134,"B":-7.238471652410574,"C":-8.671122255109317},{"x":59,"A":6.4411524469085775,"B":-6.838710671046655,"C":-8.879238838707955},{"x":60,"A":7.315374384847544,"B":-7.158156787610981,"C":-7.951893019713859},{"x":61,"A":7.231735644824949,"B":-7.155110419828379,"C":-8.434539771924287},{"x":62,"A":6.675535037196208,"B":-5.822920445331919,"C":-7.910226452534667},{"x":63,"A":7.923935431704029,"B":-5.5906168437674095,"C":-7.338234624205127},{"x":64,"A":7.419516769932889,"B":-6.120906693763358,"C":-8.07445490052524},{"x":65,"A":4.321024790567036,"B":-7.043599694454681,"C":-7.259157625448447},{"x":66,"A":4.953089541856988,"B":-7.279575057464328,"C":-8.695326233244588},{"x":67,"A":4.005904827616411,"B":-7.763117166128316,"C":-9.814603287108595},{"x":68,"A":5.206101828157365,"B":-7.293952144307262,"C":-10.97648628047477},{"x":69,"A":5.89342313552616,"B":-5.900904712576713,"C":-11.767767898069193},{"x":70,"A":5.323410429249671,"B":-6.010164793369269,"C":-11.090263606858842},{"x":71,"A":4.690542103884191,"B":-7.045277735172066,"C":-11.683613481463574},{"x":72,"A":6.327054993067739,"B":-6.213941688138481,"C":-11.753358395517974},{"x":73,"A":5.529082315383705,"B":-8.024538662719749,"C":-12.23684492877715},{"x":74,"A":5.162187866979642,"B":-7.743115187971119,"C":-12.915445343948758},{"x":75,"A":6.76617933083389,"B":-9.821594481983528,"C":-13.333650164903021},{"x":76,"A":8.096646560957709,"B":-9.391226694508271,"C":-14.41985681038743},{"x":77,"A":6.550803225007799,"B":-9.40126820726607,"C":-15.863059137438423},{"x":78,"A":7.153967946375829,"B":-8.745884800378743,"C":-16.304692419883885},{"x":79,"A":6.621599857969707,"B":-8.48520208618218,"C":-15.402458460753444},{"x":80,"A":7.206504490381528,"B":-8.148323920027876,"C":-15.58392424035969},{"x":81,"A":5.407346439541477,"B":-9.846428522273687,"C":-16.876198553434506},{"x":82,"A":4.999240443210378,"B":-7.988281318531108,"C":-17.3190518142789},{"x":83,"A":4.297999634250836,"B":-7.911483437156674,"C":-19.178267256329185},{"x":84,"A":4.05720844079711,"B":-7.606945264302649,"C":-19.774938847101534},{"x":85,"A":3.9718966686501584,"B":-7.958142578766861,"C":-19.522870858153684},{"x":86,"A":2.503447649886649,"B":-7.989579553800354,"C":-19.663986804680984},{"x":87,"A":2.5164676475832404,"B":-7.191297672937244,"C":-19.178643817750952},{"x":88,"A":2.687236055358631,"B":-7.13886745336214,"C":-20.39892608117354},{"x":89,"A":2.8482042935132936,"B":-6.741226133875264,"C":-21.793915424827283},{"x":90,"A":1.005389635147444,"B":-7.31382554238497,"C":-23.43806996171829},{"x":91,"A":3.1053494997517705,"B":-7.484215970046584,"C":-22.866712686421213},{"x":92,"A":1.2077563722857163,"B":-7.432577855141146,"C":-23.675712407942772},{"x":93,"A":1.6724053231730713,"B":-5.531548395774809,"C":-24.12961480210663},{"x":94,"A":2.1115839254500366,"B":-5.193376025451643,"C":-23.915284673473312},{"x":95,"A":2.1232664981497456,"B":-4.498554639629378,"C":-25.316919153781942},{"x":96,"A":1.9684171910377772,"B":-4.428106806218601,"C":-26.402077101500566},{"x":97,"A":1.2046730383316326,"B":-3.6325033244764073,"C":-27.502059395566704},{"x":98,"A":0.3885298430159563,"B":-4.115274404291114,"C":-27.196064071334067},{"x":99,"A":-0.31171447100785576,"B":-2.978093245179209,"C":-28.30561102346124},{"x":100,"A":-0.3323265838136421,"B":-4.133132529140488,"C":-27.895631814934617}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Saturday 7 December 2024 21:16">Saturday 7 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
