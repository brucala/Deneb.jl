<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-99f16603-26b7-4e32-9275-9db87c792a34.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-99f16603-26b7-4e32-9275-9db87c792a34.vega-embed details,
  #vis-99f16603-26b7-4e32-9275-9db87c792a34.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-99f16603-26b7-4e32-9275-9db87c792a34"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-99f16603-26b7-4e32-9275-9db87c792a34") {
      outputDiv = document.getElementById("vis-99f16603-26b7-4e32-9275-9db87c792a34");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.23087336265973318,"B":0.6931665422025951,"C":0.3667175916802538},{"x":2,"A":-0.7495795584744678,"B":1.5580123616160084,"C":-0.19940381600646767},{"x":3,"A":0.23465599088082295,"B":1.088407355774374,"C":0.7141521661633154},{"x":4,"A":0.293394434668479,"B":0.8718165251623196,"C":-0.30312079556457533},{"x":5,"A":0.9641099860146118,"B":0.7294801587081472,"C":0.170477255564707},{"x":6,"A":0.5323020073367297,"B":0.7617076772088549,"C":-1.3306718333565317},{"x":7,"A":0.0006911019350967496,"B":0.20501663639609008,"C":-2.4959997226910113},{"x":8,"A":-0.3150883256971147,"B":2.0293917796366534,"C":-2.090511982357371},{"x":9,"A":-0.31383217071901565,"B":3.2020116411451265,"C":-2.988024906350319},{"x":10,"A":0.19270877262162206,"B":4.668401536256544,"C":-2.788633199658654},{"x":11,"A":-0.27752033491276035,"B":5.375557248961921,"C":0.4349732780577235},{"x":12,"A":1.1044785076483683,"B":6.221787022815992,"C":-0.2961897387920501},{"x":13,"A":1.1168900974110367,"B":7.550311778046928,"C":-1.4121245739186616},{"x":14,"A":1.097200105948798,"B":7.607344145497056,"C":-1.693908082064852},{"x":15,"A":1.5549508212997212,"B":8.09080815151765,"C":-1.9600623212288795},{"x":16,"A":1.263843758371465,"B":9.081515616898796,"C":-2.5218761245778607},{"x":17,"A":1.5403649610505354,"B":8.524211354211989,"C":-5.2552467886038094},{"x":18,"A":1.8150212026635488,"B":7.64929319342808,"C":-4.291636690600107},{"x":19,"A":4.907769757761352,"B":6.065781905933037,"C":-5.387864916997791},{"x":20,"A":4.273354219553517,"B":5.496286078321889,"C":-4.339053861045039},{"x":21,"A":5.350529304193291,"B":5.690321566238146,"C":-6.072441129004351},{"x":22,"A":5.240567249260903,"B":5.663536871249746,"C":-7.335363561730735},{"x":23,"A":4.050775232075723,"B":6.234514595502292,"C":-6.8852770211521115},{"x":24,"A":3.986157842802138,"B":6.591005630589758,"C":-6.333393834603765},{"x":25,"A":2.5340732252991875,"B":6.306442857042991,"C":-6.2820284614375},{"x":26,"A":1.9968122908329344,"B":6.131894857410656,"C":-6.808773706208081},{"x":27,"A":2.519236851090426,"B":6.172389264301152,"C":-9.075316592250877},{"x":28,"A":1.696142313699247,"B":5.214976678600539,"C":-8.617256706236876},{"x":29,"A":2.142597553371699,"B":6.469651503110811,"C":-6.824472082891009},{"x":30,"A":1.8865834397851668,"B":6.499058697158447,"C":-7.481382083425247},{"x":31,"A":2.0346295016420672,"B":6.712756006674717,"C":-8.046313845040684},{"x":32,"A":2.920849725659364,"B":6.859465422887227,"C":-7.119862077794613},{"x":33,"A":4.310777559445134,"B":8.24284330932821,"C":-6.037427594981707},{"x":34,"A":4.713870400454482,"B":7.695136444585004,"C":-6.323017857463725},{"x":35,"A":5.406593772343203,"B":7.648043839850524,"C":-6.822018855741217},{"x":36,"A":6.069599618209766,"B":5.544075986062624,"C":-7.234446002170163},{"x":37,"A":4.5020606455343835,"B":4.569602348717607,"C":-6.526584236280884},{"x":38,"A":4.213571429359923,"B":5.02583065393536,"C":-7.757766650136278},{"x":39,"A":3.220809904163458,"B":4.863209723381867,"C":-7.239912444584891},{"x":40,"A":1.8726438264219465,"B":5.322218418852073,"C":-6.459265585058168},{"x":41,"A":2.7913769678139917,"B":6.067622054313785,"C":-6.149510488493409},{"x":42,"A":2.8190909524989487,"B":8.272878406385413,"C":-4.61873954778497},{"x":43,"A":3.450734676531929,"B":9.535728388052371,"C":-3.4539640843054813},{"x":44,"A":2.581637546904285,"B":7.982872729410318,"C":-2.118447171501966},{"x":45,"A":1.4727499025050272,"B":6.898568943009473,"C":-3.49560114700603},{"x":46,"A":2.6088580237223153,"B":7.558593914031657,"C":-2.4836420888863757},{"x":47,"A":3.338568312371545,"B":9.602890391928659,"C":-2.793719775221234},{"x":48,"A":2.0211094938436824,"B":10.041189017786929,"C":-0.506522072675182},{"x":49,"A":1.7056881498736456,"B":7.792602451554764,"C":-0.9050879884402598},{"x":50,"A":2.8300814648998553,"B":6.933017199248502,"C":-0.9731898253725004},{"x":51,"A":4.645619988752674,"B":7.333742493460189,"C":-0.602455597242239},{"x":52,"A":5.285285448877536,"B":7.128499487233504,"C":-1.196727858630242},{"x":53,"A":6.331122121186334,"B":7.803680214337983,"C":1.9672451380780347},{"x":54,"A":6.20359488612025,"B":6.2446161141680125,"C":3.4487070392070933},{"x":55,"A":5.593066874854906,"B":5.9562061743953265,"C":3.9191516923545464},{"x":56,"A":5.084132388484091,"B":7.388486835113741,"C":4.769244124002718},{"x":57,"A":6.570542240666453,"B":7.2328369928865275,"C":4.221212476790591},{"x":58,"A":7.060069766879134,"B":8.540048347613125,"C":3.6459913797091605},{"x":59,"A":5.498832595234031,"B":8.241338210700915,"C":2.8914670369674877},{"x":60,"A":5.9802966490395395,"B":6.493001070365285,"C":2.1192089917025827},{"x":61,"A":6.394552799088151,"B":6.7656782755586145,"C":4.024103664660674},{"x":62,"A":4.688312638462584,"B":5.270983389766224,"C":3.468527696892341},{"x":63,"A":3.3813856967927753,"B":5.3132115952835965,"C":3.0982601783931774},{"x":64,"A":3.359833705001009,"B":5.231947245631009,"C":3.426080317718464},{"x":65,"A":3.3670435154611074,"B":5.034721771932644,"C":5.365809011077112},{"x":66,"A":4.191901921985809,"B":4.138677173914852,"C":5.1857581511274145},{"x":67,"A":3.911752613964084,"B":3.4797395449407085,"C":5.829035307050048},{"x":68,"A":1.5923741057553853,"B":1.6500076385044373,"C":5.732964887852949},{"x":69,"A":1.4211360090409841,"B":0.6516441032298056,"C":4.320851864849272},{"x":70,"A":2.0145713148924713,"B":0.8879417034114349,"C":4.773683681408071},{"x":71,"A":0.6972316911407954,"B":0.5912105204368182,"C":2.905877712367414},{"x":72,"A":0.29256530521786656,"B":0.15337094743942914,"C":4.401185438192339},{"x":73,"A":-0.5221826037650441,"B":-1.1338356247904828,"C":5.550321310423292},{"x":74,"A":-0.13887154204273838,"B":-1.7042405948874308,"C":6.594093626277085},{"x":75,"A":-1.1362995803296314,"B":-1.6819094309173916,"C":7.501182297245234},{"x":76,"A":0.3796582218237354,"B":-3.191628523169743,"C":6.425288609826587},{"x":77,"A":-0.03378341601937035,"B":-2.8600522018876866,"C":6.766799790442389},{"x":78,"A":-1.3378461782032185,"B":-1.7480575622098145,"C":7.0577262726408945},{"x":79,"A":-0.6829395180886719,"B":-2.0958793394343567,"C":8.167563109121978},{"x":80,"A":0.7034893389383008,"B":-3.642648381171765,"C":7.126417447892147},{"x":81,"A":3.1440695346153102,"B":-4.135412425591892,"C":8.118552272143754},{"x":82,"A":1.4996803755336896,"B":-3.122011891651074,"C":8.00925447706705},{"x":83,"A":1.7454603677285376,"B":-2.6630493773437034,"C":8.658925473700341},{"x":84,"A":2.601643391324553,"B":-2.867036188733915,"C":10.943192742268424},{"x":85,"A":1.836575233100084,"B":-3.293425393506591,"C":10.311111870536088},{"x":86,"A":1.9286496776394157,"B":-2.9837965562575812,"C":10.280312239418466},{"x":87,"A":3.589276437389922,"B":-3.896235927533533,"C":10.03573806992704},{"x":88,"A":5.8843080381136845,"B":-4.2640836051247115,"C":9.934671335021413},{"x":89,"A":6.186648516912942,"B":-4.430111184483789,"C":11.84839468357104},{"x":90,"A":8.085869621459894,"B":-6.350532600938094,"C":12.380636385396421},{"x":91,"A":6.849342791141806,"B":-6.878129580865642,"C":11.674962012324283},{"x":92,"A":6.439318783290404,"B":-4.537634488239343,"C":13.328348191869885},{"x":93,"A":8.584311748046096,"B":-4.4005789387348715,"C":13.542636138085815},{"x":94,"A":9.091396622411045,"B":-3.2637797914986657,"C":13.932306222592794},{"x":95,"A":10.400201869968708,"B":-3.7862359692331258,"C":14.120842612592853},{"x":96,"A":9.834255337888843,"B":-3.126189417638066,"C":13.197603578660111},{"x":97,"A":10.736898371893789,"B":-3.6953011102037956,"C":12.161450637219664},{"x":98,"A":10.378609288136605,"B":-5.711403040312209,"C":11.75248432873493},{"x":99,"A":11.578138249216794,"B":-4.469410975176084,"C":12.620977027488097},{"x":100,"A":11.14764269000516,"B":-3.4126196099929644,"C":13.729811214977909}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 2 December 2024 11:06">Monday 2 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
