<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../graphs/">Graphs</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-e1622113-951c-4be2-abda-f0b84e90a824.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-e1622113-951c-4be2-abda-f0b84e90a824.vega-embed details,
  #vis-e1622113-951c-4be2-abda-f0b84e90a824.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-e1622113-951c-4be2-abda-f0b84e90a824"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-e1622113-951c-4be2-abda-f0b84e90a824") {
      outputDiv = document.getElementById("vis-e1622113-951c-4be2-abda-f0b84e90a824");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.3334432023984669,"B":-0.43901770322309847,"C":0.26047359237200596},{"x":2,"A":1.200958425094472,"B":-0.7765004425037647,"C":1.275732444426132},{"x":3,"A":1.8342882263861586,"B":-0.0996225915200889,"C":1.902458125433487},{"x":4,"A":0.9702357279242161,"B":-1.80682527157242,"C":2.3818904761575626},{"x":5,"A":1.5303609587221523,"B":-2.0570748339794576,"C":2.714255343076955},{"x":6,"A":2.3102157307418754,"B":-3.6029140412220104,"C":4.527221747216116},{"x":7,"A":1.5075392568507642,"B":-1.7874084095656988,"C":2.3641911808603604},{"x":8,"A":1.8349215254020077,"B":-1.3986512643767623,"C":1.5007086902488251},{"x":9,"A":3.013400757590168,"B":-0.4801054103822608,"C":2.0146785392997923},{"x":10,"A":3.9510635216894654,"B":-2.162407797371806,"C":2.072338255057084},{"x":11,"A":4.856197300019929,"B":-2.6189607962090165,"C":3.3794673603377046},{"x":12,"A":5.752668448677533,"B":-1.623405279946127,"C":2.6874973209257393},{"x":13,"A":7.348968798749961,"B":-1.2586814513228612,"C":3.2854183643685713},{"x":14,"A":6.9103655686192225,"B":0.02924174821986275,"C":3.355731532465997},{"x":15,"A":6.769958706479002,"B":-0.42069675790434297,"C":4.870981343203277},{"x":16,"A":7.208207728275269,"B":-1.205822107034947,"C":4.8863474684998165},{"x":17,"A":6.770086129047582,"B":-0.7841687852301492,"C":5.479721410838948},{"x":18,"A":7.659557088605907,"B":-0.36911038072170355,"C":3.8826103377068293},{"x":19,"A":8.29225307289633,"B":0.357934055627201,"C":5.930395052135146},{"x":20,"A":9.50792658025946,"B":0.036730112775999524,"C":4.294006556782647},{"x":21,"A":8.711019865828359,"B":-0.6866445862679795,"C":4.714611601885606},{"x":22,"A":9.740676571913365,"B":0.9861074572354946,"C":5.42315889014736},{"x":23,"A":8.435229672600201,"B":1.2970659498724368,"C":5.129109572436592},{"x":24,"A":10.845254650989256,"B":0.7112713044681769,"C":2.039697549672398},{"x":25,"A":11.63220677448793,"B":0.22632690553563845,"C":1.8259500036104863},{"x":26,"A":9.57331083525297,"B":1.2100452420910361,"C":2.2242271854516744},{"x":27,"A":10.068673039288852,"B":3.1847490702126504,"C":-0.508846712422773},{"x":28,"A":10.139227271255693,"B":1.753430598104465,"C":-0.13818362895183883},{"x":29,"A":9.39410942550886,"B":1.4827714739644908,"C":-0.6134118621267918},{"x":30,"A":10.579646348891572,"B":0.3754574880133514,"C":-0.7017825617325946},{"x":31,"A":8.968051496737013,"B":-0.4924041664214291,"C":-1.9611879315889191},{"x":32,"A":7.998634469559426,"B":-0.890536685034657,"C":-2.751587525119326},{"x":33,"A":8.298688891446494,"B":-1.0486029591413164,"C":-3.803619305589419},{"x":34,"A":8.592101850065836,"B":-2.694719559697806,"C":-5.406814990073575},{"x":35,"A":7.740901702408121,"B":-1.6636863172784482,"C":-4.651455975478617},{"x":36,"A":8.188351612297724,"B":-1.475122966865065,"C":-4.1732419998444374},{"x":37,"A":6.600152555345094,"B":-1.8047784974333054,"C":-4.142702050190637},{"x":38,"A":5.720752837809537,"B":-1.2316731954538815,"C":-3.9956571696717464},{"x":39,"A":3.9889999993477705,"B":0.35330343380386114,"C":-5.263894431634423},{"x":40,"A":4.139050623317589,"B":-0.35586190849267124,"C":-5.079019857846784},{"x":41,"A":3.168477501779638,"B":-0.23853257669628017,"C":-5.369420495449299},{"x":42,"A":1.892709384706981,"B":-0.19334150867834393,"C":-5.099829333650957},{"x":43,"A":1.278360551650662,"B":0.4108910230298423,"C":-5.772339655122291},{"x":44,"A":1.907649326358169,"B":-0.4566051983531619,"C":-6.103054369307602},{"x":45,"A":1.2831588043341506,"B":-2.2704699245517452,"C":-6.830823527102915},{"x":46,"A":1.7565215235807008,"B":-2.291199797444622,"C":-5.634923671692735},{"x":47,"A":1.4334142926599234,"B":-1.9868238288987026,"C":-5.808857899282437},{"x":48,"A":1.8840810561885504,"B":-2.61890938944032,"C":-6.931306631695628},{"x":49,"A":2.6405629303179743,"B":-1.8806617844148057,"C":-6.684103663353666},{"x":50,"A":2.940993012369802,"B":-1.2568775790596194,"C":-5.830082382424793},{"x":51,"A":3.711832075563656,"B":-3.1294675897930477,"C":-6.4155470733688365},{"x":52,"A":3.455211034879198,"B":-2.8607952342282728,"C":-6.338428323954137},{"x":53,"A":3.0340924984590156,"B":-4.549673519778665,"C":-6.662322714005895},{"x":54,"A":4.71561341883848,"B":-7.039822777121574,"C":-7.583414370781387},{"x":55,"A":3.6216214474510204,"B":-7.472846432018748,"C":-8.424884047620447},{"x":56,"A":4.24859597443707,"B":-8.58434955415881,"C":-8.648360852604949},{"x":57,"A":5.994887381866348,"B":-9.118951452300013,"C":-8.263732258194853},{"x":58,"A":6.133173326805971,"B":-8.604076647894361,"C":-8.233803058430386},{"x":59,"A":6.172829370781059,"B":-6.864201592341912,"C":-6.6833580261779355},{"x":60,"A":6.941016432047327,"B":-7.660111551669433,"C":-6.750013290386998},{"x":61,"A":7.420221881679387,"B":-8.546079224201362,"C":-7.873931766446428},{"x":62,"A":7.431734697667922,"B":-8.728532306661934,"C":-7.3675508190464045},{"x":63,"A":8.318968296196058,"B":-10.822165489408686,"C":-7.384744411331096},{"x":64,"A":6.652381661863271,"B":-9.43544301581836,"C":-5.736146835698207},{"x":65,"A":6.796155107730709,"B":-8.75481743505835,"C":-6.586009920224122},{"x":66,"A":8.48811502973911,"B":-8.762559677131826,"C":-5.590904566192727},{"x":67,"A":8.474767733700661,"B":-9.786363244391865,"C":-4.824752460323746},{"x":68,"A":8.092100453907287,"B":-9.360597217026418,"C":-5.479458081414786},{"x":69,"A":9.793555959300564,"B":-8.358106294789936,"C":-6.052239960186957},{"x":70,"A":8.282861581250348,"B":-10.064857160237256,"C":-5.042490028618906},{"x":71,"A":7.899474775211835,"B":-11.269429098139431,"C":-4.899116096913477},{"x":72,"A":6.80055155992817,"B":-9.086600018409799,"C":-5.3097835874614505},{"x":73,"A":6.190488027299794,"B":-8.49001944284048,"C":-4.243947122939236},{"x":74,"A":6.993958987531364,"B":-8.657532071706575,"C":-3.750633010138566},{"x":75,"A":7.112753546114714,"B":-10.075849856255426,"C":-3.639747140269677},{"x":76,"A":7.794403004116253,"B":-9.594367907768264,"C":-2.986759119828917},{"x":77,"A":7.527030339278182,"B":-9.95537261456675,"C":-2.319548383994487},{"x":78,"A":7.3062719404353675,"B":-9.392239982856326,"C":-0.823478006815667},{"x":79,"A":6.979686488748865,"B":-9.327410606679013,"C":-1.4478518710751622},{"x":80,"A":7.351545737785081,"B":-11.697738275713007,"C":-0.37171569472633237},{"x":81,"A":7.833656847292191,"B":-12.035653051399057,"C":0.3380083070690513},{"x":82,"A":9.73202385722115,"B":-10.266892229652878,"C":-0.5322404248243744},{"x":83,"A":9.06406931487386,"B":-9.928272317299434,"C":-0.3631199977007459},{"x":84,"A":7.579385324087161,"B":-8.8497327011517,"C":0.1215673372171564},{"x":85,"A":7.657939008636816,"B":-8.992607893248648,"C":-0.48140972781141567},{"x":86,"A":7.763307158634051,"B":-9.809164620491675,"C":0.5424190340910312},{"x":87,"A":7.616754451865852,"B":-9.472977813178481,"C":0.40887875653024},{"x":88,"A":7.2152991012178065,"B":-9.451469853926232,"C":-0.36367240997066985},{"x":89,"A":6.94596835586795,"B":-8.309488043923587,"C":-0.7360152361492786},{"x":90,"A":6.688242150166288,"B":-7.639872973364564,"C":-1.1444918425998045},{"x":91,"A":6.638627825665201,"B":-7.148898998714438,"C":-1.268021735832745},{"x":92,"A":7.834174345580162,"B":-5.1422280950170185,"C":-2.689079343171878},{"x":93,"A":6.924607733044609,"B":-5.906534890665041,"C":-1.6221062276564404},{"x":94,"A":8.09627050019706,"B":-6.165822631456073,"C":-1.5519608059977918},{"x":95,"A":7.546396762548766,"B":-6.612882782786966,"C":-0.6022249559879221},{"x":96,"A":8.480957132504617,"B":-5.365174033391094,"C":0.5529611182485575},{"x":97,"A":8.322600626741295,"B":-4.624664100528846,"C":1.332467572482844},{"x":98,"A":9.576691056265144,"B":-5.412456542463018,"C":0.9178653052740192},{"x":99,"A":9.591955885493265,"B":-7.0889578395482795,"C":-0.06635289964988977},{"x":100,"A":10.243248618422221,"B":-6.155996305511305,"C":0.9178931724824464}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 20 January 2025 15:19">Monday 20 January 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
