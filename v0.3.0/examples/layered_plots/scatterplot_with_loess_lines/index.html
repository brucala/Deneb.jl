<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl4320c9e6cf1240caa5a5913000f02b95' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl4320c9e6cf1240caa5a5913000f02b95',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.8911632415436133,"B":1.2640825635653279,"C":0.680457725130181},{"x":2,"A":0.14351281497953872,"B":1.1687500477423498,"C":-0.36081553286238},{"x":3,"A":1.7871036182722992,"B":0.39720505041538523,"C":-3.9549623590138894},{"x":4,"A":1.0963815909613204,"B":1.015760385401556,"C":-2.9714299983507946},{"x":5,"A":1.0108746383687506,"B":0.6229709100569392,"C":-2.727647146812201},{"x":6,"A":-0.7046753586523473,"B":1.578504648174123,"C":-0.2253531999342927},{"x":7,"A":-1.3410919182821228,"B":-0.4014417691187808,"C":0.4262873978729589},{"x":8,"A":-0.5150647279721658,"B":-0.08887252341370822,"C":1.478717252609594},{"x":9,"A":-2.041462418716214,"B":1.175901280993994,"C":1.2181959029159755},{"x":10,"A":-3.6299358934081303,"B":1.5798359444795118,"C":1.9086356808471194},{"x":11,"A":-1.2379996987025481,"B":1.448256175903756,"C":3.554603164912588},{"x":12,"A":-0.3616940110982547,"B":1.8710443388250517,"C":3.0612340200925328},{"x":13,"A":-0.539030975460979,"B":2.486806257588975,"C":4.09414659750762},{"x":14,"A":-1.321353949817293,"B":1.9163630599682717,"C":5.297746270118431},{"x":15,"A":-2.3195935095040605,"B":1.559715081595992,"C":3.8718139302350836},{"x":16,"A":-2.9545408881679016,"B":-0.35124161862856296,"C":4.1599722956853515},{"x":17,"A":-3.495598896308306,"B":-0.07116873651672395,"C":3.852909137697164},{"x":18,"A":-5.136430049368569,"B":-0.012279603431357922,"C":4.396078582216257},{"x":19,"A":-5.409455161783643,"B":-0.195105623716062,"C":4.679026696841732},{"x":20,"A":-4.532179625960251,"B":-0.22662175611883772,"C":5.756048997736803},{"x":21,"A":-5.27132707601952,"B":0.9070407966684615,"C":5.728572853507273},{"x":22,"A":-5.982969927361716,"B":2.355265388445085,"C":4.813737006241819},{"x":23,"A":-5.6456900632526,"B":2.21017680268283,"C":4.853172622237218},{"x":24,"A":-6.0074747065586,"B":1.527900771974101,"C":5.070862630254506},{"x":25,"A":-6.993045995287915,"B":0.5534887065298965,"C":5.012407793312886},{"x":26,"A":-7.892006620829956,"B":0.9689493814991357,"C":5.123223082476597},{"x":27,"A":-10.379037222614876,"B":-0.15098438872095232,"C":4.038200253892192},{"x":28,"A":-10.505948392763468,"B":-0.8000795242072778,"C":3.9152135098649525},{"x":29,"A":-11.265733345210261,"B":0.10246663514531473,"C":5.185882376536977},{"x":30,"A":-10.797843462871139,"B":1.7455341833706435,"C":4.319472727077565},{"x":31,"A":-10.83856378416628,"B":1.9425868112726268,"C":4.273212291100031},{"x":32,"A":-9.333135289186036,"B":2.3194366382740927,"C":3.910635149258507},{"x":33,"A":-7.692658050799351,"B":2.156539928153393,"C":4.544638344836312},{"x":34,"A":-8.187042592299115,"B":1.5487684142546827,"C":2.650077275963972},{"x":35,"A":-8.497216364998344,"B":2.193144957749042,"C":2.108308171447395},{"x":36,"A":-8.298021856998819,"B":2.8482138518247213,"C":2.866774155216302},{"x":37,"A":-9.140417194915322,"B":4.670599087463652,"C":0.8138848686518273},{"x":38,"A":-10.035417954442476,"B":3.7346028842133356,"C":0.06481582539361519},{"x":39,"A":-8.58565336907549,"B":4.829941233039413,"C":0.6032693715750747},{"x":40,"A":-7.262659888100983,"B":4.756203409212935,"C":1.782611579109168},{"x":41,"A":-7.691433889344741,"B":5.940967195200834,"C":1.0788570994938114},{"x":42,"A":-6.989996997107604,"B":5.625465005086041,"C":1.6683865320243523},{"x":43,"A":-7.944585471670547,"B":6.312103496158649,"C":2.7473097336708845},{"x":44,"A":-7.7787725698445565,"B":4.908286502401849,"C":2.579289711279768},{"x":45,"A":-6.675664392172132,"B":5.228580996442039,"C":4.247260824915992},{"x":46,"A":-6.661770315062407,"B":4.2422117415614045,"C":4.557069409787462},{"x":47,"A":-7.488817298792523,"B":4.757460065754866,"C":3.9183970348130313},{"x":48,"A":-6.75590109316672,"B":5.298793586287361,"C":4.699903735127858},{"x":49,"A":-5.9792202090935,"B":4.626480394827068,"C":5.475444901009424},{"x":50,"A":-7.475739671230801,"B":5.240316559182719,"C":5.586575849202812},{"x":51,"A":-6.484541710648987,"B":4.329739438634704,"C":6.414300066878871},{"x":52,"A":-6.819261942649839,"B":3.5505274235209274,"C":6.233913647695865},{"x":53,"A":-7.730221219100581,"B":4.5353499754281845,"C":6.447700194233434},{"x":54,"A":-6.34971332696262,"B":6.043539210220459,"C":6.187428387182358},{"x":55,"A":-4.945762388293325,"B":4.967207548766182,"C":6.687312167570489},{"x":56,"A":-5.611917667844145,"B":5.776740682471527,"C":6.982218111472594},{"x":57,"A":-4.78521068511033,"B":5.150754972120958,"C":8.221852990800349},{"x":58,"A":-5.263651733912296,"B":4.216400238854957,"C":6.978724562141239},{"x":59,"A":-6.325702438317535,"B":4.042186203137828,"C":4.627338642990994},{"x":60,"A":-7.499064449106764,"B":4.705300827199229,"C":4.543486357016687},{"x":61,"A":-8.713917594487636,"B":7.5606936558524716,"C":3.136137948489933},{"x":62,"A":-8.065743149657013,"B":5.908180276089643,"C":3.1506566248528016},{"x":63,"A":-6.892885995234141,"B":7.056948458570039,"C":4.456956347261021},{"x":64,"A":-9.484332245111528,"B":7.439070770029157,"C":4.924201666218554},{"x":65,"A":-9.08168819448409,"B":7.657069347715752,"C":4.104296946584238},{"x":66,"A":-8.27811730337639,"B":6.810652613504984,"C":4.7760380497054005},{"x":67,"A":-8.969883900375162,"B":6.858372100456242,"C":5.5258685144067305},{"x":68,"A":-8.828734593606605,"B":8.966870716600571,"C":7.094641987620752},{"x":69,"A":-9.729225896719594,"B":9.864938964816718,"C":7.120400993612986},{"x":70,"A":-8.927243773735096,"B":8.780763155386332,"C":7.392892442269622},{"x":71,"A":-7.47541713447552,"B":8.702668218113299,"C":6.642666642412469},{"x":72,"A":-7.891465640851233,"B":8.942089055152842,"C":6.765942193525953},{"x":73,"A":-7.140261094351707,"B":9.190338818251686,"C":7.323539662142811},{"x":74,"A":-5.971913932546995,"B":7.58652100324082,"C":4.722927117438394},{"x":75,"A":-6.558453757680987,"B":9.31793817249903,"C":6.358214724909263},{"x":76,"A":-5.881262670429051,"B":9.188028994010615,"C":5.498250696938171},{"x":77,"A":-7.495546247064511,"B":9.068985083857374,"C":4.956977437300624},{"x":78,"A":-7.756202748528993,"B":11.610322448148608,"C":5.24335534559616},{"x":79,"A":-8.420829450889538,"B":12.064171811250649,"C":6.30337836527465},{"x":80,"A":-6.5857735448901815,"B":12.373857302292317,"C":7.458620070501651},{"x":81,"A":-6.6529131799081345,"B":11.994452315142984,"C":6.646561582538602},{"x":82,"A":-7.37966479602215,"B":12.534236625123137,"C":5.491080075620691},{"x":83,"A":-8.04759236394133,"B":13.719821343908162,"C":4.481075872826886},{"x":84,"A":-7.786302664385931,"B":14.852442398146625,"C":5.468149814942659},{"x":85,"A":-7.931763965314638,"B":15.899201675947891,"C":4.61484622326079},{"x":86,"A":-7.671272271342702,"B":16.582338527347844,"C":4.3488893833906745},{"x":87,"A":-6.734471299929732,"B":18.227114998430906,"C":4.570431148719878},{"x":88,"A":-6.1363515907885064,"B":18.5722171647477,"C":4.35875804204084},{"x":89,"A":-6.1305545036179545,"B":17.819005456585572,"C":3.4146659854079067},{"x":90,"A":-6.279577499180883,"B":19.24657904491562,"C":4.9074427691804745},{"x":91,"A":-6.020496867768601,"B":18.66818302714215,"C":7.351622860152467},{"x":92,"A":-5.759627976104391,"B":16.768439242660072,"C":7.595588875503162},{"x":93,"A":-5.47566920928625,"B":16.351246657330947,"C":7.24501397792396},{"x":94,"A":-6.544151644432359,"B":16.811073456507707,"C":7.760084048622227},{"x":95,"A":-8.119736929275916,"B":17.376173424018322,"C":8.285108750037836},{"x":96,"A":-6.783718843924703,"B":17.16626747586743,"C":7.213323560510646},{"x":97,"A":-6.008689083340933,"B":15.716232147111912,"C":8.084779599323127},{"x":98,"A":-6.143856276459946,"B":15.100233238739328,"C":8.171270636828272},{"x":99,"A":-4.869049203376647,"B":16.39211331897689,"C":5.9356630074588415},{"x":100,"A":-5.957624942771473,"B":14.174222311133937,"C":6.106283046306181}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Saturday 15 July 2023 13:30">Saturday 15 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
