<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl0d84c7b75d964cb681954eef55dde2e1' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl0d84c7b75d964cb681954eef55dde2e1',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-1.7500696851099842,"B":-0.4238396995212467,"C":0.13814037599864837},{"x":2,"A":-2.236821047318938,"B":1.0581660007324742,"C":1.3858935826423828},{"x":3,"A":-0.9620719515959401,"B":2.0314443200985397,"C":2.57777635275022},{"x":4,"A":-1.8401015893106698,"B":1.5552655291038175,"C":2.0114525876254645},{"x":5,"A":-3.35488431841273,"B":1.555136328737871,"C":2.547524527033886},{"x":6,"A":-2.7830548019813506,"B":1.346417497743242,"C":2.0826084403015885},{"x":7,"A":-3.540169351662822,"B":1.642543692168851,"C":0.6582197721607688},{"x":8,"A":-4.907207390520735,"B":-0.1491126581156172,"C":-0.11448780678536508},{"x":9,"A":-6.3700009191562526,"B":1.105888869200041,"C":-0.19581897068351922},{"x":10,"A":-4.973305881195462,"B":1.0700716449154246,"C":1.1980787366810899},{"x":11,"A":-4.279196336423237,"B":1.2937674625875326,"C":2.1422121095253237},{"x":12,"A":-4.953762663114183,"B":0.6166689315425566,"C":2.465400678364124},{"x":13,"A":-2.727306595499505,"B":1.2109749973572428,"C":2.7581209946072107},{"x":14,"A":-0.8443859778058012,"B":3.085937414935145,"C":3.1489434762930326},{"x":15,"A":-2.203232290215733,"B":2.9765316926798717,"C":3.0911003609791488},{"x":16,"A":-2.407783739208668,"B":1.748723937887339,"C":2.614383778182691},{"x":17,"A":-2.0787392840811814,"B":1.811838266014031,"C":3.322470140502551},{"x":18,"A":-2.5986240701284795,"B":1.5856564925408585,"C":2.1869056696515727},{"x":19,"A":-2.782841060341533,"B":1.4845149421990402,"C":1.836677258559571},{"x":20,"A":-4.584580361916437,"B":0.1872730583592706,"C":2.005647449651823},{"x":21,"A":-2.8294233894777774,"B":0.43696061078918375,"C":1.4395298138211452},{"x":22,"A":-3.638633149400313,"B":-1.02504803854328,"C":1.9424236874296699},{"x":23,"A":-4.018005823282815,"B":-0.6443983783238666,"C":2.039634374525105},{"x":24,"A":-4.0738291035485235,"B":-0.7341542250727471,"C":0.5455906950734113},{"x":25,"A":-3.96904011244443,"B":-1.0845943622742966,"C":-0.7682494556941688},{"x":26,"A":-3.3715069718744615,"B":0.007391182216173908,"C":-0.07833339616437818},{"x":27,"A":-3.5671868026268823,"B":0.02320127414169887,"C":1.7557026762396222},{"x":28,"A":-4.191544610941837,"B":1.1213719973402423,"C":0.7109135900070391},{"x":29,"A":-4.8693724770126146,"B":0.005372220248432369,"C":2.544872333120721},{"x":30,"A":-2.9194097164072526,"B":-0.3335331032011209,"C":2.081702406672252},{"x":31,"A":-3.6779410828845274,"B":0.40186925430068027,"C":2.5562709084308404},{"x":32,"A":-2.8311459450715812,"B":-0.4259364170855858,"C":3.4013256029902905},{"x":33,"A":-2.764554416560629,"B":0.09613021659350157,"C":2.296623613129725},{"x":34,"A":-3.441656984239089,"B":0.7758642287462614,"C":3.129760536921088},{"x":35,"A":-3.6689577496117245,"B":3.0438092906702963,"C":2.9498168540529495},{"x":36,"A":-3.816059855156192,"B":2.7615551643587155,"C":2.064230327420886},{"x":37,"A":-4.484088132484271,"B":2.110417136494455,"C":3.712736494310593},{"x":38,"A":-5.149333422425443,"B":2.9199725557998675,"C":3.893434028800148},{"x":39,"A":-3.7189182469494515,"B":1.5016386818012994,"C":2.7543517055599427},{"x":40,"A":-3.8929873865991587,"B":0.8296574800734395,"C":2.4223633986265245},{"x":41,"A":-2.3101679370021673,"B":0.8302202885866443,"C":1.3001798718177224},{"x":42,"A":-1.5572313495121406,"B":0.7524656289052214,"C":1.7911723305087848},{"x":43,"A":0.19256448247036473,"B":1.080893784014681,"C":1.2432414246044583},{"x":44,"A":-0.8080795732014983,"B":0.7297944197184629,"C":1.8863786033493672},{"x":45,"A":0.32938015832018364,"B":-0.5137041185662286,"C":1.7599741095495949},{"x":46,"A":0.41995710194006186,"B":-0.677698841583116,"C":0.13783339541254191},{"x":47,"A":1.450239975031971,"B":-1.7642784428119427,"C":0.5118799285256215},{"x":48,"A":1.5324524575004395,"B":-3.4898756151972563,"C":0.4943183653439508},{"x":49,"A":1.1794441785562602,"B":-3.7161923261432572,"C":2.786217717659836},{"x":50,"A":2.027787822231739,"B":-3.1731919538465334,"C":3.4529897978458104},{"x":51,"A":3.924649113834804,"B":-1.343763025825396,"C":3.826650987320785},{"x":52,"A":3.5451479644500012,"B":-0.5850106255952638,"C":3.1490294651493116},{"x":53,"A":3.979175535727846,"B":-1.0763287660396643,"C":1.2848690386307082},{"x":54,"A":3.715525703039654,"B":1.1128813682377596,"C":0.6793736023580125},{"x":55,"A":3.0616651877062995,"B":1.2609798106105026,"C":-0.8968489261172918},{"x":56,"A":3.1994868478022815,"B":2.31692623356253,"C":0.4139404678556755},{"x":57,"A":3.7656674145335445,"B":1.8610098063214053,"C":1.32161936092138},{"x":58,"A":4.561673427694316,"B":2.2102176316503517,"C":1.663412644973954},{"x":59,"A":4.920542146358757,"B":2.138836731268534,"C":0.540076408668207},{"x":60,"A":5.286831216326927,"B":2.305111509732958,"C":1.2763477108244612},{"x":61,"A":6.438730353202724,"B":1.0080209583458866,"C":1.7421811959233897},{"x":62,"A":5.875353780993626,"B":0.25813849768303215,"C":1.5961950454037384},{"x":63,"A":6.0580117010739745,"B":1.3582396245439414,"C":1.2911058930897046},{"x":64,"A":4.559634318327747,"B":1.4979179601138162,"C":-1.5479028758228732},{"x":65,"A":2.2691702111214647,"B":0.9120849366532233,"C":-1.8645970008924235},{"x":66,"A":2.299727718669066,"B":2.3738411672627184,"C":-3.129348698132251},{"x":67,"A":2.369829066278227,"B":0.30285283649023637,"C":-2.3572923109255557},{"x":68,"A":0.5290989233210319,"B":0.7213205108776419,"C":-0.17222068177156857},{"x":69,"A":-1.2401624081497937,"B":0.8120354372146019,"C":-1.1280464917216635},{"x":70,"A":-1.537012808290703,"B":-0.003628123963655583,"C":0.16815480527235183},{"x":71,"A":-2.4181810855431234,"B":-0.12306716352986719,"C":0.6360054816829119},{"x":72,"A":-2.2104207191458176,"B":-0.02276875044429494,"C":1.141259662372253},{"x":73,"A":-2.3364585056431015,"B":2.3688834721896863,"C":1.7796177045127395},{"x":74,"A":-2.0228240700568803,"B":0.419214455720002,"C":1.5867662422840818},{"x":75,"A":-1.8865816659119279,"B":-0.1366696424157901,"C":1.5613635433232593},{"x":76,"A":-1.366614128695329,"B":-0.32061795051044734,"C":2.647876340846313},{"x":77,"A":-3.9656472889260255,"B":-0.48604639786850434,"C":0.3369700293492677},{"x":78,"A":-3.802967243175449,"B":0.8593709363639086,"C":1.6821070468782728},{"x":79,"A":-4.7877805447572985,"B":1.886049601725325,"C":2.266015000438154},{"x":80,"A":-3.3992336152162284,"B":1.1285905412534465,"C":2.755473070201843},{"x":81,"A":-3.380604084780634,"B":0.28700397978971753,"C":3.3466101863082205},{"x":82,"A":-3.309786880739386,"B":0.6732622186946935,"C":3.9019586209186006},{"x":83,"A":-3.938636443885884,"B":-0.9118005489290666,"C":3.162992579561161},{"x":84,"A":-5.2146648907129585,"B":-0.4051875312331051,"C":1.9098783565230801},{"x":85,"A":-3.8321727218001054,"B":-0.5031350077837784,"C":1.0234325146974421},{"x":86,"A":-4.224791459504819,"B":-0.27783669970022296,"C":0.9168419178321066},{"x":87,"A":-4.699254838434285,"B":-0.6386652897723504,"C":0.910349146787145},{"x":88,"A":-5.191072801039963,"B":-0.8579645993542951,"C":0.4419835567584084},{"x":89,"A":-8.124281408846786,"B":0.693802770875785,"C":-0.4680542388981068},{"x":90,"A":-8.594624670428658,"B":-0.3224437757840472,"C":0.7505743866162902},{"x":91,"A":-7.86312746787417,"B":-0.2789965090735225,"C":1.5252233287945975},{"x":92,"A":-7.778318198541514,"B":-0.3167047159466858,"C":0.6701165838096765},{"x":93,"A":-7.63441531074244,"B":-1.121897875950851,"C":0.6241566283107391},{"x":94,"A":-5.837108550320474,"B":-1.9030428103176837,"C":0.8796714018766192},{"x":95,"A":-8.601313878209371,"B":-0.37976398582810317,"C":1.0125121108436261},{"x":96,"A":-9.916758265647783,"B":0.20934676772634003,"C":0.8791297594792852},{"x":97,"A":-11.01802738675555,"B":0.6162056867545815,"C":1.9327549746761756},{"x":98,"A":-11.06707462568047,"B":1.3607357668511857,"C":3.0211201030703583},{"x":99,"A":-10.098363061675409,"B":0.06481519302256294,"C":4.602987640438331},{"x":100,"A":-9.88266848969639,"B":1.2188293748210466,"C":4.518556020045754}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 6 July 2023 15:55">Thursday 6 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
