<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data, Mark and Encoding · Deneb.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Deneb.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../intro/">Introduction</a></li><li class="is-active"><a class="tocitem" href>Data, Mark and Encoding</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Data"><span>Data</span></a></li><li><a class="tocitem" href="#Tabular-data"><span>Tabular data</span></a></li><li><a class="tocitem" href="#Data-from-a-URL"><span>Data from a URL</span></a></li><li><a class="tocitem" href="#Data-generators"><span>Data generators</span></a></li><li class="toplevel"><a class="tocitem" href="#Mark"><span>Mark</span></a></li><li class="toplevel"><a class="tocitem" href="#Encoding"><span>Encoding</span></a></li></ul></li><li><a class="tocitem" href="../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../multiview/">Multi-views</a></li><li><a class="tocitem" href="../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../examples/">Gallery</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Data, Mark and Encoding</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data, Mark and Encoding</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/src/data_mark_encoding.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Building-Blocks-of-a-Vega-Lite-Visualization"><a class="docs-heading-anchor" href="#Building-Blocks-of-a-Vega-Lite-Visualization">Building Blocks of a Vega-Lite Visualization</a><a id="Building-Blocks-of-a-Vega-Lite-Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Building-Blocks-of-a-Vega-Lite-Visualization" title="Permalink"></a></h1><p>The <code>data</code>, <code>mark</code> and <code>encoding</code> properties of a Vega-Lite specification are the basic building blocks of a Vega-Lite visualization. In the Deneb.jl, sub-specifications for these properties can conveniently be defined using <code>Data</code>, <code>Mark</code>, and <code>Encoding</code> and then composed using the <code>*</code> operator to build the final specification.</p><pre><code class="language-julia hljs">using Deneb
cars = &quot;https://vega.github.io/vega-datasets/data/cars.json&quot;
Data(url=cars) * Mark(:point) * Encoding(
    &quot;Horsepower:q&quot;,
    &quot;Miles_per_Gallon:q&quot;,
    color=:Origin
)</code></pre><div id='vl5d79700f16ae4d00be5407e2f4d77a02' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl5d79700f16ae4d00be5407e2f4d77a02',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"data":{"url":"https://vega.github.io/vega-datasets/data/cars.json"},"mark":{"type":"point"},"encoding":{"color":{"field":"Origin"},"x":{"field":"Horsepower","type":"quantitative"},"y":{"field":"Miles_per_Gallon","type":"quantitative"}}},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Data"><a class="docs-heading-anchor" href="#Data">Data</a><a id="Data-1"></a><a class="docs-heading-anchor-permalink" href="#Data" title="Permalink"></a></h1><p>Similar to Vega-Lite, in Deneb.jl a dataset can be defined in several ways:</p><ul><li>as tabular data,</li><li>as a URL from which to load the data</li><li>or as any of Vega-Lite&#39;s data generators</li></ul><h2 id="Tabular-data"><a class="docs-heading-anchor" href="#Tabular-data">Tabular data</a><a id="Tabular-data-1"></a><a class="docs-heading-anchor-permalink" href="#Tabular-data" title="Permalink"></a></h2><p>Deneb.jl accepts any tabular data that supports the <a href="https://github.com/JuliaData/Tables.jl">Tables.jl</a> interface (e.g. <a href="https://github.com/JuliaData/DataFrames.jl">DataFrames.jl</a> or any of <a href="https://github.com/JuliaData/Tables.jl/blob/main/INTEGRATIONS.md">these formats</a>) by simply passing the data to <code>Data</code>.</p><pre><code class="language-julia hljs">data = (a=[1, 2], b=[&quot;potato&quot;, &quot;tomato&quot;])
Data(data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Deneb.DataSpec: 
{
  &quot;values&quot;: [
    {
      &quot;a&quot;: 1,
      &quot;b&quot;: &quot;potato&quot;
    },
    {
      &quot;a&quot;: 2,
      &quot;b&quot;: &quot;tomato&quot;
    }
  ]
}
</code></pre><p>In the example above the source data was simply a <code>NamedTuple</code>, but it could&#39;ve been for instance a <code>DataFrame</code>.</p><pre><code class="language- hljs">using DataFrames
Data(DataFrame(data))</code></pre><p>As shown in the output, Deneb.jl is in charge to internally transform this data into an appropriate spec with a format that Vega-Lite can interpret.</p><h2 id="Data-from-a-URL"><a class="docs-heading-anchor" href="#Data-from-a-URL">Data from a URL</a><a id="Data-from-a-URL-1"></a><a class="docs-heading-anchor-permalink" href="#Data-from-a-URL" title="Permalink"></a></h2><p>Alternatively, data can be loaded from a URL using the <code>url</code> keyword argument.</p><pre><code class="language-julia hljs">Data(url=&quot;https://vega.github.io/vega-datasets/data/cars.json&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Deneb.DataSpec: 
{
  &quot;url&quot;: &quot;https://vega.github.io/vega-datasets/data/cars.json&quot;
}
</code></pre><p>Other properties can be specified to ensure that the loaded data is correctly parsed by Vega-Lite.</p><pre><code class="language-julia hljs">Data(
   url=&quot;https://vega.github.io/vega-datasets/data/us-10m.json&quot;,
    format=(type=:topojson, feature=:states),
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Deneb.DataSpec: 
{
  &quot;url&quot;: &quot;https://vega.github.io/vega-datasets/data/us-10m.json&quot;,
  &quot;format&quot;: {
    &quot;type&quot;: &quot;topojson&quot;,
    &quot;feature&quot;: &quot;states&quot;
  }
}
</code></pre><p>To learn more about the formats accepted by Vega-Lite and the properties describing a data source from URL, refer to <a href="https://vega.github.io/vega-lite/docs/data.html#url">Vega-Lite&#39;s documention</a>.</p><h2 id="Data-generators"><a class="docs-heading-anchor" href="#Data-generators">Data generators</a><a id="Data-generators-1"></a><a class="docs-heading-anchor-permalink" href="#Data-generators" title="Permalink"></a></h2><p>Deneb.jl also provides a simple API to define data using any of the <a href="https://vega.github.io/vega-lite/docs/data.html#data-generators">data generators</a> available in Vega-Lite. The generator type (currently Vega-Lite provides a <code>sequence</code>, a <code>graticule</code> and a <code>sphere</code> generator) can be specified as a positional argument of type <code>String</code> or <code>Symbol</code>, while the properties defining the generator can be specified as keyword arguments.</p><pre><code class="language-julia hljs">Data(:graticule, step=[15, 15]) * Mark(:geoshape) * projection(:orthographic, rotate=[0, -45, 0])</code></pre><div id='vl75c71fa52b7e43ff8b475e2b77de880d' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl75c71fa52b7e43ff8b475e2b77de880d',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"data":{"graticule":{"step":[15,15]}},"mark":{"type":"geoshape"},"projection":{"type":"orthographic","rotate":[0,-45,0]}},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Mark"><a class="docs-heading-anchor" href="#Mark">Mark</a><a id="Mark-1"></a><a class="docs-heading-anchor-permalink" href="#Mark" title="Permalink"></a></h1><p>The <code>mark</code> property of a Vega-Lite specification can be defined in Deneb.jl using <code>Mark</code>, where the positional argument defines the <code>mark</code> type (<code>point</code>, <code>bar</code>, <code>line</code>,...) as a <code>String</code> or a <code>Symbol</code>.</p><pre><code class="language-julia hljs">Mark(:point)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Deneb.MarkSpec: 
{
  &quot;type&quot;: &quot;point&quot;
}
</code></pre><p>And the the keyword arguments define the other optional properties of the mark.</p><pre><code class="language-julia hljs">Mark(:errorband, extent=:ci, borders=(opacity=0.5, strokeDash=[6, 4]))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Deneb.MarkSpec: 
{
  &quot;type&quot;: &quot;errorband&quot;,
  &quot;extent&quot;: &quot;ci&quot;,
  &quot;borders&quot;: {
    &quot;opacity&quot;: 0.5,
    &quot;strokeDash&quot;: [
      6,
      4
    ]
  }
}
</code></pre><p>Refer to <a href="https://vega.github.io/vega-lite/docs/mark.html">Vega-Lite&#39;s documentation</a> to learn more about the mark types and their properties.</p><h1 id="Encoding"><a class="docs-heading-anchor" href="#Encoding">Encoding</a><a id="Encoding-1"></a><a class="docs-heading-anchor-permalink" href="#Encoding" title="Permalink"></a></h1></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../intro/">« Introduction</a><a class="docs-footer-nextpage" href="../composition_and_layering/">Composition and Layering »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Saturday 1 July 2023 19:05">Saturday 1 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
