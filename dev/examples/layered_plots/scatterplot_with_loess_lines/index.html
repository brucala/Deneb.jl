<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../graphs/">Graphs</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-6596ec9b-f7dd-4c1b-9edc-cff680545215.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-6596ec9b-f7dd-4c1b-9edc-cff680545215.vega-embed details,
  #vis-6596ec9b-f7dd-4c1b-9edc-cff680545215.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-6596ec9b-f7dd-4c1b-9edc-cff680545215"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-6596ec9b-f7dd-4c1b-9edc-cff680545215") {
      outputDiv = document.getElementById("vis-6596ec9b-f7dd-4c1b-9edc-cff680545215");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.9564646319706147,"B":-1.3361020790745537,"C":0.14791071442705908},{"x":2,"A":2.021777569130416,"B":-2.741990679035138,"C":0.6613716498534333},{"x":3,"A":1.4793458620883393,"B":-1.5129993436782216,"C":1.4942859219624942},{"x":4,"A":-1.797790341478218,"B":-1.063489687009301,"C":0.21558684708284528},{"x":5,"A":-2.3703790677899788,"B":-1.000690679383076,"C":-0.635693392373936},{"x":6,"A":-1.9491895860561697,"B":-2.588314285003902,"C":-0.48222131873257434},{"x":7,"A":-2.778327173335372,"B":-4.166508791577553,"C":-0.632537231096273},{"x":8,"A":-1.7579216167585516,"B":-3.4758517925149928,"C":0.5005042513434766},{"x":9,"A":-2.3911064758954756,"B":-3.9109476164452106,"C":1.8925122768428742},{"x":10,"A":-1.3139402509049531,"B":-4.052993403914776,"C":2.8798027576389646},{"x":11,"A":-2.4253148625888956,"B":-3.711026198490816,"C":3.1618591366787197},{"x":12,"A":-2.1096712313575443,"B":-4.645551918806448,"C":2.625486448601495},{"x":13,"A":-1.7922755715666197,"B":-5.044504113814535,"C":3.2686850905038165},{"x":14,"A":0.7961179543571177,"B":-4.034110211893587,"C":4.387261599351563},{"x":15,"A":1.6046802816822225,"B":-3.881949299420425,"C":4.279697255829712},{"x":16,"A":1.9607095358041244,"B":-3.318507428427867,"C":3.990567247502337},{"x":17,"A":2.1268598527642313,"B":-3.035145079104898,"C":4.466417387515087},{"x":18,"A":2.4739710554289527,"B":-3.618284926297024,"C":5.179847494345291},{"x":19,"A":3.726702148414115,"B":-2.7170082272456444,"C":4.149633749608531},{"x":20,"A":3.6122988632419837,"B":-2.201489299210675,"C":4.159552437737753},{"x":21,"A":4.058858449449915,"B":-2.5428956328809114,"C":5.602190938725339},{"x":22,"A":4.390923786280669,"B":-1.8075202317443781,"C":7.365370121525276},{"x":23,"A":7.274434152683357,"B":-2.058505630383521,"C":7.094933678168921},{"x":24,"A":8.95485741486276,"B":-1.8015774802484315,"C":8.578045701098326},{"x":25,"A":9.246663322930031,"B":-2.0876406411012685,"C":8.743511326183077},{"x":26,"A":11.626797353492016,"B":-0.7516707581997952,"C":9.178954234430972},{"x":27,"A":12.769141808793112,"B":-0.8962122047830958,"C":10.514672782164867},{"x":28,"A":10.97634593297915,"B":-1.2572368244916472,"C":9.880880265690209},{"x":29,"A":9.117370726142276,"B":-1.172104112282025,"C":10.305108532709799},{"x":30,"A":9.69782407583452,"B":-2.3089308788837912,"C":9.928065446153234},{"x":31,"A":9.260812014315361,"B":-2.230872688883394,"C":9.20894259729665},{"x":32,"A":9.432001584027738,"B":-1.8733297151774098,"C":9.746674690366808},{"x":33,"A":8.268688285216319,"B":-1.7562432819257816,"C":8.197038332212635},{"x":34,"A":8.159741046273155,"B":-1.3579579824838863,"C":9.089357263548722},{"x":35,"A":6.4257974584445545,"B":-2.942526158004231,"C":8.847403352247708},{"x":36,"A":5.7353081219224435,"B":-3.897230514415755,"C":10.602626130028197},{"x":37,"A":5.32512702670304,"B":-4.378745108967203,"C":11.35022523758289},{"x":38,"A":4.990873952196101,"B":-4.776045504471774,"C":13.146221901390271},{"x":39,"A":4.221137868944201,"B":-2.131900868503223,"C":11.519672654849202},{"x":40,"A":4.083399434204416,"B":-3.374255255068668,"C":14.011535132736714},{"x":41,"A":3.306497740204013,"B":-3.040438581607246,"C":14.52238252421737},{"x":42,"A":3.538656693601827,"B":-3.3600411118254527,"C":14.973788939841944},{"x":43,"A":3.1140411931278873,"B":-3.8922202544640854,"C":13.677227759238438},{"x":44,"A":2.978362533379559,"B":-3.800296372343599,"C":12.236523710691678},{"x":45,"A":2.4933955481252648,"B":-4.5980426621278,"C":11.726981202636924},{"x":46,"A":3.723947048858297,"B":-4.531740970833367,"C":13.368167003442462},{"x":47,"A":2.0186498241073734,"B":-4.636438408619352,"C":14.723334043491313},{"x":48,"A":2.3932713237412018,"B":-4.413618570228964,"C":13.614389105751435},{"x":49,"A":2.2095827742795375,"B":-5.621374738025413,"C":12.1009644057878},{"x":50,"A":2.2082533945886165,"B":-8.513894420039533,"C":11.15633218703829},{"x":51,"A":2.0303429921601515,"B":-7.683085206674428,"C":11.254681378909384},{"x":52,"A":0.30985737180561124,"B":-8.203059084530262,"C":11.214983546419589},{"x":53,"A":1.142852670360738,"B":-9.716484754423977,"C":10.645095810971464},{"x":54,"A":0.8619539607443182,"B":-10.832292041398917,"C":10.854006053239209},{"x":55,"A":-0.5727746614702924,"B":-10.32914353927582,"C":9.461759053417694},{"x":56,"A":-1.5535317705098783,"B":-10.302769385748551,"C":9.646159690277814},{"x":57,"A":-2.0509356333763114,"B":-11.892164196885258,"C":10.52604090710546},{"x":58,"A":-3.4006447774682185,"B":-12.843800702402852,"C":9.182786621045405},{"x":59,"A":-2.508518802443854,"B":-12.272862421711281,"C":10.535555335473429},{"x":60,"A":-1.8514654593935893,"B":-13.117021074027335,"C":9.915726027771896},{"x":61,"A":-2.3472053904482033,"B":-13.280009169792079,"C":10.300579965020725},{"x":62,"A":-1.6044389790085523,"B":-13.481371036133865,"C":10.361754371532172},{"x":63,"A":-2.3726987073745436,"B":-11.86490829998862,"C":10.742706017377035},{"x":64,"A":-3.349059351466188,"B":-14.840277905656958,"C":10.16996455664141},{"x":65,"A":-3.713878830262443,"B":-13.517829806321839,"C":10.413748763955093},{"x":66,"A":-4.233719033020408,"B":-12.41785155189807,"C":11.945531588635511},{"x":67,"A":-3.3821555199066475,"B":-11.628438023173816,"C":10.71814112361771},{"x":68,"A":-3.0807883289604723,"B":-11.867191161825147,"C":9.61685105656704},{"x":69,"A":-3.7064196413634853,"B":-10.471662544197816,"C":7.18393220925908},{"x":70,"A":-4.592283050875523,"B":-12.245929933251979,"C":8.13864496247432},{"x":71,"A":-4.213456396361447,"B":-11.415226853962793,"C":5.836912550152428},{"x":72,"A":-4.504903149855901,"B":-12.875340810553624,"C":5.826255809470013},{"x":73,"A":-6.691156841211646,"B":-12.451817205925174,"C":6.384831690100533},{"x":74,"A":-6.247288151504629,"B":-12.416421455748225,"C":5.956485394703772},{"x":75,"A":-6.230054557368898,"B":-11.210346088650207,"C":6.650810320747997},{"x":76,"A":-6.661114652963663,"B":-9.541453342603539,"C":4.743554253922806},{"x":77,"A":-5.468818982316974,"B":-10.492648185256337,"C":3.3943626481491713},{"x":78,"A":-6.27868823642937,"B":-10.42432957067429,"C":3.5484047627664435},{"x":79,"A":-7.422047772161664,"B":-10.908488734670042,"C":3.092259527553748},{"x":80,"A":-8.074145646393875,"B":-10.184803364437492,"C":3.174015085945138},{"x":81,"A":-7.852132516931231,"B":-10.189693032904945,"C":4.251709098306037},{"x":82,"A":-5.824930692728092,"B":-10.089738037492289,"C":3.4265034324008248},{"x":83,"A":-5.4173292629378045,"B":-9.296652920075722,"C":2.416954440429744},{"x":84,"A":-5.933916611379277,"B":-10.043590520661564,"C":2.3283448462259826},{"x":85,"A":-5.0876603511313405,"B":-11.472910339515817,"C":2.8798396819205605},{"x":86,"A":-4.171997408713723,"B":-10.997072665394969,"C":3.034454727444611},{"x":87,"A":-4.999490151696605,"B":-12.014471317772017,"C":3.1591727277516846},{"x":88,"A":-3.7035267691495974,"B":-11.726470772439958,"C":1.8853043940464274},{"x":89,"A":-4.349234370870889,"B":-11.43233396472326,"C":1.3354068651904807},{"x":90,"A":-4.270754524117958,"B":-10.79842043376018,"C":2.3424345361828824},{"x":91,"A":-4.00280913746403,"B":-12.318180095789486,"C":2.3431199002267227},{"x":92,"A":-2.917255967044258,"B":-12.229269883716222,"C":2.222834399928051},{"x":93,"A":-2.9918797586519634,"B":-12.028133528219465,"C":1.2647415588556952},{"x":94,"A":-2.7862433494206424,"B":-11.84391337423208,"C":2.101484416860647},{"x":95,"A":-1.3011409282646273,"B":-13.290445498646985,"C":1.9184426481272452},{"x":96,"A":-0.36354355065884847,"B":-13.759316745445004,"C":1.4099869604888213},{"x":97,"A":1.0291894308992025,"B":-13.593438572887122,"C":1.1185873988590544},{"x":98,"A":2.0467790092609346,"B":-13.943987208051835,"C":0.598266882445497},{"x":99,"A":2.8286517453698323,"B":-12.982714413012667,"C":0.3335468642633278},{"x":100,"A":2.9093182157674855,"B":-13.780946026536618,"C":1.2138659200707316}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 20 January 2025 17:00">Monday 20 January 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
