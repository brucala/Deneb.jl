<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlee571f8fd24b4e47b00697f0b24112da' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlee571f8fd24b4e47b00697f0b24112da',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.867863057982675,"B":0.2894701744970785,"C":-0.07105355455720352},{"x":2,"A":-0.1842392227356724,"B":0.6378299537698837,"C":-0.2663789092996447},{"x":3,"A":-0.09408528912917757,"B":0.26488967354438486,"C":-0.26589446283837476},{"x":4,"A":-2.105518164464335,"B":-1.888762421954221,"C":-1.8358169199535541},{"x":5,"A":-1.7076134119023711,"B":-1.2077177252572076,"C":-1.942292296532682},{"x":6,"A":-1.0747107849698345,"B":-1.7235807073756095,"C":-1.6192505186360202},{"x":7,"A":-2.3143283181315284,"B":-0.325446215574731,"C":-1.2838886272340708},{"x":8,"A":-2.67062948385807,"B":0.23581650380127833,"C":-0.059816338675091174},{"x":9,"A":-2.0209966015861407,"B":1.0179511030040131,"C":-0.012848002492848128},{"x":10,"A":-3.308051433214624,"B":1.6526119832026407,"C":-1.3090160625617326},{"x":11,"A":-4.05881686877209,"B":1.5408794463831132,"C":-1.185737745881829},{"x":12,"A":-4.396444790383413,"B":1.8690050242461824,"C":-1.260827985639766},{"x":13,"A":-5.3606431114022834,"B":1.3256291476252533,"C":-1.0952170928369336},{"x":14,"A":-5.216602976910123,"B":-0.4353342424503254,"C":-1.1823754740105752},{"x":15,"A":-4.766303074308747,"B":-0.8440877512113134,"C":-0.9886096368366585},{"x":16,"A":-5.6753962540871505,"B":-1.0993849708935362,"C":-0.6531274670232922},{"x":17,"A":-3.623379079459543,"B":-0.34039142402991834,"C":-2.0773382971223393},{"x":18,"A":-3.94692914775818,"B":-2.2483458300150003,"C":-1.5467146981112039},{"x":19,"A":-3.4642730933288144,"B":-2.9526567481341903,"C":0.01930251675991501},{"x":20,"A":-3.924808676540314,"B":-2.948811673322187,"C":-1.3036587522428422},{"x":21,"A":-2.8505311200087102,"B":-3.06458386008606,"C":0.10857448460525698},{"x":22,"A":-1.9696976320778035,"B":-3.483392847412465,"C":-0.47717842036786584},{"x":23,"A":-0.7621250176144926,"B":-5.280972800832436,"C":-1.8294222296387723},{"x":24,"A":-1.050664961122539,"B":-5.49080655199974,"C":-0.7614741547001809},{"x":25,"A":-2.0365033459568034,"B":-5.555787657617405,"C":-1.4041576562921734},{"x":26,"A":-0.7734550273450963,"B":-5.423460514683578,"C":-0.5533405372194785},{"x":27,"A":-1.2238857225043414,"B":-6.420011404378303,"C":-1.99293350031028},{"x":28,"A":-1.0119563715953528,"B":-7.253494534411434,"C":-3.9406177148933255},{"x":29,"A":-0.1228679345296978,"B":-6.911645698023052,"C":-3.398230220300526},{"x":30,"A":0.3144052409629582,"B":-8.577410652178665,"C":-4.7835437396357765},{"x":31,"A":0.9461170401370874,"B":-7.781694058400727,"C":-4.3264194682271135},{"x":32,"A":1.5568230888590118,"B":-6.818676031501544,"C":-5.382639955226684},{"x":33,"A":2.4818070055384807,"B":-7.493192141133006,"C":-3.9640737963500516},{"x":34,"A":3.6880530546222476,"B":-7.166955844543765,"C":-5.700489974818348},{"x":35,"A":3.3685374571218643,"B":-7.120723334471815,"C":-5.192343324200944},{"x":36,"A":2.554174285730707,"B":-6.266413313906058,"C":-4.2410340723888735},{"x":37,"A":4.14232580356024,"B":-5.370004462397909,"C":-3.395162446355216},{"x":38,"A":3.984395468805942,"B":-4.814509494829327,"C":-4.271666032300624},{"x":39,"A":2.917818617927646,"B":-5.433477391618027,"C":-6.383576375139959},{"x":40,"A":3.3408431827194502,"B":-4.498986461512252,"C":-5.709843384580396},{"x":41,"A":2.5797546187527067,"B":-5.472883020417252,"C":-5.5961920538911505},{"x":42,"A":2.667958585649826,"B":-5.2361810474290404,"C":-4.686591671796124},{"x":43,"A":2.410657322086705,"B":-4.5253945056505565,"C":-4.134883521017975},{"x":44,"A":3.110036051602422,"B":-4.773753017733809,"C":-4.59414196598368},{"x":45,"A":3.0082275628762765,"B":-4.735705343974179,"C":-4.301496871212643},{"x":46,"A":2.8545685148334066,"B":-5.605301755979423,"C":-4.401772804429622},{"x":47,"A":1.5970847197327163,"B":-6.741373030191595,"C":-4.175685415149494},{"x":48,"A":0.8297836255026846,"B":-6.873284204412713,"C":-4.4794343788053075},{"x":49,"A":-1.8484677139675658,"B":-7.517166398537281,"C":-3.4419984655791147},{"x":50,"A":-1.0246591194738808,"B":-6.312466265869435,"C":-2.121726210572578},{"x":51,"A":-0.6277731165263205,"B":-7.083342085312277,"C":-3.5313308155823},{"x":52,"A":-2.410347574288727,"B":-7.256348084430971,"C":-3.1746706567040723},{"x":53,"A":-1.3020441579832323,"B":-6.803314509834629,"C":-1.1530485840239406},{"x":54,"A":-1.069957481389122,"B":-7.089259622872834,"C":-2.35933413773832},{"x":55,"A":-2.9653341731122618,"B":-5.803935628568919,"C":-3.009440366983502},{"x":56,"A":-2.630234592404327,"B":-6.225702439953083,"C":-2.8413383714626157},{"x":57,"A":-2.835357770493743,"B":-6.816660333184986,"C":-3.834487483413958},{"x":58,"A":-3.9691173158416695,"B":-7.663516793250623,"C":-4.294582665117435},{"x":59,"A":-3.8989432152652927,"B":-8.075474895447869,"C":-2.1589772835128294},{"x":60,"A":-3.855752881913857,"B":-9.699246544909633,"C":-2.6971433686805018},{"x":61,"A":-3.6264674113009367,"B":-8.905673944817028,"C":-1.9891728486212419},{"x":62,"A":-3.75365464796612,"B":-9.509569079107228,"C":-1.659283926474308},{"x":63,"A":-5.108423315809451,"B":-9.871161331247109,"C":-1.147824960064302},{"x":64,"A":-6.209561817196475,"B":-11.033506057405825,"C":-2.672052057495012},{"x":65,"A":-6.4531022278489045,"B":-11.679733111284861,"C":-2.8728823570643183},{"x":66,"A":-8.147238772320188,"B":-13.815075159405252,"C":-2.1145988375213687},{"x":67,"A":-8.196935498962816,"B":-12.312702773396039,"C":-2.615172722223978},{"x":68,"A":-8.066584257566136,"B":-13.474086212911976,"C":-2.0072595864308003},{"x":69,"A":-8.053724395995935,"B":-14.092797459980801,"C":-1.3910572793458016},{"x":70,"A":-8.89439863092157,"B":-14.6612074460852,"C":-2.0066969989438492},{"x":71,"A":-8.755240542788368,"B":-15.284519082850926,"C":-2.285540231589991},{"x":72,"A":-9.636172304706685,"B":-15.40463356726173,"C":-0.5591583338032358},{"x":73,"A":-10.395358387839616,"B":-15.743834892261,"C":0.05626225722847378},{"x":74,"A":-8.23626090257735,"B":-15.613875113828671,"C":-1.2785129770286472},{"x":75,"A":-8.034265840355722,"B":-15.777438994643637,"C":-1.5861401203737624},{"x":76,"A":-8.196485504168132,"B":-17.525858398194988,"C":-1.0832638341513678},{"x":77,"A":-7.477914034143109,"B":-17.822363720645594,"C":0.6017454164123484},{"x":78,"A":-7.907944243242363,"B":-18.25075702235006,"C":0.3798209644834251},{"x":79,"A":-6.956361359074717,"B":-18.23754518362451,"C":-0.24382853044737868},{"x":80,"A":-6.439892161055169,"B":-17.428597618021346,"C":-0.311754440020579},{"x":81,"A":-6.039844975238825,"B":-17.67332823933557,"C":-1.587556060986129},{"x":82,"A":-6.532938004246225,"B":-16.607985645210615,"C":-0.47325607244031676},{"x":83,"A":-6.300770416144541,"B":-15.971893291482099,"C":0.1648728055741736},{"x":84,"A":-6.404020056913935,"B":-16.76499181029153,"C":1.027260976969005},{"x":85,"A":-7.180853928845424,"B":-16.696905011059368,"C":-0.3885038718780853},{"x":86,"A":-6.808207602843012,"B":-16.86518011976296,"C":-0.5243082515376927},{"x":87,"A":-7.829538196900188,"B":-15.072808691431685,"C":-0.7636505215362988},{"x":88,"A":-7.41209783927068,"B":-15.55937521631604,"C":-2.094095929052747},{"x":89,"A":-7.932989187145227,"B":-15.694697404687597,"C":-2.2994699845358264},{"x":90,"A":-9.551374475694514,"B":-15.191839531052054,"C":-2.20684427273961},{"x":91,"A":-10.974524148164122,"B":-14.882479839925633,"C":-2.1488334123177255},{"x":92,"A":-9.340039594324615,"B":-17.01017796417766,"C":-0.6626531037963976},{"x":93,"A":-9.640684153546767,"B":-18.230370484074037,"C":1.1150907403335766},{"x":94,"A":-10.007670767842862,"B":-18.635069916175222,"C":-0.86974223574362},{"x":95,"A":-9.18584975830045,"B":-19.390752085169847,"C":-0.8214172531255943},{"x":96,"A":-9.516708383456965,"B":-18.94694315435809,"C":-2.4482748466963162},{"x":97,"A":-10.224189890657453,"B":-19.55153265604244,"C":-3.8210301847256636},{"x":98,"A":-8.311645205310926,"B":-19.414197365439836,"C":-3.1289027184061045},{"x":99,"A":-7.646406099188866,"B":-17.067507883916793,"C":-0.9533060700713138},{"x":100,"A":-7.277561643548912,"B":-16.503728435070993,"C":-0.9304373708149843}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 4 July 2023 21:03">Tuesday 4 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
