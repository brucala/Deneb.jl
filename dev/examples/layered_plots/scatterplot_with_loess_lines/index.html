<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-c7d19777-aae3-4e61-9d0b-ee1815d0c18e.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-c7d19777-aae3-4e61-9d0b-ee1815d0c18e.vega-embed details,
  #vis-c7d19777-aae3-4e61-9d0b-ee1815d0c18e.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-c7d19777-aae3-4e61-9d0b-ee1815d0c18e"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-c7d19777-aae3-4e61-9d0b-ee1815d0c18e") {
      outputDiv = document.getElementById("vis-c7d19777-aae3-4e61-9d0b-ee1815d0c18e");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":1.0576493042526645,"B":1.0346208170378495,"C":0.48218648233628025},{"x":2,"A":0.7343073264190336,"B":0.373953350003303,"C":-0.6651757228814472},{"x":3,"A":-0.3049384871766647,"B":0.6090731723015483,"C":-2.1993152105395524},{"x":4,"A":-0.8617531066797328,"B":0.34280934038296706,"C":-0.36768887844731757},{"x":5,"A":0.08736211645952863,"B":1.1033783776238546,"C":-1.6073735012659447},{"x":6,"A":0.6130894414725818,"B":3.346529249596683,"C":-2.246879113972923},{"x":7,"A":1.6287897391632415,"B":4.480956614239815,"C":-2.444144244911451},{"x":8,"A":3.8166702061506053,"B":3.867831628481074,"C":-2.256978720691538},{"x":9,"A":2.5526023605599435,"B":2.86878349964235,"C":-1.3367473051089591},{"x":10,"A":0.1148962800638893,"B":3.2617027304600645,"C":-1.4154405218508619},{"x":11,"A":-0.4943743419071689,"B":1.3813551959588226,"C":-0.4449906025086139},{"x":12,"A":-1.4381940481848225,"B":1.9965341390763198,"C":-1.4155306101250025},{"x":13,"A":-2.3556099210078134,"B":2.1148612611584423,"C":0.5395427096823833},{"x":14,"A":-1.41562423548284,"B":3.41574650501882,"C":0.8302664236508671},{"x":15,"A":-1.82303665172216,"B":2.990906574655256,"C":0.8700854167450398},{"x":16,"A":-1.424886015522369,"B":1.9820849497799586,"C":0.23012815486792848},{"x":17,"A":-2.633101891367027,"B":3.748530829503797,"C":-1.1335175853073012},{"x":18,"A":-1.9987948074163242,"B":2.5923191850286744,"C":-0.31140914141459375},{"x":19,"A":-2.1042985941293666,"B":1.963754258192684,"C":-0.19964582392479868},{"x":20,"A":-2.4700794691347285,"B":1.9716169434372106,"C":1.0214315817030988},{"x":21,"A":-2.89620535504178,"B":0.04405892107068232,"C":-0.6642312511449728},{"x":22,"A":-3.124293857905702,"B":0.49896089196953297,"C":-0.41002799882069063},{"x":23,"A":-3.9654285906221975,"B":-1.759433901962084,"C":-0.6443428229633583},{"x":24,"A":-2.0548220674858113,"B":-0.4224939758509676,"C":-0.40938000697576804},{"x":25,"A":-3.5667629402319756,"B":-1.2899715062846597,"C":-0.8709152612172744},{"x":26,"A":-3.311428728649778,"B":-2.1424942044987123,"C":-0.9670391168308539},{"x":27,"A":-4.48179835453415,"B":-2.1209642693948245,"C":-1.8085515376692785},{"x":28,"A":-2.3211534036810875,"B":-0.8445124708486886,"C":-1.3792556369101383},{"x":29,"A":-1.3680503948249996,"B":-1.1086065147672584,"C":-1.496203592522815},{"x":30,"A":-0.42931207535230853,"B":-0.32632645350214884,"C":-1.411189886070712},{"x":31,"A":-0.5567209746320734,"B":0.3534475239687407,"C":-1.4255139801909564},{"x":32,"A":-1.2921616127404665,"B":1.979978951108772,"C":-1.96727201606579},{"x":33,"A":-1.2027715079507089,"B":1.928013855330554,"C":-2.443105219786618},{"x":34,"A":-0.2920909157146998,"B":3.1096189635099263,"C":-1.4196999609028869},{"x":35,"A":-2.2752518486921285,"B":3.3418632329385565,"C":-1.1332959400457543},{"x":36,"A":-2.0121548106142284,"B":3.584238415190022,"C":-0.9197002422185827},{"x":37,"A":-3.5165146673583196,"B":4.448980659836512,"C":-1.6331138226375725},{"x":38,"A":-4.315017924528702,"B":3.917138427058034,"C":-0.42491229381710593},{"x":39,"A":-2.9677131605357276,"B":5.430559356818065,"C":-0.7528202888582411},{"x":40,"A":-2.64537416332204,"B":5.799433683413708,"C":-1.2029071398025961},{"x":41,"A":-3.370096026494579,"B":6.534996631899256,"C":-1.2377255343309987},{"x":42,"A":-4.993722038555519,"B":5.369237920275961,"C":-0.7806696434689326},{"x":43,"A":-3.815063299202957,"B":5.4767226370381,"C":-1.4105496260941903},{"x":44,"A":-4.822651812455297,"B":5.991605504597765,"C":-1.8351785701283863},{"x":45,"A":-4.328488893250213,"B":6.951246569700311,"C":-1.0130407005572741},{"x":46,"A":-5.059716702140637,"B":6.414490042471996,"C":-2.4647459148480446},{"x":47,"A":-5.042849832598708,"B":7.614295700209112,"C":-0.03147751968732626},{"x":48,"A":-5.05270214170286,"B":5.21512511521362,"C":-0.9248483189769461},{"x":49,"A":-4.449740103357689,"B":7.117576230343107,"C":-1.0433915390430843},{"x":50,"A":-4.3321417968684175,"B":6.841676080046506,"C":0.11809360105654187},{"x":51,"A":-3.152492601928466,"B":5.857693869238099,"C":-1.4789896267264475},{"x":52,"A":-3.3017590433764967,"B":5.397991579035791,"C":-1.757130015225203},{"x":53,"A":-3.3543842450119703,"B":5.389608773207572,"C":-1.8863419909002719},{"x":54,"A":-3.006039218155366,"B":4.953768104156578,"C":-1.9157375434235773},{"x":55,"A":-1.6619075392451372,"B":4.781419863400251,"C":-0.4467679256255126},{"x":56,"A":-1.8737010394138358,"B":5.703311890442002,"C":-0.03735760121913212},{"x":57,"A":-0.8723704569226567,"B":5.391176182554943,"C":0.23088572089134718},{"x":58,"A":0.1228865562440018,"B":4.516385981930214,"C":-1.692810825079195},{"x":59,"A":-0.6287186314613971,"B":4.1514088864845045,"C":-2.9542003169586306},{"x":60,"A":-1.8477656416296173,"B":5.474821276728582,"C":-1.855047356266636},{"x":61,"A":-0.6050478241576618,"B":5.393584390618305,"C":-3.32376909371799},{"x":62,"A":-1.0239458264694803,"B":7.34404941533009,"C":-3.5673615792911577},{"x":63,"A":-1.245583933632307,"B":6.338689763413088,"C":-3.147366512792312},{"x":64,"A":-0.40117609154493583,"B":6.3128125193145115,"C":-3.4109844203061326},{"x":65,"A":-1.8745009401802015,"B":7.9239284528380445,"C":-3.628243142313924},{"x":66,"A":-3.057448786719868,"B":8.13086628757077,"C":-3.9210507151726035},{"x":67,"A":-3.0572555420813208,"B":7.945934166210827,"C":-2.749041350991219},{"x":68,"A":-2.3934433974378573,"B":7.445440213507633,"C":-4.150498410527241},{"x":69,"A":-2.339596132731255,"B":7.202052376752657,"C":-2.1610015668473275},{"x":70,"A":-3.110208688021304,"B":6.93245105795951,"C":-2.1382868393321566},{"x":71,"A":-3.6360978324768025,"B":4.226557164417491,"C":-1.8380548793299294},{"x":72,"A":-4.200851889821659,"B":3.391264605478291,"C":-1.1350519042983358},{"x":73,"A":-4.9818331119031,"B":3.1225245339503527,"C":-1.0087402012470135},{"x":74,"A":-5.765726241367829,"B":3.037003283978435,"C":-0.7615725243898284},{"x":75,"A":-5.319730856619703,"B":3.771362806848715,"C":-1.4384836903624656},{"x":76,"A":-4.47439081254695,"B":3.450900041458625,"C":-2.5745809545232707},{"x":77,"A":-4.931044787117924,"B":4.138978623750843,"C":-0.5903078672619853},{"x":78,"A":-6.9212408675721955,"B":4.636148501683296,"C":-1.7077187231640436},{"x":79,"A":-6.742160044872135,"B":4.162623952002175,"C":-1.613009124503375},{"x":80,"A":-7.140517396810886,"B":4.454748031381477,"C":-0.1697855707012068},{"x":81,"A":-7.12728255074085,"B":3.5858512863754806,"C":-1.1865385182152821},{"x":82,"A":-8.597342192234965,"B":2.470253787240714,"C":-1.6130584316117575},{"x":83,"A":-7.379059821470205,"B":0.6119801433392049,"C":-0.20494983224438612},{"x":84,"A":-7.95103415178209,"B":0.6363895086951414,"C":-0.04558738606723689},{"x":85,"A":-7.097806730065911,"B":-1.3304707413537924,"C":-0.3324965505379487},{"x":86,"A":-9.149259975509931,"B":-1.2857483028190269,"C":-0.2983121084034497},{"x":87,"A":-9.13698137046378,"B":-0.4406516122756712,"C":0.46819360015597333},{"x":88,"A":-9.308708210526703,"B":0.05333442542188749,"C":-0.21172895388144908},{"x":89,"A":-9.868359595774404,"B":0.08367145292306877,"C":-1.6623331769882435},{"x":90,"A":-9.97088988018712,"B":0.3006249760248527,"C":0.1184539170301151},{"x":91,"A":-9.509963900433906,"B":0.30878956644905,"C":1.72379095323188},{"x":92,"A":-9.469350455432092,"B":-0.08879781664256825,"C":2.585664893883566},{"x":93,"A":-8.140746370860477,"B":-0.19965686668064575,"C":3.123300604602473},{"x":94,"A":-9.49134201439109,"B":-1.5532480018140873,"C":4.4029440003336155},{"x":95,"A":-10.056769199066053,"B":-3.3494585675317268,"C":2.4179184497833743},{"x":96,"A":-8.969586940451173,"B":-2.425851520848398,"C":2.981126053081264},{"x":97,"A":-9.337633673348261,"B":-2.376071963046461,"C":1.9937073905034284},{"x":98,"A":-9.559766800740185,"B":-2.3727209166668706,"C":0.2670123142512906},{"x":99,"A":-11.10084584717228,"B":-1.6395521679744671,"C":2.1768255853961094},{"x":100,"A":-10.423917895661273,"B":-1.852509445795303,"C":2.3249319907962374}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Sunday 1 December 2024 18:22">Sunday 1 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
