<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl1626f3ff5a424376917bf0b0e76920da' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl1626f3ff5a424376917bf0b0e76920da',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-1.1416610769093372,"B":-0.1242475316168618,"C":-1.1066769103674183},{"x":2,"A":-1.6420150017731991,"B":-1.096156215829911,"C":-1.6338476289952188},{"x":3,"A":-2.4898895410270123,"B":-0.6009212114820106,"C":-2.5184794452658084},{"x":4,"A":-1.7592625355735545,"B":-1.663864830279152,"C":-3.016211202154361},{"x":5,"A":-3.4763437423458345,"B":-3.333291602739279,"C":-4.998397282396524},{"x":6,"A":-5.130473159415761,"B":-3.8925906083435318,"C":-4.755421489016308},{"x":7,"A":-4.869073514170408,"B":-1.8297965003134944,"C":-4.140075918328452},{"x":8,"A":-4.438101922767229,"B":-1.5320256958537746,"C":-5.066273884629594},{"x":9,"A":-3.917291410477648,"B":-0.5658389381836961,"C":-3.1871340499316467},{"x":10,"A":-2.3215328220863825,"B":-0.6684262932589968,"C":-3.165382913757947},{"x":11,"A":-2.4707627804868255,"B":-0.19249750514126662,"C":-4.353567541313565},{"x":12,"A":-2.742188309928092,"B":1.5668305017779258,"C":-3.7561509044092594},{"x":13,"A":-2.5168035333702155,"B":2.8697367141009575,"C":-4.940594906950576},{"x":14,"A":-4.55469280441419,"B":3.4339137533205477,"C":-5.218467209914441},{"x":15,"A":-7.4034843890019,"B":2.1631048910034187,"C":-6.278819141782713},{"x":16,"A":-7.314972968265391,"B":2.024983852768128,"C":-7.189019152636576},{"x":17,"A":-6.860116748394908,"B":3.602321251033423,"C":-8.273643497100325},{"x":18,"A":-7.133569875436667,"B":3.342584758817528,"C":-7.769060207319943},{"x":19,"A":-8.289310424591855,"B":3.002915082191962,"C":-8.369329208454756},{"x":20,"A":-8.09103629113287,"B":5.462106783919747,"C":-8.68209154768256},{"x":21,"A":-8.336958337050849,"B":6.2680330339648185,"C":-7.653534002018131},{"x":22,"A":-10.27952017573811,"B":5.257343129411802,"C":-6.998767019761281},{"x":23,"A":-11.432926718068014,"B":5.742856219544376,"C":-8.347628396182493},{"x":24,"A":-11.15875042591109,"B":4.498361192442375,"C":-7.917720064714812},{"x":25,"A":-11.501984487266554,"B":3.4113593238762294,"C":-7.983325665180826},{"x":26,"A":-12.755263098663843,"B":3.1401306135340366,"C":-8.70032271720386},{"x":27,"A":-12.711895714551932,"B":3.768926838192874,"C":-9.060714389356892},{"x":28,"A":-12.587658221965237,"B":3.2532465950861336,"C":-10.172998877651601},{"x":29,"A":-10.79668545983403,"B":3.2372775591021337,"C":-10.31330950834128},{"x":30,"A":-11.027753640903446,"B":3.431697084643845,"C":-10.763808720588088},{"x":31,"A":-11.259756690454294,"B":2.560843937574469,"C":-9.701529172113077},{"x":32,"A":-11.512276527484431,"B":2.8981938163873986,"C":-10.218967210842726},{"x":33,"A":-12.779616634725953,"B":1.8782853041258043,"C":-8.397315979014415},{"x":34,"A":-12.825100032356596,"B":1.6558604358385893,"C":-7.344626605134391},{"x":35,"A":-12.414622186228023,"B":0.8753566056842106,"C":-7.024259434261625},{"x":36,"A":-12.064307608755911,"B":-0.9424261456292726,"C":-6.109845365242097},{"x":37,"A":-13.224487197777599,"B":0.26763317246159485,"C":-5.041448335242356},{"x":38,"A":-12.790742441742967,"B":0.3979746821927173,"C":-3.7524220707640774},{"x":39,"A":-11.404120232660517,"B":-1.4066270778834737,"C":-2.6064922235933796},{"x":40,"A":-11.540278566127244,"B":-2.6060022079412044,"C":-4.418091067277523},{"x":41,"A":-11.161648267092358,"B":-1.145935106404273,"C":-4.403131344293351},{"x":42,"A":-11.664613838080122,"B":-0.6579131189880771,"C":-4.010794209250856},{"x":43,"A":-10.906661382786062,"B":-1.495040528298319,"C":-4.770247738679418},{"x":44,"A":-10.358411937337825,"B":-3.351583324294904,"C":-4.160615452345082},{"x":45,"A":-9.144397509652434,"B":-3.094673547634365,"C":-4.665685218310225},{"x":46,"A":-8.081802800883557,"B":-3.0686962894295227,"C":-5.156378224221659},{"x":47,"A":-6.501393394644403,"B":-3.2141959997291636,"C":-5.799934809476466},{"x":48,"A":-9.096714897398614,"B":-3.4541649905191587,"C":-5.004439800021189},{"x":49,"A":-8.334512314993907,"B":-3.2478477030313018,"C":-5.077837403192596},{"x":50,"A":-9.425089440004555,"B":-4.380778550893026,"C":-6.99964028269065},{"x":51,"A":-6.893213447285014,"B":-3.9757781936629004,"C":-7.605202720977636},{"x":52,"A":-7.194175511065849,"B":-2.842300586771568,"C":-6.482684043188411},{"x":53,"A":-7.466773397955864,"B":-3.383378444618058,"C":-7.492573681435389},{"x":54,"A":-6.2392116510150135,"B":-3.4876054870362685,"C":-6.5347332812388},{"x":55,"A":-5.219946197244891,"B":-4.479075879552815,"C":-6.472072776404711},{"x":56,"A":-6.100220187212393,"B":-4.350121953994822,"C":-5.987089940569118},{"x":57,"A":-8.072871552131158,"B":-4.512459070500141,"C":-5.560021660898077},{"x":58,"A":-9.50391804301317,"B":-5.388518750087058,"C":-5.491312618194476},{"x":59,"A":-10.761965546074586,"B":-4.59721649012628,"C":-6.176196331761217},{"x":60,"A":-11.521934327162853,"B":-4.266178270661304,"C":-5.887953582126421},{"x":61,"A":-12.025364718355025,"B":-4.2140074682490845,"C":-5.710228287975336},{"x":62,"A":-12.896902825334205,"B":-4.963601650711361,"C":-6.417494709720563},{"x":63,"A":-14.086930117456324,"B":-6.2551336334959124,"C":-6.0787614604472076},{"x":64,"A":-13.286182598129631,"B":-7.638893365639707,"C":-7.0866924309691335},{"x":65,"A":-12.654253602832442,"B":-6.201003534833735,"C":-7.118004903869967},{"x":66,"A":-13.479342511638759,"B":-5.480197616479748,"C":-6.9906677177080425},{"x":67,"A":-13.396995578448099,"B":-6.522242980247175,"C":-5.113471038279401},{"x":68,"A":-12.7334455450586,"B":-6.136241142203873,"C":-6.926466416866946},{"x":69,"A":-12.855882850580064,"B":-6.992948292402026,"C":-8.781814156345346},{"x":70,"A":-13.476057223290434,"B":-6.092500149090759,"C":-8.74932578981505},{"x":71,"A":-12.70779343764973,"B":-7.9794216846698545,"C":-9.094800023438621},{"x":72,"A":-13.235529142412508,"B":-7.050646737536735,"C":-9.884204011612002},{"x":73,"A":-13.210241474241602,"B":-7.310864503670605,"C":-10.897140630842472},{"x":74,"A":-11.734054343751014,"B":-6.3870902113181725,"C":-11.625206957305593},{"x":75,"A":-11.470305036930053,"B":-5.661962181235912,"C":-11.18518040634683},{"x":76,"A":-11.263553939604924,"B":-5.620993127485215,"C":-10.74586382267819},{"x":77,"A":-12.650871154531679,"B":-6.660393365393415,"C":-13.453890005335744},{"x":78,"A":-14.150768009612774,"B":-6.649986514952787,"C":-13.960003083648793},{"x":79,"A":-14.031511362442526,"B":-6.07159947864329,"C":-14.04956968326577},{"x":80,"A":-13.905958081207023,"B":-4.209995144322895,"C":-14.576723212107037},{"x":81,"A":-14.43489611250085,"B":-4.123475293931977,"C":-15.270195447995683},{"x":82,"A":-13.930483971927835,"B":-4.399334269793942,"C":-16.108373326284795},{"x":83,"A":-14.234170389779813,"B":-5.3877755236547475,"C":-16.284152012720682},{"x":84,"A":-13.566359689426418,"B":-6.254128515538936,"C":-17.719016536656103},{"x":85,"A":-14.445553298998542,"B":-6.431003400713977,"C":-17.516198331528997},{"x":86,"A":-13.351499375206224,"B":-6.8669547063709375,"C":-18.116128639016278},{"x":87,"A":-13.566425237010552,"B":-9.167663737337765,"C":-18.815434420862413},{"x":88,"A":-14.581261250837516,"B":-11.220294494137343,"C":-19.084769507629616},{"x":89,"A":-15.818766121271173,"B":-9.39262087696226,"C":-19.124231723860138},{"x":90,"A":-17.39613120195272,"B":-8.79510114313656,"C":-18.028555584387657},{"x":91,"A":-17.288382405796995,"B":-9.163046866392802,"C":-18.01042504887321},{"x":92,"A":-19.146707965997663,"B":-8.934239995837189,"C":-17.439974518467164},{"x":93,"A":-18.985338651907664,"B":-8.557907240593225,"C":-18.464687802362477},{"x":94,"A":-18.017199040014496,"B":-8.911392115693218,"C":-19.923344445881746},{"x":95,"A":-19.588025207204073,"B":-9.168265912120331,"C":-20.257659637578193},{"x":96,"A":-18.38775726619364,"B":-8.552896728632957,"C":-19.584999474171745},{"x":97,"A":-18.3214434432341,"B":-8.829840072760959,"C":-20.267900102887058},{"x":98,"A":-18.276747924508193,"B":-8.084838959287477,"C":-20.143420202012848},{"x":99,"A":-17.65930150459292,"B":-9.121682445295093,"C":-22.86447163856439},{"x":100,"A":-18.28118472613367,"B":-7.207466444986598,"C":-24.199040355783836}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 7 July 2023 16:57">Friday 7 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
