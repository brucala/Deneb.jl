<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vla820f58239ce4f29ade459b1514de050' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vla820f58239ce4f29ade459b1514de050',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.5678232915614302,"B":-0.5506713454809239,"C":-1.6312328996234817},{"x":2,"A":-0.20133586374782597,"B":-0.49439242096011393,"C":-1.899178259916893},{"x":3,"A":1.4048000197464081,"B":-0.9458376520771306,"C":-0.004606357633440972},{"x":4,"A":1.186286096328069,"B":-1.7827605347135305,"C":-0.4144189785868091},{"x":5,"A":-0.18349872203217676,"B":-1.9695267471109812,"C":-0.9982092250221782},{"x":6,"A":-1.614125232392087,"B":-1.840281619158092,"C":-2.4208221271974124},{"x":7,"A":0.455917037062321,"B":-1.9246241540723763,"C":-0.7699235054124695},{"x":8,"A":-1.0314625610127401,"B":-2.5146282333662744,"C":-0.409928857799732},{"x":9,"A":-2.7137709624495865,"B":-2.621388678980194,"C":1.3188124599587376},{"x":10,"A":-1.983134029169383,"B":-1.3208834412548804,"C":0.5700654007030992},{"x":11,"A":-1.8396239815014703,"B":-1.4621896246065478,"C":1.0773600544447826},{"x":12,"A":-0.09721692238518298,"B":-0.36145326478956863,"C":2.054527237307454},{"x":13,"A":-0.006595390356528119,"B":0.7591254489952098,"C":1.7693884196712455},{"x":14,"A":-2.4700895716855555,"B":-1.014486922932424,"C":2.522809058665388},{"x":15,"A":-1.6238259494938427,"B":-0.047000354902608676,"C":3.053448820555308},{"x":16,"A":-1.491373386841,"B":-1.9554548061193184,"C":1.823011520492189},{"x":17,"A":-0.9156340855333124,"B":-1.401712218047964,"C":2.0420237341106224},{"x":18,"A":-0.5498003143363158,"B":-0.5884754917733438,"C":3.6959503563288485},{"x":19,"A":0.6063346556003851,"B":-0.5615745366429948,"C":2.606397320644977},{"x":20,"A":0.9364029022387674,"B":-2.8410735478703852,"C":1.7449411604162228},{"x":21,"A":1.9199231847745644,"B":-3.072960717898286,"C":0.24690659010286287},{"x":22,"A":1.4276117498294254,"B":-2.8212384571237776,"C":-0.6183622113624359},{"x":23,"A":0.6610497150286153,"B":-1.0701538508105037,"C":-1.591147883484774},{"x":24,"A":2.028857595607634,"B":-1.5892498875703032,"C":-2.3781958254418005},{"x":25,"A":2.0144238377785175,"B":-1.2941069520402655,"C":-4.9866762649605265},{"x":26,"A":2.0008557938853673,"B":-0.6382001009501669,"C":-5.408381152603478},{"x":27,"A":1.5553838412670427,"B":-2.4746918425545514,"C":-4.734113649720783},{"x":28,"A":1.4509467227154729,"B":-2.6132303742882113,"C":-3.6991698228530607},{"x":29,"A":0.5879907953066775,"B":-2.487156842268341,"C":-5.654824811013452},{"x":30,"A":-0.4077045501938229,"B":-4.282578216530962,"C":-6.067519426517192},{"x":31,"A":-1.7811622022636855,"B":-4.226853546221327,"C":-6.49568642125482},{"x":32,"A":-0.47292295369871995,"B":-3.631803771253115,"C":-5.58090403069944},{"x":33,"A":-0.27106856037784866,"B":-4.096967311135293,"C":-6.325928379286271},{"x":34,"A":0.7839417859823838,"B":-3.759465781082387,"C":-5.967288112661008},{"x":35,"A":0.8318278939747596,"B":-1.9823677483892963,"C":-5.7397343496430935},{"x":36,"A":-0.6103437020523955,"B":-0.8123077807999993,"C":-3.9616872681768256},{"x":37,"A":-2.728565974269251,"B":-0.6825041126293323,"C":-4.996520492086502},{"x":38,"A":-2.2611309637118517,"B":-0.7801778317574897,"C":-5.647105549174283},{"x":39,"A":-1.6051651583018605,"B":-3.7579704834476004,"C":-6.286834995446688},{"x":40,"A":-0.5658476795613477,"B":-4.302400873394814,"C":-5.767692587753549},{"x":41,"A":-0.3950744078004885,"B":-6.309891296441931,"C":-5.469850706194659},{"x":42,"A":-2.4253510420135336,"B":-7.810697762944062,"C":-5.855056768559253},{"x":43,"A":-4.276268914530731,"B":-7.592852239051331,"C":-4.959216118925831},{"x":44,"A":-4.5883322481580615,"B":-7.559997309363554,"C":-4.410421412620961},{"x":45,"A":-5.2892844049759145,"B":-8.047171204021957,"C":-5.818623687154394},{"x":46,"A":-5.215982233805317,"B":-8.598614723446834,"C":-4.76204922774964},{"x":47,"A":-5.456165973045353,"B":-8.461663204993577,"C":-3.943107474896973},{"x":48,"A":-4.7895523914939435,"B":-8.882641773237022,"C":-3.459178541072675},{"x":49,"A":-6.162105469394294,"B":-9.349760012296862,"C":-2.9504843203428934},{"x":50,"A":-5.6820733937429395,"B":-8.939124782231165,"C":-2.8835760906784964},{"x":51,"A":-7.619422583256043,"B":-9.21185892420672,"C":-0.7122074140258547},{"x":52,"A":-7.735531561856524,"B":-8.434165101350127,"C":-0.33697543102096317},{"x":53,"A":-6.627752220134992,"B":-9.162525108269598,"C":-0.7388024689856245},{"x":54,"A":-7.137018377454253,"B":-7.3986204846655115,"C":-0.6959396474729455},{"x":55,"A":-6.261645626395527,"B":-7.378516268057475,"C":-0.12596068985964104},{"x":56,"A":-6.446641484049589,"B":-7.194807222702802,"C":-0.8716835785805638},{"x":57,"A":-6.842491682113487,"B":-7.270644151623166,"C":-2.1437024972167285},{"x":58,"A":-6.259731794288167,"B":-8.3768011566012,"C":-2.2142304224413314},{"x":59,"A":-7.221814626068603,"B":-8.561402415991239,"C":-1.4269995016671904},{"x":60,"A":-7.098675539647856,"B":-9.370965921586,"C":-0.6943803751243925},{"x":61,"A":-6.878283248559274,"B":-10.796759047272142,"C":-0.7840712012090146},{"x":62,"A":-6.662197426916759,"B":-11.747732264208603,"C":-1.2120875191081903},{"x":63,"A":-7.147989610957681,"B":-11.930531881381516,"C":0.28442467720510356},{"x":64,"A":-9.503967840168205,"B":-12.174553556428956,"C":0.01575219133317729},{"x":65,"A":-11.089987014137757,"B":-11.325628510186979,"C":-0.0793263572498617},{"x":66,"A":-10.622682308472372,"B":-10.753963201963394,"C":-1.868082521062288},{"x":67,"A":-10.703210831325617,"B":-10.89227277110547,"C":-3.142917362972681},{"x":68,"A":-11.444262856354088,"B":-11.125656677656469,"C":-2.1767379024050535},{"x":69,"A":-11.324387376767968,"B":-10.318301793323752,"C":-1.9910733534087273},{"x":70,"A":-13.148225278599844,"B":-11.27387850579685,"C":-2.0870482732710345},{"x":71,"A":-13.156657160442082,"B":-10.743358561983722,"C":-1.9882158264268521},{"x":72,"A":-12.162422299179854,"B":-11.72248628575808,"C":-2.1187160074843976},{"x":73,"A":-12.915775355372263,"B":-11.979542740011523,"C":0.16444243307240924},{"x":74,"A":-12.888080361934325,"B":-11.492362205721161,"C":0.2534131934569892},{"x":75,"A":-13.239011508753777,"B":-11.384539853224105,"C":-1.3716226837530237},{"x":76,"A":-15.38304289463539,"B":-9.848195797572023,"C":-0.6803422193734998},{"x":77,"A":-15.47203802136554,"B":-9.984404572417947,"C":-1.715333786908689},{"x":78,"A":-13.364174937989215,"B":-10.526551844863397,"C":-1.5496995696471672},{"x":79,"A":-15.266503769055321,"B":-10.018024026362763,"C":-1.4505144098692055},{"x":80,"A":-14.737602915477945,"B":-11.906374041809494,"C":-0.7353641171277586},{"x":81,"A":-13.858768530821322,"B":-12.397356841080207,"C":-1.2981902946647128},{"x":82,"A":-12.861221340609605,"B":-13.159194063778175,"C":0.7805039607141899},{"x":83,"A":-12.863834010223709,"B":-13.430520326365892,"C":0.6634908039791552},{"x":84,"A":-13.717290366486068,"B":-12.478163957734573,"C":0.8834336918776251},{"x":85,"A":-11.460035018894603,"B":-11.96103310826375,"C":0.5010648127728272},{"x":86,"A":-11.785036845199812,"B":-12.848507150908741,"C":-0.7651511861987492},{"x":87,"A":-11.881585224096277,"B":-11.54271303053377,"C":-0.9661546908576264},{"x":88,"A":-10.368746208098594,"B":-11.864036430536947,"C":-0.3706696977839372},{"x":89,"A":-10.137697793368718,"B":-11.069587477608573,"C":1.198520234813206},{"x":90,"A":-10.132367020661771,"B":-9.961862823581658,"C":0.7408766474093644},{"x":91,"A":-9.016438244061286,"B":-10.014492449293721,"C":0.14101628309136327},{"x":92,"A":-10.331972270364542,"B":-9.368597113619765,"C":0.21316013011721568},{"x":93,"A":-10.159757916772618,"B":-8.308223359204879,"C":-1.4803083035623532},{"x":94,"A":-11.196002882624883,"B":-8.026867765091994,"C":-0.6348149830208065},{"x":95,"A":-13.074964726733494,"B":-8.511861466402992,"C":-1.9504440146288344},{"x":96,"A":-14.050032756390479,"B":-7.380543685826,"C":-2.597960566720507},{"x":97,"A":-15.133031409100385,"B":-7.300999134788871,"C":-3.627646990579424},{"x":98,"A":-14.792711186245896,"B":-6.89925433188615,"C":-3.8864752010850183},{"x":99,"A":-14.045136112896442,"B":-7.579319474363741,"C":-3.9582235352613497},{"x":100,"A":-15.744600822495686,"B":-8.31678553796138,"C":-3.17535317224126}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 6 July 2023 17:13">Thursday 6 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
