<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl473b8cab9d88497b81759918be453940' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl473b8cab9d88497b81759918be453940',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.4930841393186539,"B":-0.9982045023572619,"C":0.07613248207847738},{"x":2,"A":0.6383960915972041,"B":-1.672534055430294,"C":1.6988403041421516},{"x":3,"A":-1.1690775305760783,"B":-0.8249524789717467,"C":2.3801727577335243},{"x":4,"A":-1.2081088007532759,"B":0.29253724356923394,"C":3.130604142901391},{"x":5,"A":-1.5765487841797632,"B":0.9555471510016016,"C":2.2836619849868174},{"x":6,"A":-1.155060882815385,"B":1.932976392490323,"C":4.016462562219247},{"x":7,"A":-0.6031995433664173,"B":1.1187573470210594,"C":4.449854414183873},{"x":8,"A":0.2819011607433005,"B":1.087451536135684,"C":5.146889267012161},{"x":9,"A":0.5711880254266765,"B":2.6400055430427463,"C":4.942168076465229},{"x":10,"A":0.359387266605003,"B":2.3382202217283683,"C":4.530115965363477},{"x":11,"A":0.4000707334735528,"B":1.9956855391028672,"C":4.3951463484079305},{"x":12,"A":1.0540242328980025,"B":2.6611771018786445,"C":2.761546539924867},{"x":13,"A":0.8989429305265764,"B":2.677336172690332,"C":2.563941598551305},{"x":14,"A":2.285608822963826,"B":1.6470388226784953,"C":3.715494061120653},{"x":15,"A":2.676454830444057,"B":3.2384887482115046,"C":4.487156454188016},{"x":16,"A":3.116104919242323,"B":4.199532200297064,"C":3.2583663928035205},{"x":17,"A":3.606625018395044,"B":5.0459939956486775,"C":3.6701519075621136},{"x":18,"A":2.339346987510066,"B":6.01107881912377,"C":3.112380075720129},{"x":19,"A":1.5344213367034305,"B":6.865888860905291,"C":3.149414728875},{"x":20,"A":0.5017263267323976,"B":5.048279039713878,"C":2.493318467086508},{"x":21,"A":0.16142490275580662,"B":4.9409811635280105,"C":2.7232968118110126},{"x":22,"A":0.6067503500625562,"B":5.936917483208985,"C":2.4560913334497196},{"x":23,"A":0.052198382840289215,"B":4.692770288556912,"C":2.5820488508634645},{"x":24,"A":-0.3309632255949816,"B":3.6528404969892065,"C":1.921818855620243},{"x":25,"A":-0.6736390614538027,"B":3.619595455119266,"C":2.5454615268767955},{"x":26,"A":-1.2769842908352143,"B":2.6950021178362253,"C":2.349914149747371},{"x":27,"A":-0.6096556686057121,"B":3.222790996946263,"C":3.56585468628448},{"x":28,"A":0.31080260002221827,"B":3.158247650434105,"C":1.942471716216819},{"x":29,"A":-0.22624404374898088,"B":2.7735444822718462,"C":1.4460963506668643},{"x":30,"A":1.2100468912483624,"B":2.912170531994766,"C":0.9988978861757076},{"x":31,"A":-0.003954962180485633,"B":3.3325528219427163,"C":0.5363458838582219},{"x":32,"A":-1.3292399544363853,"B":3.0792219767070863,"C":0.3883282421990946},{"x":33,"A":-1.3875797724449934,"B":2.4891054743039627,"C":0.8001238389176453},{"x":34,"A":-0.5441604029413868,"B":1.8883036455747177,"C":2.992890867180718},{"x":35,"A":0.45951395236650006,"B":1.4459034897250778,"C":3.9940205678315848},{"x":36,"A":-0.1571649436237177,"B":2.2534107654602247,"C":3.405477815841522},{"x":37,"A":-0.08245052927585539,"B":1.1978446746294353,"C":2.2666286340339},{"x":38,"A":0.0382505905231012,"B":0.4982450175874269,"C":2.857319572893163},{"x":39,"A":0.6445471503776339,"B":1.2261986091550314,"C":2.117852275502052},{"x":40,"A":0.6534383428933114,"B":0.5278573597030385,"C":2.366600835909246},{"x":41,"A":1.444306764875623,"B":1.6759398052442611,"C":2.662877798671223},{"x":42,"A":-1.112912852537911,"B":1.0259658464978276,"C":1.6824307957362454},{"x":43,"A":0.1899645700621443,"B":-0.19141253789597323,"C":1.660800999961188},{"x":44,"A":2.333793899299767,"B":-0.6264651389852284,"C":1.8252455566804633},{"x":45,"A":1.5685831266173964,"B":-0.37756550576991466,"C":1.1692919128481118},{"x":46,"A":0.8368789266607298,"B":-0.5888885028269198,"C":0.16782852046376145},{"x":47,"A":0.4131683153881049,"B":0.5281732043699741,"C":0.8127865302205596},{"x":48,"A":1.1313964423559413,"B":0.7080416530216527,"C":1.4164947821245646},{"x":49,"A":0.7649053182499954,"B":0.9624084607639094,"C":1.852004157681157},{"x":50,"A":0.31343559236966007,"B":0.7632588669489093,"C":2.301195248195306},{"x":51,"A":1.126055282595412,"B":0.0035431304401079,"C":2.147108608990664},{"x":52,"A":0.0016405769596491426,"B":-0.4132573830706172,"C":1.9243935473946778},{"x":53,"A":0.3414771429919381,"B":-0.6368885049690675,"C":2.7357889953737637},{"x":54,"A":0.31229550049832466,"B":-1.2241970810183003,"C":1.5429352589272787},{"x":55,"A":0.47932094976789785,"B":-2.2127597477020107,"C":2.1833684620273215},{"x":56,"A":-0.4762288342386347,"B":-0.5631980870624809,"C":1.8683263368568692},{"x":57,"A":-0.40346381708344314,"B":-0.8893133207012778,"C":1.744678780115651},{"x":58,"A":-0.8619136757496574,"B":-2.8801915443908657,"C":0.6081177781086257},{"x":59,"A":0.5106365949273161,"B":-3.337800053253649,"C":1.5246091483600845},{"x":60,"A":0.5878712245771017,"B":-5.028704798967707,"C":2.5747596117176763},{"x":61,"A":1.0439682156330492,"B":-6.086413799628652,"C":2.0301568695642187},{"x":62,"A":0.5354205412033256,"B":-6.908079688235943,"C":2.548950747146951},{"x":63,"A":3.0088616625654536,"B":-7.2096837353468946,"C":2.711464844999848},{"x":64,"A":3.2664355742432565,"B":-7.191332142146144,"C":3.6293843138629462},{"x":65,"A":5.560036912142779,"B":-7.031210106685866,"C":3.9071442363400393},{"x":66,"A":5.025062175621725,"B":-6.990545120542587,"C":2.916162588271147},{"x":67,"A":5.520580498564236,"B":-5.8700114560121905,"C":1.2312722625682035},{"x":68,"A":7.265759988830626,"B":-5.616671886294933,"C":2.0887031867963755},{"x":69,"A":6.854380920119708,"B":-6.274107514026296,"C":2.459347341141725},{"x":70,"A":7.272386346089469,"B":-6.210540388879903,"C":1.7842491840712915},{"x":71,"A":8.34638127876341,"B":-5.434975688391643,"C":1.6702363619781833},{"x":72,"A":7.953198438680454,"B":-6.411472899170856,"C":3.0564031868609964},{"x":73,"A":8.258123997929442,"B":-5.493226116604906,"C":4.914859668562728},{"x":74,"A":7.353459038637376,"B":-5.779495997268027,"C":4.1284323042026125},{"x":75,"A":9.451209902597812,"B":-5.96705894405044,"C":4.0451189785557125},{"x":76,"A":9.679696813719609,"B":-6.4929690042952,"C":3.5412895016460255},{"x":77,"A":9.953309649836692,"B":-6.351150101620384,"C":3.5869456691830277},{"x":78,"A":8.987012905283011,"B":-5.960181321762023,"C":3.2229390304586274},{"x":79,"A":8.767288748214401,"B":-7.344180982961894,"C":5.003303047281419},{"x":80,"A":9.259444372520079,"B":-6.877388738101409,"C":4.621347221956301},{"x":81,"A":8.280325627151104,"B":-7.271450958156369,"C":5.6590127946723685},{"x":82,"A":9.108522283405248,"B":-6.700176395730759,"C":5.129511027296344},{"x":83,"A":9.946139973817065,"B":-7.182257307355421,"C":5.747586661513504},{"x":84,"A":9.886562049579187,"B":-8.478211069030056,"C":3.453540778417158},{"x":85,"A":10.299974797250073,"B":-8.265808860838929,"C":3.146340013476406},{"x":86,"A":10.883604736132725,"B":-8.139869499643291,"C":2.463878610762958},{"x":87,"A":9.431599156525827,"B":-6.72234870535629,"C":3.9842837700117104},{"x":88,"A":10.935975660757183,"B":-6.965834678870991,"C":5.204222008815888},{"x":89,"A":11.063567870337833,"B":-6.914177306166733,"C":4.2099128576983205},{"x":90,"A":10.808849319551523,"B":-7.579173468461393,"C":5.006829042326635},{"x":91,"A":9.391048692542325,"B":-8.220284200545454,"C":5.852645936639835},{"x":92,"A":8.615802186723378,"B":-8.85867287368739,"C":6.392869129222447},{"x":93,"A":8.38426377850198,"B":-7.081255097422581,"C":8.464720853824852},{"x":94,"A":7.814782401040896,"B":-8.325184178154641,"C":10.313566335767538},{"x":95,"A":7.783739759355677,"B":-9.086673519000477,"C":10.440461384944607},{"x":96,"A":8.790557853496654,"B":-7.741653729092254,"C":10.735724302724812},{"x":97,"A":10.055794540025595,"B":-7.246672949455698,"C":11.19033647966544},{"x":98,"A":9.646697432764496,"B":-7.509346279939342,"C":12.100321206026313},{"x":99,"A":8.366260341251932,"B":-7.28868218144408,"C":12.647328140649861},{"x":100,"A":8.253764257565754,"B":-8.510134215850787,"C":14.137455486506902}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 5 July 2023 18:23">Wednesday 5 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
