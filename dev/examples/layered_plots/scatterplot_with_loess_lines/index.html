<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlf5975e6e131a47c5a21aa428864f1c7b' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlf5975e6e131a47c5a21aa428864f1c7b',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-1.1769342057744097,"B":-0.701349019148232,"C":1.2912780516381208},{"x":2,"A":-1.8888686484614403,"B":-1.7201663480376692,"C":0.29611628354450426},{"x":3,"A":-1.0063121257034022,"B":-3.0523266094911587,"C":0.9557515593841165},{"x":4,"A":0.1063353811983907,"B":-1.8501562272305878,"C":2.2048104889302635},{"x":5,"A":1.3350938050316343,"B":-0.7941943676821682,"C":2.4555350598263623},{"x":6,"A":1.9005482563216383,"B":-2.04971855832352,"C":3.885361192710393},{"x":7,"A":3.425469263736623,"B":-1.3392154049169491,"C":3.794396692203822},{"x":8,"A":2.2565912316449954,"B":-1.7203490616440522,"C":4.877348036181575},{"x":9,"A":2.9438699055000757,"B":-0.244894374553969,"C":6.371922363368666},{"x":10,"A":3.303940112238753,"B":-1.277199338458232,"C":7.9525791987891035},{"x":11,"A":5.462441051373409,"B":-2.0789374200655875,"C":8.134470784820772},{"x":12,"A":5.13395953950592,"B":-1.9742639895077794,"C":8.422980442182885},{"x":13,"A":5.144641896982101,"B":-1.5521643551768491,"C":8.294801635850034},{"x":14,"A":4.747561538195313,"B":-2.5103505746151473,"C":7.2209613048991},{"x":15,"A":3.368683291105849,"B":-1.1134110422552648,"C":7.8948148932088476},{"x":16,"A":3.583722855684693,"B":-2.055842984291411,"C":6.951327772776345},{"x":17,"A":3.570259001133888,"B":-2.9370624154194602,"C":3.498886263619638},{"x":18,"A":4.1061887258884795,"B":-3.587761140717453,"C":3.406545606450716},{"x":19,"A":4.0918538459323965,"B":-2.815694730031412,"C":2.711731274348616},{"x":20,"A":5.201844302117648,"B":-1.2257220480936066,"C":3.9048119866077586},{"x":21,"A":5.80652506313729,"B":-3.2926319399701773,"C":3.9578545571016104},{"x":22,"A":6.477553049236359,"B":-2.223135076889803,"C":1.2020960585780667},{"x":23,"A":8.062468711543442,"B":-0.8717530503077552,"C":0.7942870518028453},{"x":24,"A":9.572431772102295,"B":-0.40153160027983065,"C":1.559723497812795},{"x":25,"A":8.717546412082909,"B":-0.7079342703325037,"C":1.3952674195315828},{"x":26,"A":7.633000303047991,"B":-3.03197978473282,"C":0.21160615866302934},{"x":27,"A":5.815339006478117,"B":-3.7548890553539604,"C":2.293246339090371},{"x":28,"A":7.0088072747956165,"B":-4.059816898726768,"C":2.1996188357359863},{"x":29,"A":7.4107190193545165,"B":-3.892327899964091,"C":0.3618406926220432},{"x":30,"A":7.224605984340814,"B":-3.506782601517411,"C":-0.2109361643391694},{"x":31,"A":6.746326468176758,"B":-3.8644429484293052,"C":0.5344537049062743},{"x":32,"A":6.584513561326801,"B":-3.0750706347364356,"C":0.2532119129754764},{"x":33,"A":6.411586610967547,"B":-5.375768696187096,"C":-0.22239283406233668},{"x":34,"A":6.335128595843331,"B":-7.7029791663759966,"C":1.0408209214303512},{"x":35,"A":7.783215179660909,"B":-7.262507694005816,"C":2.327663604365597},{"x":36,"A":6.399425534576977,"B":-7.411836187940465,"C":0.4941807235924238},{"x":37,"A":6.581782490605557,"B":-6.2149241649119835,"C":0.19542559934886472},{"x":38,"A":5.494016036241332,"B":-7.374870476346156,"C":2.165238154124186},{"x":39,"A":6.992912743521137,"B":-7.025336550774882,"C":2.6636060404161626},{"x":40,"A":10.001188572510697,"B":-6.681220664760083,"C":2.1303680864691743},{"x":41,"A":8.975394262702132,"B":-6.881387699089847,"C":3.1025457840538895},{"x":42,"A":7.823383223476812,"B":-7.106709975301391,"C":3.6304747493234464},{"x":43,"A":6.661728814624492,"B":-9.47452887700479,"C":2.3595946293308767},{"x":44,"A":5.024827544449085,"B":-9.066418178567604,"C":1.1115452085996234},{"x":45,"A":3.7738078412365623,"B":-9.691846326483653,"C":1.466884335802534},{"x":46,"A":4.8540256702570215,"B":-10.811275197237194,"C":1.2198420215984875},{"x":47,"A":3.9374954394108346,"B":-11.820278149084928,"C":1.8503934009031633},{"x":48,"A":2.3351053395207226,"B":-11.239047937691147,"C":3.2990320708385488},{"x":49,"A":2.570583523796784,"B":-11.177684538646039,"C":4.273226507750824},{"x":50,"A":1.5385296346996333,"B":-10.01057406207524,"C":6.859743865804631},{"x":51,"A":3.40581563659862,"B":-9.411417353509671,"C":6.9807945500366815},{"x":52,"A":3.6660952255040473,"B":-8.747906342283214,"C":5.339221681117846},{"x":53,"A":5.145203162078021,"B":-7.337339579239696,"C":4.553927215245316},{"x":54,"A":4.715674064607606,"B":-6.4962995705838535,"C":3.540614645011547},{"x":55,"A":6.021387982104574,"B":-6.955428453726644,"C":2.6279912640627034},{"x":56,"A":5.805141652084517,"B":-4.936554620575205,"C":1.9550984916802756},{"x":57,"A":4.9159284490819495,"B":-6.1490734738205575,"C":2.789253427013084},{"x":58,"A":4.472974297208161,"B":-5.717052441052208,"C":3.83918903902072},{"x":59,"A":3.224875136032447,"B":-4.412495952617456,"C":2.422567260312059},{"x":60,"A":3.442458630909701,"B":-3.110550492152508,"C":3.056438358215247},{"x":61,"A":2.7899419880950176,"B":-2.449985058518503,"C":2.983445851280294},{"x":62,"A":2.8080351364714247,"B":-0.8996382748788355,"C":3.100059707766728},{"x":63,"A":1.7156310726193316,"B":-1.2733195229891239,"C":3.6300188853485587},{"x":64,"A":1.0102917015058077,"B":-1.1854723860977037,"C":4.84582957514968},{"x":65,"A":0.4749836844457138,"B":-1.5941934297166176,"C":4.191041853705124},{"x":66,"A":-0.4642851415157915,"B":-2.8799075806720063,"C":3.4357389013634547},{"x":67,"A":-2.2283737151692047,"B":-2.4641273173506,"C":4.63611021018631},{"x":68,"A":-1.0513747308990802,"B":-0.835006995648934,"C":5.445600736536056},{"x":69,"A":-1.240346944091516,"B":-1.2905597299881535,"C":5.15280139880463},{"x":70,"A":-1.511016957384234,"B":-0.2852257534580098,"C":4.820574644012577},{"x":71,"A":-3.3290911301837065,"B":-2.3036944988105117,"C":5.033468909007389},{"x":72,"A":-2.211170155931013,"B":-3.370862194683834,"C":5.043921590829389},{"x":73,"A":-3.4278554811899435,"B":-3.027587352957417,"C":5.891402338187205},{"x":74,"A":-3.6553747384128368,"B":-4.514146893709524,"C":6.011932163672765},{"x":75,"A":-2.452205289831416,"B":-3.818895837193067,"C":7.5264547473272865},{"x":76,"A":-2.1576484388338724,"B":-3.2771369430644155,"C":6.582340355289417},{"x":77,"A":-2.4538934334924956,"B":-3.2192630571181056,"C":7.703456704604732},{"x":78,"A":-1.7319719108407827,"B":-3.259427260085386,"C":6.877863344987756},{"x":79,"A":-2.948991644084583,"B":-3.130956550173628,"C":3.638654947914741},{"x":80,"A":-2.869789507239679,"B":-3.4683146030046665,"C":4.595674288315629},{"x":81,"A":-2.539365369644437,"B":-3.368728951571372,"C":4.509504526280853},{"x":82,"A":-2.307538055404426,"B":-1.8929154100929027,"C":3.7593495315607486},{"x":83,"A":-2.931101941182,"B":-1.1330090818848881,"C":4.286720669142641},{"x":84,"A":-3.2359782226676317,"B":-1.2903316148158859,"C":3.1086336816096702},{"x":85,"A":-5.5840829372288585,"B":0.0823534412748822,"C":3.5269631680479225},{"x":86,"A":-7.524555588193024,"B":-1.815500183201765,"C":2.8160721656093237},{"x":87,"A":-8.117201803490394,"B":-3.341024317441744,"C":2.6701605658425587},{"x":88,"A":-6.9281243132852115,"B":-2.170682793870133,"C":2.2755088447910436},{"x":89,"A":-7.711237721631155,"B":-2.4543065581656838,"C":3.117663854892495},{"x":90,"A":-8.353941549056424,"B":-3.4856501894440406,"C":3.199993106916727},{"x":91,"A":-8.62158159146873,"B":-4.658969948626287,"C":3.454856428448875},{"x":92,"A":-8.183423326490695,"B":-4.368103613411124,"C":4.288913670004068},{"x":93,"A":-6.872512287672757,"B":-3.4487430213205945,"C":4.235473151762849},{"x":94,"A":-6.751665251463287,"B":-2.6888986829713617,"C":2.913053362305566},{"x":95,"A":-5.122329133108576,"B":-3.243136556875286,"C":3.097111692220057},{"x":96,"A":-6.637121199981614,"B":-5.010612778382133,"C":2.8048639260673562},{"x":97,"A":-6.365485884565688,"B":-2.649587562186755,"C":2.242118545589192},{"x":98,"A":-6.691577801529256,"B":-2.3915274666836823,"C":0.5615405247441058},{"x":99,"A":-7.285539111838107,"B":-3.2170595909204893,"C":-0.6330919643462172},{"x":100,"A":-7.268852187419746,"B":-2.2488650004457207,"C":-0.27622374289970897}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 7 July 2023 14:29">Friday 7 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
