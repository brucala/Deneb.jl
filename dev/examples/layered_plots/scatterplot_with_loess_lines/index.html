<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlf75eae219fd44baaa28bea6aaeedf687' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlf75eae219fd44baaa28bea6aaeedf687',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":1.1818933825891933,"B":0.45135793311368516,"C":-0.45043716228522335},{"x":2,"A":2.7003051023092115,"B":-0.42880968179397577,"C":-2.062469516196576},{"x":3,"A":2.2442124510586656,"B":-0.1942098640933187,"C":-2.6552053829112707},{"x":4,"A":3.6901683075728715,"B":-1.3600020598668832,"C":-2.045623161350417},{"x":5,"A":4.167212560190787,"B":-2.76119759783771,"C":-2.346454002245123},{"x":6,"A":2.1999576130043623,"B":-1.5460707660289332,"C":-2.8381763019294097},{"x":7,"A":2.8690127753298693,"B":-1.7256581054891242,"C":-3.450524027656457},{"x":8,"A":2.57554890704416,"B":-1.997070162297498,"C":-2.5790803525396635},{"x":9,"A":3.089769739328864,"B":-1.5675033879941078,"C":-3.9044589088279635},{"x":10,"A":3.0895910867653384,"B":-2.647109537602074,"C":-3.3332093863874817},{"x":11,"A":3.950719498191389,"B":-1.8108575963049707,"C":-3.088999783508852},{"x":12,"A":4.155723579372639,"B":-1.221081909286732,"C":-2.41036125974257},{"x":13,"A":2.874874544094985,"B":-1.9055791956012507,"C":-3.2484054680656698},{"x":14,"A":3.2836189369822777,"B":-1.0965485495828173,"C":-1.9153566670716384},{"x":15,"A":2.9953171698953063,"B":1.1668184882953279,"C":-2.1684514831825723},{"x":16,"A":2.150052442813523,"B":0.7151811100838743,"C":-1.4410328983645757},{"x":17,"A":0.6354912031641416,"B":0.3946421552154595,"C":-1.4917592622011244},{"x":18,"A":0.16256178620320227,"B":0.9497636001591465,"C":-2.0967875689828985},{"x":19,"A":0.6912719035687725,"B":1.20802454322583,"C":-2.8614845000272076},{"x":20,"A":0.30612560734366934,"B":0.5324138445481079,"C":-3.8032344114645475},{"x":21,"A":-0.08741274933485288,"B":0.25486733253146804,"C":-3.863561639145424},{"x":22,"A":-1.5778509200524984,"B":0.7057983256115106,"C":-3.9348888427068003},{"x":23,"A":-1.938644351545916,"B":1.7898545225876505,"C":-3.903868449000603},{"x":24,"A":-1.522068928076083,"B":1.274186262466929,"C":-5.580219576786809},{"x":25,"A":-2.1824427142314504,"B":1.2665186935091362,"C":-5.717379713669314},{"x":26,"A":-1.8376125297724584,"B":2.042636550462775,"C":-7.013022177834183},{"x":27,"A":-1.643491918551986,"B":2.0198759274461016,"C":-6.541006498325186},{"x":28,"A":-1.191094113507233,"B":4.356409973900367,"C":-4.995495334985434},{"x":29,"A":-0.9941759212754171,"B":5.386004802392063,"C":-3.270303856895501},{"x":30,"A":-1.4762269677270639,"B":5.508523565770772,"C":-3.2061044130327683},{"x":31,"A":-1.8933916744364292,"B":3.286335733377216,"C":-1.1148433804270206},{"x":32,"A":-2.2365733404942367,"B":3.492197019821276,"C":0.22673799729981126},{"x":33,"A":-2.7730299703015695,"B":5.062162397622432,"C":-0.33580285461325954},{"x":34,"A":-2.3943277447427804,"B":5.3412451787083715,"C":1.685418208298067},{"x":35,"A":-2.339895892574532,"B":4.579865423044862,"C":0.8051715485328476},{"x":36,"A":-1.8892534180932272,"B":1.192618130444294,"C":1.649016254476201},{"x":37,"A":-1.6456783555548493,"B":-0.06995940797311367,"C":1.24014124264019},{"x":38,"A":-1.0152465767497243,"B":-1.223248587968849,"C":1.8160421121613126},{"x":39,"A":-1.5068695922665962,"B":0.9081419777329183,"C":2.0901935967218077},{"x":40,"A":-1.0754397680939052,"B":2.2616329783457063,"C":1.229918119527842},{"x":41,"A":-1.8629981540329168,"B":3.1509470393812764,"C":0.07878500952615897},{"x":42,"A":-1.099092404207675,"B":2.844547559215072,"C":-0.4458279898561478},{"x":43,"A":0.0816051100852282,"B":3.282170479260521,"C":-0.4712916278459612},{"x":44,"A":0.01990370376267636,"B":2.4515462834812762,"C":0.6312151392227979},{"x":45,"A":0.06643319313600715,"B":1.4746786540164605,"C":1.095849228681233},{"x":46,"A":-0.6142343596470825,"B":2.8203874780614204,"C":0.2752248748298398},{"x":47,"A":-1.795186760705426,"B":2.3451652639149017,"C":-0.1214693146621848},{"x":48,"A":-0.9408942345368243,"B":2.951661024518303,"C":0.9237727454505454},{"x":49,"A":-0.5971409432717543,"B":5.4179814685447045,"C":0.583079213888826},{"x":50,"A":0.1843083291755625,"B":5.098889627197669,"C":0.6224307423452845},{"x":51,"A":0.5350846726434643,"B":4.042633734929357,"C":0.30080779803025515},{"x":52,"A":2.0249852994286663,"B":4.259536316643194,"C":-0.8553494398128368},{"x":53,"A":2.94203884744987,"B":3.792323559965728,"C":-1.69455446928934},{"x":54,"A":1.285010368594112,"B":2.3512243748975403,"C":-1.4857880445190692},{"x":55,"A":0.9642591226332621,"B":2.9179682778004166,"C":-2.779780072393352},{"x":56,"A":0.11290635743525534,"B":3.5263321166169397,"C":-1.4568983479862276},{"x":57,"A":1.2433738653245765,"B":4.657011968797742,"C":-1.8520614302677059},{"x":58,"A":2.066393487165429,"B":4.186356230159431,"C":-3.4733628567389347},{"x":59,"A":2.1377446004660183,"B":4.359677093118898,"C":-2.94388207816291},{"x":60,"A":0.3282765105260189,"B":3.9685584140803445,"C":-2.3870503298904318},{"x":61,"A":-0.33961797482376044,"B":2.249372490186193,"C":-2.2903933155797804},{"x":62,"A":-0.5048111236426251,"B":0.8619818943146211,"C":-1.893366053617279},{"x":63,"A":0.7677934920555345,"B":1.0667752127151207,"C":-2.755228377964049},{"x":64,"A":1.1794318099152532,"B":0.03678549171220974,"C":-3.4856999505011923},{"x":65,"A":2.196730630929242,"B":0.007262376997545894,"C":-3.2363752987064482},{"x":66,"A":1.7488732860583984,"B":0.047281605745267574,"C":-4.605413291846932},{"x":67,"A":1.8861693726253512,"B":-0.6813782661634553,"C":-4.992060346782998},{"x":68,"A":2.2533342102692586,"B":0.12243824732486125,"C":-5.026129142308821},{"x":69,"A":2.983274306432868,"B":0.3516932956077611,"C":-6.884060922299601},{"x":70,"A":4.527132072140271,"B":0.5560833400692158,"C":-5.419870840363997},{"x":71,"A":4.744544254940111,"B":-1.9902875482791393,"C":-5.956783983942259},{"x":72,"A":6.55798469008589,"B":-1.326950676203973,"C":-4.530124732085208},{"x":73,"A":8.026205191327584,"B":-1.580169025179707,"C":-7.40063879899177},{"x":74,"A":7.6429698740750975,"B":-2.205911977735168,"C":-8.193279848987634},{"x":75,"A":5.128174938233576,"B":-3.5104631027421704,"C":-8.245849104372185},{"x":76,"A":5.020353370042875,"B":-3.7874590524817617,"C":-7.4584775356160735},{"x":77,"A":3.5354551437000112,"B":-2.9186098553582345,"C":-8.976953776216261},{"x":78,"A":3.657382084753894,"B":-3.7654775371629516,"C":-9.58043719009802},{"x":79,"A":4.573767293536409,"B":-4.261215812477174,"C":-7.995737016558553},{"x":80,"A":4.699198430733345,"B":-2.2055831442033456,"C":-9.000323292514675},{"x":81,"A":4.8830649462574005,"B":-2.158772823882844,"C":-9.829202708683571},{"x":82,"A":3.18600348261471,"B":-2.160900871927785,"C":-8.204728301421916},{"x":83,"A":2.9982831681382236,"B":-2.072714637944836,"C":-6.556049138280505},{"x":84,"A":3.823497966310358,"B":-2.0378641755150793,"C":-6.81085828977705},{"x":85,"A":4.171069489278578,"B":0.20508586208628804,"C":-5.769762903366497},{"x":86,"A":3.5498707976389356,"B":0.4076824929217395,"C":-7.0234341384645385},{"x":87,"A":4.837142492256644,"B":0.4573017418834172,"C":-8.136131938104823},{"x":88,"A":5.304863693965098,"B":0.3972291297441291,"C":-7.942959304971172},{"x":89,"A":5.4142475365639235,"B":0.8768304954339615,"C":-5.842002329936746},{"x":90,"A":6.816063502895625,"B":1.6896170778465942,"C":-5.454297876785718},{"x":91,"A":8.017445290593708,"B":2.520950017810214,"C":-6.160996433797684},{"x":92,"A":6.8082659719864225,"B":2.7934713536282594,"C":-4.698619961827518},{"x":93,"A":8.325603096275973,"B":2.325997300584669,"C":-5.233189705837888},{"x":94,"A":8.720914212366685,"B":2.7440967199125144,"C":-4.422728346329435},{"x":95,"A":9.016751802554728,"B":2.6339891059388236,"C":-3.3898566216526334},{"x":96,"A":8.076663195567837,"B":3.106702021322715,"C":-1.8658090996430805},{"x":97,"A":6.596101109074105,"B":2.754678445342788,"C":-2.047156442657419},{"x":98,"A":4.294515597117179,"B":2.4245306533183943,"C":-1.0955398261708775},{"x":99,"A":4.418279725624588,"B":3.3141093969172384,"C":1.2775333196970853},{"x":100,"A":5.042232701356033,"B":3.581585271528635,"C":-0.99117554558951}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Saturday 1 July 2023 07:44">Saturday 1 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
