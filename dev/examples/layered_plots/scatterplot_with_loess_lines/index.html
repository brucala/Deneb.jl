<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl046b89acb61b428eaeed1914779e4fec' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl046b89acb61b428eaeed1914779e4fec',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-1.3447029230205003,"B":-0.547930306096198,"C":-0.5598852713702381},{"x":2,"A":-2.8242491519856294,"B":-0.617844688157909,"C":1.2540880429387102},{"x":3,"A":-3.1204760416735677,"B":-0.8056326725461017,"C":2.048161819239558},{"x":4,"A":-1.8230663028521592,"B":-0.2622365971375098,"C":2.679745681829399},{"x":5,"A":-2.3644745572762216,"B":-1.618086230162104,"C":1.261174572269129},{"x":6,"A":-0.26477537928913586,"B":-2.1148585811427916,"C":2.2248161131799296},{"x":7,"A":-1.0713556506123516,"B":-1.6132712789275916,"C":2.554511698108896},{"x":8,"A":-3.340710272050088,"B":-1.1505493235122162,"C":0.4329801415364468},{"x":9,"A":-2.2389721564083658,"B":-0.3313175596028439,"C":0.4409466475884435},{"x":10,"A":-1.580563535524457,"B":0.7008890824917751,"C":1.0663459374961346},{"x":11,"A":-3.152301018161875,"B":-0.5549825145538143,"C":0.9623345323748252},{"x":12,"A":-3.632854489804552,"B":-1.5757649807730183,"C":1.6189506731994547},{"x":13,"A":-4.223650916830936,"B":-1.36716986875645,"C":1.9204018369661742},{"x":14,"A":-4.087524100362431,"B":-2.069104999134214,"C":1.0303255970286584},{"x":15,"A":-2.5018031387171513,"B":-1.894542787991412,"C":1.562125085049637},{"x":16,"A":-3.8070333811289854,"B":-0.8279083050445499,"C":1.3730565067963871},{"x":17,"A":-3.773422621340983,"B":0.18597577235822604,"C":0.6612156972925353},{"x":18,"A":-3.11355853672853,"B":-0.04535231940176421,"C":0.3656624099046818},{"x":19,"A":-2.561984783799468,"B":-0.11836912069556654,"C":-0.33950442036037165},{"x":20,"A":-2.4655250626714107,"B":-1.0698258849055486,"C":0.12015862109021103},{"x":21,"A":-2.016163208720282,"B":-0.9273589595158325,"C":1.8064138389183308},{"x":22,"A":-2.8778567544040765,"B":-2.5470649024995513,"C":1.3475488189095595},{"x":23,"A":-3.885422345066854,"B":-2.679731720227741,"C":1.1635145817743129},{"x":24,"A":-5.055532259845242,"B":-3.0371491808444073,"C":1.9283424821930835},{"x":25,"A":-4.934460763529568,"B":-3.759047611743875,"C":1.8844785722646615},{"x":26,"A":-5.199949290098512,"B":-3.041837731255267,"C":2.794392512446119},{"x":27,"A":-4.78557693436106,"B":-4.080944587477839,"C":1.8468692165947656},{"x":28,"A":-3.42223781186526,"B":-2.5112392559516836,"C":1.9612686675960687},{"x":29,"A":-4.2469295127167985,"B":-3.7125629821502004,"C":2.0011898280694944},{"x":30,"A":-4.281262211718454,"B":-5.201520535947935,"C":1.7834652960136466},{"x":31,"A":-5.719971529961541,"B":-4.650540800641888,"C":2.9363267575503373},{"x":32,"A":-6.313646965773431,"B":-4.414738589861494,"C":3.4137740257256284},{"x":33,"A":-7.363420533193528,"B":-5.405389471053631,"C":3.2951901997554502},{"x":34,"A":-7.1369076261102595,"B":-4.509758287440208,"C":3.1433489104716346},{"x":35,"A":-8.238457044127617,"B":-3.6875735313008953,"C":1.5827218093986852},{"x":36,"A":-6.782976712532614,"B":-4.61112390688963,"C":0.217969846508956},{"x":37,"A":-6.509846507066943,"B":-4.643079368270668,"C":1.1465730172514},{"x":38,"A":-7.256689381790357,"B":-4.177812124775935,"C":1.0854067869463297},{"x":39,"A":-7.14990821575706,"B":-4.031519858372403,"C":0.8196848437108223},{"x":40,"A":-6.841377993106988,"B":-0.2951789573809671,"C":0.4723018420407238},{"x":41,"A":-7.289053122367994,"B":-0.9230939539399424,"C":2.2547832890891226},{"x":42,"A":-9.37825963363858,"B":-0.23995331852572888,"C":2.9010221783479424},{"x":43,"A":-9.117306854947286,"B":-1.3173888055088332,"C":5.27587550051342},{"x":44,"A":-8.823586931773876,"B":-0.980967737528535,"C":4.303830011048258},{"x":45,"A":-7.762496920109193,"B":-0.7251038067221693,"C":5.112628890487527},{"x":46,"A":-7.647375941543428,"B":-1.2152151723554727,"C":4.065030620230717},{"x":47,"A":-6.198134090296408,"B":-2.244962547166515,"C":2.6763002295606673},{"x":48,"A":-5.479140612830017,"B":-4.549052146025667,"C":3.4029113092256353},{"x":49,"A":-5.401247263916794,"B":-4.3297941502774435,"C":3.6189500813189617},{"x":50,"A":-4.048538746220753,"B":-4.5245166787557745,"C":3.072095057194539},{"x":51,"A":-3.4049000561209843,"B":-4.021293994395676,"C":2.586659656077732},{"x":52,"A":-3.863713198306018,"B":-4.511967861148084,"C":1.3052944643146716},{"x":53,"A":-2.7791441929753216,"B":-4.938981799979253,"C":1.671690315539808},{"x":54,"A":-1.800270894621141,"B":-4.754338659206986,"C":2.4227414299149186},{"x":55,"A":-0.3483971103906679,"B":-4.484269625312736,"C":0.9649803844265478},{"x":56,"A":0.09159250988622203,"B":-4.541169181266868,"C":0.8133156709656032},{"x":57,"A":-3.1043523878881882,"B":-4.289361425761073,"C":0.775193841642633},{"x":58,"A":-2.137185738108926,"B":-4.449871052269378,"C":2.2465328571289356},{"x":59,"A":-3.117237339592624,"B":-4.760538205433881,"C":2.823754198060127},{"x":60,"A":-3.700360832529079,"B":-3.7425241819462247,"C":3.262307083279834},{"x":61,"A":-2.7901062750946615,"B":-4.0754496810212535,"C":2.8258791215076626},{"x":62,"A":-4.533815022747144,"B":-3.588175493772085,"C":3.1396564819169437},{"x":63,"A":-4.965892926193706,"B":-4.712891900694503,"C":2.5315652460372653},{"x":64,"A":-6.107074546565709,"B":-6.257297620082186,"C":2.1682346203340552},{"x":65,"A":-5.978401533919875,"B":-7.919270632731949,"C":3.6150869039180047},{"x":66,"A":-5.53862977340671,"B":-7.268783558296237,"C":1.8914515007955797},{"x":67,"A":-5.512757198742637,"B":-6.282174572331889,"C":1.2742583241007606},{"x":68,"A":-5.420329389800164,"B":-5.398835239271498,"C":1.0790288341873726},{"x":69,"A":-5.406570813873193,"B":-5.9428818538961,"C":2.570466373388013},{"x":70,"A":-5.273664875730878,"B":-6.255564544453274,"C":1.2446357540052895},{"x":71,"A":-6.874127162925877,"B":-5.238884270992831,"C":1.6128881953548833},{"x":72,"A":-7.7579873908183075,"B":-7.428879235189109,"C":1.7346072043291332},{"x":73,"A":-9.221620766254734,"B":-7.658333538025617,"C":3.928472570595647},{"x":74,"A":-7.348700089571787,"B":-5.980828511625903,"C":5.630975706463709},{"x":75,"A":-8.09622355821964,"B":-6.814489579797687,"C":5.476360583377383},{"x":76,"A":-9.086082727012757,"B":-7.803566019398822,"C":6.273747306844657},{"x":77,"A":-10.807446123912428,"B":-7.133138615787496,"C":6.4551208718221655},{"x":78,"A":-9.523887988189145,"B":-6.737822360319223,"C":4.8925559357671915},{"x":79,"A":-8.920918530745015,"B":-5.038036486657539,"C":5.098493481892852},{"x":80,"A":-7.325799602482366,"B":-5.705571444745647,"C":4.185313732960769},{"x":81,"A":-6.785043596473971,"B":-6.667697977841064,"C":4.706261437765484},{"x":82,"A":-5.365339116805069,"B":-6.875560890447024,"C":5.792892397167857},{"x":83,"A":-5.077124690209855,"B":-7.248135979043768,"C":5.756340879725764},{"x":84,"A":-4.516375478446264,"B":-7.457989010307063,"C":6.074562414611491},{"x":85,"A":-5.293522242299332,"B":-7.8757206175707175,"C":8.066804886883858},{"x":86,"A":-4.811468521983293,"B":-8.572026774734343,"C":6.249934993634784},{"x":87,"A":-6.488834738263829,"B":-7.711036546579257,"C":6.6385915046087955},{"x":88,"A":-6.216226060603656,"B":-7.509554896002815,"C":7.992328367466257},{"x":89,"A":-5.126345698906643,"B":-7.183801432992087,"C":7.4435642326617},{"x":90,"A":-5.261261076551154,"B":-8.220725923993335,"C":6.893590078724859},{"x":91,"A":-5.911162112287384,"B":-7.277677099910335,"C":6.984560257137938},{"x":92,"A":-6.5319450167167386,"B":-8.417561852927493,"C":5.439523635854504},{"x":93,"A":-6.532253993218337,"B":-7.9229683863805125,"C":5.810661607553125},{"x":94,"A":-7.338686519080838,"B":-8.391586933868428,"C":6.809721368904565},{"x":95,"A":-7.384781585792254,"B":-9.225590423997627,"C":7.5094066045603896},{"x":96,"A":-8.118669163263661,"B":-8.646983894392092,"C":7.800313894100121},{"x":97,"A":-8.836469761508075,"B":-9.093221166973528,"C":8.451194316392268},{"x":98,"A":-9.085876175606439,"B":-7.571030497072057,"C":8.736634829215483},{"x":99,"A":-10.272053627211712,"B":-6.822763148764808,"C":9.370242998169708},{"x":100,"A":-10.819648575846925,"B":-7.1528436868680005,"C":9.539938600770002}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Saturday 1 July 2023 19:05">Saturday 1 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
