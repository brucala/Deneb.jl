<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl905ce8a0169548f386ed8f6a31553be2' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl905ce8a0169548f386ed8f6a31553be2',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.8439333612052352,"B":-0.7369136455237869,"C":0.3573400230724774},{"x":2,"A":-1.0829969278838265,"B":-0.9465857473827403,"C":-0.3557370687334655},{"x":3,"A":-0.8699530634444584,"B":-2.207768195312377,"C":-0.44574615309926796},{"x":4,"A":-0.23353219442061302,"B":-3.8918679963764458,"C":1.0940655625056694},{"x":5,"A":-1.6383883935478039,"B":-4.72630295410452,"C":0.16160080618166323},{"x":6,"A":-1.3674158351114762,"B":-3.629112909061146,"C":0.20810290557364663},{"x":7,"A":-2.024645513535234,"B":-2.881461820147955,"C":-2.0258643222686636},{"x":8,"A":-2.916898288808766,"B":-3.624811209129777,"C":-0.6620453232023322},{"x":9,"A":-2.0265284284984615,"B":-4.630855030819139,"C":-1.0564296901112342},{"x":10,"A":-1.174019211148476,"B":-6.279976334861521,"C":-0.28062999458793975},{"x":11,"A":-0.6740128694449106,"B":-7.197072957959655,"C":0.9810329258988901},{"x":12,"A":-2.17857650316965,"B":-6.466531213368427,"C":1.973930050529608},{"x":13,"A":-2.031098349205645,"B":-8.569026895163068,"C":1.4407538465490832},{"x":14,"A":-0.5883775422410916,"B":-8.869520585725136,"C":2.1543727912490733},{"x":15,"A":-0.1940607788269545,"B":-8.9212150102831,"C":1.6090441456673035},{"x":16,"A":-0.9377031487056494,"B":-8.029075631136262,"C":1.413299089143239},{"x":17,"A":-1.9372707102128048,"B":-9.847321217155798,"C":2.0156741869786146},{"x":18,"A":-2.8966506425537957,"B":-8.527689423563915,"C":3.2983419553175444},{"x":19,"A":-4.335037947569039,"B":-8.24707386276212,"C":4.66271960044847},{"x":20,"A":-4.094220746243065,"B":-6.599730118007491,"C":5.280148425322491},{"x":21,"A":-4.315049959746445,"B":-5.887753450004957,"C":4.701624546612125},{"x":22,"A":-4.610107481805719,"B":-5.89702000362167,"C":4.9205987701779925},{"x":23,"A":-5.2165498711280565,"B":-7.2527289233232395,"C":4.29336167412181},{"x":24,"A":-6.0837057143999855,"B":-7.157794423331767,"C":4.50269498029035},{"x":25,"A":-7.189945597125233,"B":-6.187864656682146,"C":4.803592712648942},{"x":26,"A":-8.12250481251215,"B":-6.2054420186774015,"C":3.9435170822896772},{"x":27,"A":-8.462288052527471,"B":-6.120213028368934,"C":2.12214512525437},{"x":28,"A":-9.949404342043183,"B":-6.3550505745804005,"C":3.371460654373719},{"x":29,"A":-9.205701704442902,"B":-4.978970077328939,"C":5.8238727605481495},{"x":30,"A":-8.554333329445566,"B":-2.7685814529847526,"C":6.221791419297231},{"x":31,"A":-8.116919677927896,"B":-2.8475794312946934,"C":6.697666151914183},{"x":32,"A":-7.646740798421494,"B":-1.3919595195973509,"C":7.496813815909735},{"x":33,"A":-7.3929801242924436,"B":-1.3322835710000769,"C":6.363252021416966},{"x":34,"A":-8.069981265857178,"B":-1.83554242503331,"C":5.354683461261296},{"x":35,"A":-5.900679869111335,"B":-0.9927536223789877,"C":7.180649264872711},{"x":36,"A":-5.9953762570545965,"B":-2.6046620911084837,"C":7.822582015419697},{"x":37,"A":-5.695085252546853,"B":-1.8027798859042612,"C":10.221564121875996},{"x":38,"A":-6.338544272698696,"B":-1.826056539132495,"C":11.358826603359914},{"x":39,"A":-6.070378714714784,"B":-2.0925662296094147,"C":10.80709915936465},{"x":40,"A":-7.366751852410699,"B":-2.1918845077164972,"C":9.753508233122233},{"x":41,"A":-8.296184128770063,"B":-2.665656818772166,"C":9.90663555700607},{"x":42,"A":-8.4543820494414,"B":-5.355508426662553,"C":6.8527829049442},{"x":43,"A":-6.350760546505307,"B":-5.650121971534428,"C":6.667643361876926},{"x":44,"A":-4.179776343903991,"B":-5.303899899867457,"C":8.278242550812712},{"x":45,"A":-2.7286736843220436,"B":-6.669183044669161,"C":9.76220368588728},{"x":46,"A":-2.050064279146776,"B":-5.9814966760216945,"C":9.067462240776784},{"x":47,"A":-1.7994377130806414,"B":-5.4855440601278165,"C":10.04392720081666},{"x":48,"A":-0.8925810692954707,"B":-3.659380196559172,"C":8.80679824393495},{"x":49,"A":-0.4871549916094112,"B":-4.447144245310848,"C":10.057887976559591},{"x":50,"A":-0.2661848785229245,"B":-5.840841818606376,"C":11.19113287796786},{"x":51,"A":1.0289578969989681,"B":-6.483159986566571,"C":11.824888922793914},{"x":52,"A":2.0642798101994178,"B":-5.4130300996609275,"C":11.575954265747532},{"x":53,"A":1.188052402079634,"B":-4.32478698068564,"C":10.485917153730737},{"x":54,"A":2.3014895931710972,"B":-3.264970208287527,"C":9.756306032193706},{"x":55,"A":3.32389264894133,"B":-3.5445642380018874,"C":8.731969117994208},{"x":56,"A":3.048853475693132,"B":-1.413671926901189,"C":10.569158678145236},{"x":57,"A":3.285527063514638,"B":0.34294861561168355,"C":10.451222245277423},{"x":58,"A":2.989820513399943,"B":0.16179315301217,"C":10.239522183470088},{"x":59,"A":2.217898798040631,"B":0.32719881923909655,"C":9.81947229180439},{"x":60,"A":2.5258122543701162,"B":2.1235405288370464,"C":10.119892762160603},{"x":61,"A":2.334266058313903,"B":2.5831573028551755,"C":9.529918977426739},{"x":62,"A":4.01016228348568,"B":3.09660582623537,"C":10.584986422395287},{"x":63,"A":4.0557141125153295,"B":4.183483992304858,"C":9.485671468389446},{"x":64,"A":3.415506016275182,"B":4.9598908357572835,"C":9.749931818753051},{"x":65,"A":3.3522793949031895,"B":3.4970537417818237,"C":9.122587286552234},{"x":66,"A":2.540623655234479,"B":4.109730878797462,"C":10.892688350372344},{"x":67,"A":1.9570059883114999,"B":2.803405325371456,"C":9.535303520936756},{"x":68,"A":1.5983617920749609,"B":3.26002387954622,"C":8.975310033078516},{"x":69,"A":1.6215264994462841,"B":2.3581670949938833,"C":8.397330390087326},{"x":70,"A":2.769538966519,"B":3.792889157648365,"C":10.418229047636988},{"x":71,"A":1.555809032466434,"B":4.447707615146397,"C":10.391964563170081},{"x":72,"A":2.5739833095421356,"B":4.237223679500493,"C":9.386564356443651},{"x":73,"A":1.0818651566452275,"B":5.010891448691272,"C":9.954532854241098},{"x":74,"A":0.5386821312907953,"B":4.940742697866417,"C":11.40923204855269},{"x":75,"A":-0.16720794244645665,"B":5.224651945736397,"C":10.101451238890801},{"x":76,"A":0.06602922311440151,"B":4.769198374480312,"C":11.167943977547075},{"x":77,"A":-0.6609330916716945,"B":3.649329382126772,"C":12.186047781977532},{"x":78,"A":-1.499338807828486,"B":3.639855290556347,"C":12.808614322741326},{"x":79,"A":-0.52905032346262,"B":3.2292441516758505,"C":12.08283806265588},{"x":80,"A":-1.0853622654401045,"B":3.491507638323772,"C":11.231241535816356},{"x":81,"A":-2.9822324465551837,"B":5.639951866004433,"C":11.098811667720273},{"x":82,"A":-2.3645776581642877,"B":5.59191731238711,"C":10.169121653654294},{"x":83,"A":-1.6615151490880822,"B":6.966278153092612,"C":11.850510823961551},{"x":84,"A":-2.361533502524841,"B":7.919059068216843,"C":12.912162016861162},{"x":85,"A":-1.2233578519039718,"B":6.648846617663226,"C":13.161420244952406},{"x":86,"A":-2.1890512411619416,"B":6.4654695143256955,"C":14.761516830058275},{"x":87,"A":-2.094827530567679,"B":6.88533007318638,"C":13.244005312845577},{"x":88,"A":-2.497187462995721,"B":7.087495712508287,"C":14.727920828279395},{"x":89,"A":-3.1139449235177494,"B":5.831363383192987,"C":14.717119017193966},{"x":90,"A":-4.469575940884995,"B":7.248599168691536,"C":14.514786706381827},{"x":91,"A":-3.6238998768099693,"B":8.182214472163798,"C":13.52711690356058},{"x":92,"A":-5.606614092964318,"B":8.66366732959543,"C":13.717894390348276},{"x":93,"A":-6.144928912025387,"B":8.051291403035197,"C":12.172936744244542},{"x":94,"A":-5.025376780076683,"B":9.742659103901001,"C":13.189716973887013},{"x":95,"A":-3.3450952731155423,"B":9.660358074738499,"C":12.272080647155201},{"x":96,"A":-2.6471207106920818,"B":9.112531974190242,"C":12.398234331471716},{"x":97,"A":-2.940115846787969,"B":10.40255032037208,"C":10.489457407597437},{"x":98,"A":-3.5462298243644894,"B":10.894769079652477,"C":12.614007600872325},{"x":99,"A":-3.9482685337060794,"B":10.155809409708104,"C":12.160078836850488},{"x":100,"A":-4.617165196330808,"B":11.239761641598232,"C":13.674849778000405}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Saturday 8 July 2023 12:48">Saturday 8 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
