<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-95c04f4c-6b69-4cf8-8f8b-4f2224d4b2d4.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-95c04f4c-6b69-4cf8-8f8b-4f2224d4b2d4.vega-embed details,
  #vis-95c04f4c-6b69-4cf8-8f8b-4f2224d4b2d4.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-95c04f4c-6b69-4cf8-8f8b-4f2224d4b2d4"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-95c04f4c-6b69-4cf8-8f8b-4f2224d4b2d4") {
      outputDiv = document.getElementById("vis-95c04f4c-6b69-4cf8-8f8b-4f2224d4b2d4");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.8579249755259128,"B":0.04926286507851263,"C":-0.2824855889828886},{"x":2,"A":1.0876005771197998,"B":-0.3140986644838598,"C":-1.0272055336199153},{"x":3,"A":0.6548111486670605,"B":-0.7275005584932672,"C":-0.8907976441792524},{"x":4,"A":-1.3492227063116067,"B":0.3197534828588058,"C":-1.4542474305635276},{"x":5,"A":-1.9429570995798653,"B":0.47594987359523083,"C":-0.7531930650458354},{"x":6,"A":-3.1563084515996582,"B":0.032419223882197534,"C":-0.7891957716018971},{"x":7,"A":-4.576976374644009,"B":0.9571670266114011,"C":-0.9457506228573718},{"x":8,"A":-5.03100356367203,"B":1.2499223720186854,"C":-2.183922682102328},{"x":9,"A":-5.965821786584903,"B":2.4534259270493184,"C":-2.8062454808990918},{"x":10,"A":-7.141811465110628,"B":2.804041811478324,"C":-2.208450537465974},{"x":11,"A":-4.955113541009142,"B":4.728326467800418,"C":-0.13949063761268682},{"x":12,"A":-4.004525886257657,"B":5.366863295222491,"C":0.040624928311239594},{"x":13,"A":-4.251506834586004,"B":4.1921431252424055,"C":-0.5843131785597324},{"x":14,"A":-3.237344456074223,"B":5.602436173513215,"C":-0.07199829812907882},{"x":15,"A":-3.4322988121943006,"B":5.973321613857195,"C":0.4723837593025418},{"x":16,"A":-3.2269738491448887,"B":5.313173358748939,"C":-1.0723220053534521},{"x":17,"A":-2.1344398707484333,"B":4.769799888525332,"C":-2.0120891524468374},{"x":18,"A":-2.4526167055094685,"B":4.522287243367074,"C":-2.4084462749994566},{"x":19,"A":-3.0462746027757897,"B":3.234176513634228,"C":-2.9978571642511334},{"x":20,"A":-4.457368085030892,"B":2.5736597287706418,"C":-3.58480882996278},{"x":21,"A":-3.376814396932584,"B":1.969751125433214,"C":-4.030742537858846},{"x":22,"A":-4.3659241736825285,"B":0.9190599107609455,"C":-4.4894781782101045},{"x":23,"A":-3.8807849053132006,"B":1.2180434665172943,"C":-3.833355208082504},{"x":24,"A":-4.868378353313425,"B":1.0881643237523555,"C":-3.1827227937981677},{"x":25,"A":-5.199397547829724,"B":1.2951075071569846,"C":-3.9256556892047385},{"x":26,"A":-6.280118973331728,"B":1.2630623377834116,"C":-4.5605442935013105},{"x":27,"A":-7.311614471167666,"B":3.3324942851078894,"C":-5.648519125214876},{"x":28,"A":-9.046700889195932,"B":2.814533746630394,"C":-7.476783588902885},{"x":29,"A":-7.4667108686720205,"B":3.876223794832039,"C":-6.825805876198},{"x":30,"A":-7.332322827135911,"B":4.475523423776301,"C":-6.192336057826979},{"x":31,"A":-7.183697823614514,"B":3.795036156316024,"C":-5.660875796956576},{"x":32,"A":-4.705395175701242,"B":4.473719727515155,"C":-4.451499957595298},{"x":33,"A":-5.513207565722524,"B":4.0622189668217565,"C":-4.496957226356135},{"x":34,"A":-6.266448640290599,"B":7.589657390044348,"C":-4.555228480582382},{"x":35,"A":-5.683127539582635,"B":8.177116191148084,"C":-4.965632078602451},{"x":36,"A":-5.939478292780955,"B":9.30130037207577,"C":-2.668337039671349},{"x":37,"A":-5.660718368661785,"B":9.127617338513911,"C":-2.167000211306761},{"x":38,"A":-7.3799223809154135,"B":9.828985195559687,"C":-1.3016205952477988},{"x":39,"A":-6.680762562715819,"B":8.705358756850272,"C":-2.8013152573661504},{"x":40,"A":-7.249637753293355,"B":8.308092628047936,"C":-3.2585798607327185},{"x":41,"A":-9.042548468586814,"B":8.035691942438028,"C":-5.0622344324460435},{"x":42,"A":-8.024645728678767,"B":7.024213552605252,"C":-5.0499025389917165},{"x":43,"A":-9.890689076385916,"B":6.0166929110919405,"C":-5.820302923852592},{"x":44,"A":-9.821075502524856,"B":7.540598955078489,"C":-6.070936806827531},{"x":45,"A":-9.041302321530756,"B":7.521431385966437,"C":-5.202592572591781},{"x":46,"A":-9.32848195641356,"B":5.645813805529638,"C":-4.098489793627371},{"x":47,"A":-9.34659190063678,"B":5.878839322550399,"C":-5.417296074114743},{"x":48,"A":-9.271282898580969,"B":5.521747705745861,"C":-4.148446372285643},{"x":49,"A":-9.75836087010283,"B":4.137871417813578,"C":-5.464100535274996},{"x":50,"A":-8.924295628829473,"B":5.987353861072571,"C":-6.080424905913651},{"x":51,"A":-8.354111714495383,"B":6.234608933220457,"C":-5.901022412148222},{"x":52,"A":-7.873134801268197,"B":7.541726598963016,"C":-6.421133525082986},{"x":53,"A":-8.51882405482392,"B":7.356275491895337,"C":-8.009631277179981},{"x":54,"A":-11.198121896598245,"B":7.977339975433858,"C":-8.511743130951121},{"x":55,"A":-11.756442356509172,"B":7.630504634794953,"C":-8.872259279917015},{"x":56,"A":-11.760527478807427,"B":5.49837379934299,"C":-9.254422217638622},{"x":57,"A":-11.499505847878174,"B":5.085835264340668,"C":-9.396885110076425},{"x":58,"A":-10.436132571353832,"B":4.051745844480387,"C":-9.382594975847228},{"x":59,"A":-8.935462457031571,"B":3.7001062268920943,"C":-8.296288544215095},{"x":60,"A":-7.8326434675513585,"B":4.245150068823224,"C":-8.112884195084002},{"x":61,"A":-9.931120516530264,"B":4.335255368673608,"C":-9.673404419929845},{"x":62,"A":-10.583452655398348,"B":7.066022309576834,"C":-8.182789522519341},{"x":63,"A":-10.320683372121449,"B":6.761316587046326,"C":-7.351373602812413},{"x":64,"A":-9.819470151139777,"B":6.2071744387627765,"C":-7.991815791467467},{"x":65,"A":-9.573514140694622,"B":7.349706514040589,"C":-9.00459675024937},{"x":66,"A":-8.056599578807933,"B":7.160333685681517,"C":-10.668537422498154},{"x":67,"A":-7.594729844189237,"B":6.735351485227293,"C":-11.103789683922137},{"x":68,"A":-7.2980220879211455,"B":6.489321565186243,"C":-9.050461568853276},{"x":69,"A":-6.750767804985102,"B":6.899045549307067,"C":-11.061767787986021},{"x":70,"A":-7.261058680743706,"B":7.663585008069204,"C":-10.035943097918002},{"x":71,"A":-6.150954014827002,"B":7.545507043130243,"C":-9.777011103261861},{"x":72,"A":-6.989197625180551,"B":6.4819337665894885,"C":-9.276042447074753},{"x":73,"A":-6.791624426532403,"B":7.847026470380982,"C":-10.070525131411316},{"x":74,"A":-6.108342541666938,"B":7.106592201231812,"C":-9.464155973309397},{"x":75,"A":-6.706812408321136,"B":7.338391090227795,"C":-8.773785075556928},{"x":76,"A":-4.6258565372006055,"B":7.443408314358936,"C":-8.095734857280949},{"x":77,"A":-5.515757611546006,"B":7.783253028215044,"C":-8.621855580641258},{"x":78,"A":-5.501351622556409,"B":8.128202496427043,"C":-7.932101110558919},{"x":79,"A":-4.37959521673247,"B":7.176054877220928,"C":-6.390567400367382},{"x":80,"A":-3.454523861478213,"B":7.264939158548301,"C":-6.242362977108299},{"x":81,"A":-3.6450341995916373,"B":8.167563267161436,"C":-6.81426957661486},{"x":82,"A":-3.3695110040438614,"B":9.326529625368263,"C":-7.157442181071927},{"x":83,"A":-4.750595411716701,"B":7.833745064318554,"C":-7.027209318237484},{"x":84,"A":-5.175547670082252,"B":7.253661194440829,"C":-5.612462032539232},{"x":85,"A":-6.556115597592545,"B":6.809934322428892,"C":-5.098266785716296},{"x":86,"A":-6.745685041480758,"B":7.201255569930814,"C":-3.117038238848012},{"x":87,"A":-5.753576001610248,"B":6.88885487672734,"C":-4.202220357481072},{"x":88,"A":-6.780125156850096,"B":6.008079026062434,"C":-5.699986127718391},{"x":89,"A":-5.821472692952138,"B":6.029832089378313,"C":-5.784424830304802},{"x":90,"A":-4.1174266512239655,"B":7.495211232622758,"C":-5.358565059881581},{"x":91,"A":-4.636160369279208,"B":6.863879889356152,"C":-5.548917970847747},{"x":92,"A":-5.124166219740241,"B":6.1465236787290465,"C":-6.889447757320114},{"x":93,"A":-4.224144960785751,"B":4.768010946489427,"C":-7.797607520233703},{"x":94,"A":-3.327650627967447,"B":4.628989355098112,"C":-6.8084998888742865},{"x":95,"A":-2.009214132749088,"B":4.423936217088356,"C":-8.159557417180677},{"x":96,"A":-4.210402306577997,"B":4.381341061397391,"C":-8.489436305408692},{"x":97,"A":-6.242643840511852,"B":4.886563779077363,"C":-7.59672918982084},{"x":98,"A":-5.76622308624052,"B":3.3821301375276325,"C":-7.635345559336777},{"x":99,"A":-5.016188152658647,"B":3.9615399918690004,"C":-6.360269406955785},{"x":100,"A":-3.9620908364249603,"B":4.184169784280191,"C":-5.073866420415053}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 4 December 2024 18:20">Wednesday 4 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
