<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl62ec1bb9f159478ba0e8986d49c62886' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl62ec1bb9f159478ba0e8986d49c62886',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":1.2042454521848047,"B":-1.704870794453371,"C":0.5257000668199433},{"x":2,"A":0.2627903695666052,"B":-0.9765754631330263,"C":-1.82459239486101},{"x":3,"A":3.3557648580978734,"B":-1.5606888697829577,"C":-1.9157108693037328},{"x":4,"A":3.2160871939930917,"B":-1.8851208237407868,"C":-1.4413536393915858},{"x":5,"A":2.1727894035194257,"B":-2.698603208373896,"C":-0.6486926536026499},{"x":6,"A":1.9448200974341021,"B":-3.6747092834482764,"C":-1.0905747656452482},{"x":7,"A":1.1645151931842503,"B":-4.185919026530429,"C":-3.3560439899424472},{"x":8,"A":1.8248522466346104,"B":-3.987174192973547,"C":-1.5389155625986959},{"x":9,"A":2.3909069173199686,"B":-4.25903460947275,"C":-2.4799785324450276},{"x":10,"A":1.5067884464860928,"B":-3.753385900861013,"C":-2.5705799248327077},{"x":11,"A":-0.06534165876467268,"B":-2.7271605676680384,"C":-3.161755388651749},{"x":12,"A":-0.36060692509854,"B":-3.482817612974916,"C":-1.7123124246577004},{"x":13,"A":0.09075846988216418,"B":-3.9056829642201967,"C":-1.4031352839093967},{"x":14,"A":0.557835867665214,"B":-3.556554223757563,"C":-3.2404357342454264},{"x":15,"A":3.1158679313753996,"B":-2.8197542880078177,"C":-3.4739790886502018},{"x":16,"A":2.4346590046001246,"B":-2.668616692425429,"C":-4.098228775923757},{"x":17,"A":2.8122789079092705,"B":-1.1757118815630856,"C":-5.1670153977900775},{"x":18,"A":1.9377618923541173,"B":-0.4342955942536786,"C":-6.271970908557782},{"x":19,"A":2.5975120255449298,"B":-0.6936181378052966,"C":-8.30197441653874},{"x":20,"A":2.2505939582178085,"B":-0.7474141463186715,"C":-7.9288559005396335},{"x":21,"A":0.905873424851799,"B":-1.5614477584452189,"C":-8.594454812852499},{"x":22,"A":1.5012357280895001,"B":-0.8418658918327718,"C":-8.800250652801623},{"x":23,"A":1.9301852216344944,"B":-1.1119736447139235,"C":-9.96826127453392},{"x":24,"A":1.7357766936984695,"B":-0.9804702584309565,"C":-8.701817167746821},{"x":25,"A":1.2494035906354095,"B":-0.9292006970139646,"C":-8.440730217572707},{"x":26,"A":2.2044522449777495,"B":-1.5894665031356108,"C":-9.843943304581416},{"x":27,"A":3.6116980420002616,"B":-1.140321003046603,"C":-10.203816425157152},{"x":28,"A":3.0084546904138705,"B":-0.8950648770375632,"C":-10.186492857810732},{"x":29,"A":3.512510945737672,"B":-0.7978620582720056,"C":-11.096610497041254},{"x":30,"A":3.16679542097833,"B":-1.2156257770257233,"C":-11.909351504563094},{"x":31,"A":3.010831864373216,"B":-1.1082624774868262,"C":-11.91678954578941},{"x":32,"A":2.9242954432291173,"B":-1.619738940898157,"C":-11.436004130707639},{"x":33,"A":1.9310300387050323,"B":-2.3278641730776464,"C":-11.913338090654536},{"x":34,"A":2.3639154733258363,"B":-1.2361883261985145,"C":-11.669583828955547},{"x":35,"A":1.8633700502722461,"B":-2.150691829757938,"C":-12.462841735995802},{"x":36,"A":1.2390445914968664,"B":-1.3797528904952454,"C":-13.294503150729032},{"x":37,"A":1.6754810939277522,"B":-1.9557925533215361,"C":-11.95932721440993},{"x":38,"A":2.5994900501550933,"B":-1.2773582128876149,"C":-12.856495512771867},{"x":39,"A":2.017484943993626,"B":-0.9297650254812124,"C":-14.297918736619707},{"x":40,"A":0.5595186808023263,"B":-0.38833895970773646,"C":-15.971868135233969},{"x":41,"A":-0.3680055246366314,"B":0.8293280071167362,"C":-16.479667880609128},{"x":42,"A":-0.844534072812323,"B":0.2632639910126544,"C":-16.25791832026068},{"x":43,"A":-0.8719375230995656,"B":0.17790777312774186,"C":-16.671898396719847},{"x":44,"A":-2.4812519277745064,"B":-1.718223098280794,"C":-15.705357421396592},{"x":45,"A":-2.3369592156058756,"B":-1.5710749694521469,"C":-17.57784639573685},{"x":46,"A":-4.28399516781342,"B":0.14837680307152668,"C":-18.94796665211634},{"x":47,"A":-5.224249917559382,"B":1.4587309958598669,"C":-19.105986182889446},{"x":48,"A":-6.3167881167565705,"B":1.1202063487559084,"C":-20.46606115397715},{"x":49,"A":-6.163296148865328,"B":-0.0912872585311868,"C":-21.588600523493895},{"x":50,"A":-7.192294193494775,"B":-1.699713122904214,"C":-21.453494258229114},{"x":51,"A":-6.795203002705388,"B":-2.6643710232528344,"C":-22.09425549041614},{"x":52,"A":-8.242056778179244,"B":-4.8367637043066996,"C":-22.312065509596554},{"x":53,"A":-10.38381927245518,"B":-4.431120042444951,"C":-23.426809712180912},{"x":54,"A":-12.29968571910841,"B":-4.143327506550427,"C":-24.19828995403203},{"x":55,"A":-13.427362823428577,"B":-4.092969065956031,"C":-24.951557897285365},{"x":56,"A":-14.252223012010981,"B":-3.966926638354524,"C":-24.603197257838293},{"x":57,"A":-15.494158275164102,"B":-5.073830703724604,"C":-24.641640084493282},{"x":58,"A":-16.347603075411946,"B":-5.443103679586953,"C":-24.780399006259653},{"x":59,"A":-17.237538528773435,"B":-5.734670828628683,"C":-23.935713918527878},{"x":60,"A":-18.339958246303617,"B":-4.125190270629178,"C":-26.52355442617063},{"x":61,"A":-19.53685827293065,"B":-4.241570440914724,"C":-25.329806810812237},{"x":62,"A":-18.347851441734463,"B":-6.698315595612912,"C":-25.043324146685038},{"x":63,"A":-18.728579279592807,"B":-8.802627511848415,"C":-26.773554361283338},{"x":64,"A":-18.127685401327735,"B":-8.031026645782687,"C":-27.144116260125344},{"x":65,"A":-20.863860856908133,"B":-8.28379160272623,"C":-25.230859733739358},{"x":66,"A":-21.93411856415291,"B":-8.585049582452148,"C":-24.483391757588468},{"x":67,"A":-22.245404695553816,"B":-8.610873952081432,"C":-25.970238644259474},{"x":68,"A":-22.965802971701375,"B":-8.943925222174952,"C":-25.729071411094445},{"x":69,"A":-21.830698534909995,"B":-8.33172147598265,"C":-27.406195113889876},{"x":70,"A":-22.75481075142766,"B":-9.153906219519095,"C":-28.072435842738354},{"x":71,"A":-22.493526592873668,"B":-8.838020968240615,"C":-27.28584623378354},{"x":72,"A":-21.764141005926266,"B":-8.615037642601882,"C":-28.74802339365324},{"x":73,"A":-23.882795663770263,"B":-7.574352451569813,"C":-26.300404331049613},{"x":74,"A":-23.27529505277986,"B":-8.231515493449116,"C":-24.946535709846795},{"x":75,"A":-21.646359810710866,"B":-8.024532958797236,"C":-26.023997277140204},{"x":76,"A":-22.55579499154895,"B":-7.318732993677701,"C":-24.703141663043507},{"x":77,"A":-23.200669675098762,"B":-7.3787217943252505,"C":-22.71225405936695},{"x":78,"A":-24.59927474160221,"B":-6.7129391225905355,"C":-23.37532321642918},{"x":79,"A":-25.95995165726588,"B":-6.553827616600622,"C":-21.974254315885343},{"x":80,"A":-25.341096850951686,"B":-6.612988963025213,"C":-22.080922895604303},{"x":81,"A":-23.792209874141257,"B":-6.310732822175183,"C":-20.915185750013347},{"x":82,"A":-21.75722167750877,"B":-6.876164378271117,"C":-19.505446795550085},{"x":83,"A":-21.371811790798517,"B":-7.689904097549834,"C":-20.30084927106284},{"x":84,"A":-21.917909843438252,"B":-7.918675143539554,"C":-19.672764650487974},{"x":85,"A":-23.94782168333559,"B":-7.464066793202439,"C":-18.83605796906803},{"x":86,"A":-23.39619729057568,"B":-7.422305609719422,"C":-19.3950106908754},{"x":87,"A":-22.472955157159085,"B":-8.572589078550877,"C":-19.246836134760933},{"x":88,"A":-23.294394613381503,"B":-8.489135922089014,"C":-19.98443328100582},{"x":89,"A":-24.018079089401603,"B":-8.043145125799889,"C":-19.793077110123107},{"x":90,"A":-25.238701424802255,"B":-6.898346950458223,"C":-20.18494323248129},{"x":91,"A":-26.244081194925336,"B":-6.817267883421415,"C":-20.272457702891167},{"x":92,"A":-24.48243301800516,"B":-6.580637513659518,"C":-20.97558411787459},{"x":93,"A":-24.600891921267788,"B":-6.560850046019868,"C":-19.97254497350241},{"x":94,"A":-24.951904695838746,"B":-6.311957511765316,"C":-21.16462183761385},{"x":95,"A":-26.51441444510147,"B":-5.6129343101296865,"C":-21.92881744258995},{"x":96,"A":-25.400484817139123,"B":-5.6782038418104115,"C":-21.637439433415697},{"x":97,"A":-25.005346490719162,"B":-4.376633694928477,"C":-20.547423993527858},{"x":98,"A":-25.411408932084687,"B":-3.6530862869063094,"C":-22.749115469361325},{"x":99,"A":-24.445359072496778,"B":-3.565156124361086,"C":-21.71456932582449},{"x":100,"A":-23.199435215464213,"B":-2.7287257591601173,"C":-23.01021639980853}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Saturday 15 July 2023 13:07">Saturday 15 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
