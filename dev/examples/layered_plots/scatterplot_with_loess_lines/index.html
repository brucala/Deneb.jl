<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlac2cbdd41af248a4807dbd27af357fe0' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlac2cbdd41af248a4807dbd27af357fe0',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.5985030291536282,"B":0.2969731973544931,"C":1.1184667441073524},{"x":2,"A":2.3432696706863676,"B":0.35809387182181635,"C":2.052329810918584},{"x":3,"A":3.186196999608346,"B":-1.470805715649884,"C":3.279797524292175},{"x":4,"A":2.696066802611888,"B":-0.9192108074823859,"C":3.3819580610406996},{"x":5,"A":1.877817067478459,"B":-2.7446810443925873,"C":3.327408583699328},{"x":6,"A":2.110769555245185,"B":-1.5891685257135,"C":1.2477994054948582},{"x":7,"A":2.1208069863882173,"B":-1.3164405411230602,"C":1.3603016844048854},{"x":8,"A":1.638777853712314,"B":-1.1483990305034242,"C":1.187519045937424},{"x":9,"A":0.18607168502191662,"B":-0.2526476391729394,"C":3.068272202905111},{"x":10,"A":0.37028779810061707,"B":-1.203093069552018,"C":1.701247161797639},{"x":11,"A":0.6995211459284112,"B":-1.7124567093674838,"C":1.2965515120654194},{"x":12,"A":2.3586096633604967,"B":-1.0903384854877267,"C":0.7498323513024933},{"x":13,"A":3.6663851350980554,"B":-2.3573082076269243,"C":1.5197084618324317},{"x":14,"A":3.695664131336277,"B":0.15912109474497527,"C":2.74806056424129},{"x":15,"A":4.8512949578862266,"B":-0.8696489078127811,"C":3.46097545385991},{"x":16,"A":4.617232658475533,"B":0.3816772305913867,"C":3.5902172789203233},{"x":17,"A":3.0485728128104217,"B":2.6215114520643885,"C":3.754461379976587},{"x":18,"A":2.713356681450364,"B":4.640541360066079,"C":3.8858380920779405},{"x":19,"A":2.799681061968524,"B":3.441177073738735,"C":3.8444264166782887},{"x":20,"A":2.2929737395829095,"B":3.166527772650388,"C":3.2582005091250608},{"x":21,"A":3.6093556839827228,"B":2.2991483815950025,"C":3.069359613840809},{"x":22,"A":2.3182214768041174,"B":1.1818492980486315,"C":2.1187963639429923},{"x":23,"A":1.8735958789445268,"B":0.28128042487780935,"C":2.5945451158780277},{"x":24,"A":3.4271499940630523,"B":0.4908595115660726,"C":1.511329334633196},{"x":25,"A":3.9795166349131827,"B":2.1996526045935623,"C":2.6275589188109687},{"x":26,"A":2.755789701116207,"B":1.1780949011679935,"C":3.0675146429041966},{"x":27,"A":2.551830684698694,"B":0.6223285389570163,"C":2.8369463663216656},{"x":28,"A":3.2878298056640824,"B":-0.7979988474297794,"C":3.8953338981942975},{"x":29,"A":2.2762002533953343,"B":-0.4124899640058495,"C":3.677367623026394},{"x":30,"A":2.102079374026226,"B":0.2156095271231595,"C":3.5608102012443528},{"x":31,"A":2.514658905645963,"B":-0.020589568555683946,"C":4.445073160810802},{"x":32,"A":2.486241629691915,"B":-1.142690197217075,"C":4.447690474393547},{"x":33,"A":2.2883455637774572,"B":-1.369904538806872,"C":4.243998640837292},{"x":34,"A":2.633830458242512,"B":-3.4515677356620005,"C":5.2358550055738275},{"x":35,"A":1.864696419277321,"B":-5.119460105625182,"C":5.4636167110737075},{"x":36,"A":2.002958009973744,"B":-6.451649789889279,"C":4.003182919960201},{"x":37,"A":1.069928116161349,"B":-5.776880093144268,"C":4.154062948156522},{"x":38,"A":2.1137915157013785,"B":-5.077056776412389,"C":3.278912908550824},{"x":39,"A":2.278910790529836,"B":-5.614005358614113,"C":4.094940329214387},{"x":40,"A":0.9710686615881063,"B":-6.28961296943428,"C":3.6975680613924298},{"x":41,"A":1.1316310907177365,"B":-8.43850315946695,"C":3.576846495253815},{"x":42,"A":0.8351227601514665,"B":-8.689739959979189,"C":3.967904782090695},{"x":43,"A":3.604166658196048,"B":-8.337543051898505,"C":1.474435899322275},{"x":44,"A":3.4147918067084433,"B":-7.449011793370303,"C":1.5391844960799177},{"x":45,"A":2.6091645602137286,"B":-6.80648935493635,"C":0.12705886986425385},{"x":46,"A":0.8725346952555095,"B":-6.981201781940348,"C":0.4470788601290092},{"x":47,"A":0.5314007028888543,"B":-6.15924751525903,"C":-1.709352156314183},{"x":48,"A":0.6962086075737112,"B":-6.845665441807556,"C":-0.9308885327592185},{"x":49,"A":0.726020006763868,"B":-7.554358774005778,"C":-1.5829824136408877},{"x":50,"A":0.8267890020338978,"B":-7.6060800995547835,"C":-1.5056857942031243},{"x":51,"A":-0.1602910506387577,"B":-7.426599405979763,"C":-1.6954137546914194},{"x":52,"A":0.9938471167285042,"B":-7.921795695751049,"C":-2.4812089434587135},{"x":53,"A":0.38577543813685067,"B":-8.51725529390326,"C":-2.7070703909006593},{"x":54,"A":-0.30844515623418756,"B":-10.734687785605473,"C":-2.5687708140818515},{"x":55,"A":0.47918266939705567,"B":-10.057498552277925,"C":-2.3943857633760603},{"x":56,"A":2.5491769686694763,"B":-9.213312447952378,"C":-2.615935203660489},{"x":57,"A":4.118280037585428,"B":-8.71094847674561,"C":-2.301986342700192},{"x":58,"A":3.9095340741954594,"B":-9.32225968165798,"C":-2.6172397736962614},{"x":59,"A":2.9025253560402016,"B":-9.363624374870135,"C":-2.35550401031137},{"x":60,"A":2.040873690466107,"B":-8.544133700074617,"C":-3.8071954045133056},{"x":61,"A":0.8933819780001107,"B":-7.472468900753097,"C":-5.3250505682541425},{"x":62,"A":1.01618539984632,"B":-8.548795218077581,"C":-4.67510931900923},{"x":63,"A":0.8079612842894917,"B":-8.994091885533543,"C":-4.805965029926505},{"x":64,"A":0.5626541364124993,"B":-9.095083208657432,"C":-3.2690542097760416},{"x":65,"A":0.3770539660292199,"B":-8.322682511217023,"C":-4.886483461606051},{"x":66,"A":-0.5341106943861744,"B":-7.203288983871444,"C":-4.531079694154626},{"x":67,"A":0.9294187213656528,"B":-6.618390315918259,"C":-5.310192948585901},{"x":68,"A":1.1542573668695382,"B":-5.754722334779203,"C":-5.5378416599244655},{"x":69,"A":3.623153739015689,"B":-5.136459918202546,"C":-4.939626925121283},{"x":70,"A":3.5113982269356914,"B":-4.554291221903293,"C":-6.136415134743224},{"x":71,"A":2.296803108532549,"B":-4.239845800513255,"C":-4.708279679767392},{"x":72,"A":2.0130907639350997,"B":-5.092910541615041,"C":-5.482349504664632},{"x":73,"A":0.22551368893075407,"B":-5.40020925277386,"C":-4.949086448892501},{"x":74,"A":0.03390007304718512,"B":-6.922686240829947,"C":-4.446962654686803},{"x":75,"A":-0.854098100554378,"B":-7.555620741380482,"C":-3.6625444002893044},{"x":76,"A":0.05695454467785044,"B":-6.613955845474991,"C":-3.301777903525749},{"x":77,"A":-0.10354630915042906,"B":-5.77317526578289,"C":-4.87876470269081},{"x":78,"A":0.19648405745597725,"B":-7.812382381046186,"C":-6.109559425766133},{"x":79,"A":1.4123078753293035,"B":-8.437873319636134,"C":-7.111552276127422},{"x":80,"A":0.5843436994193852,"B":-7.693643021444162,"C":-7.455201099094615},{"x":81,"A":1.8356910559792425,"B":-6.584424785104304,"C":-9.863352656110909},{"x":82,"A":0.42781645416555736,"B":-8.109859829314736,"C":-10.000839670909823},{"x":83,"A":-0.16603361091935032,"B":-8.050591573083151,"C":-10.196490491359768},{"x":84,"A":0.39740649434867703,"B":-7.3543241801482475,"C":-9.82762199922297},{"x":85,"A":1.4254706819603578,"B":-9.225415727661838,"C":-10.205151831770376},{"x":86,"A":2.7150945267037683,"B":-9.314043186222655,"C":-10.570000040888019},{"x":87,"A":2.7591112075423245,"B":-10.76181453564353,"C":-11.354864911770754},{"x":88,"A":2.2934746900157608,"B":-10.990030329929906,"C":-11.061926040627508},{"x":89,"A":1.4456876135232646,"B":-11.021121360407134,"C":-10.86191297906829},{"x":90,"A":0.5330423245882316,"B":-12.133368923767282,"C":-10.971323012668812},{"x":91,"A":-0.5744116256212874,"B":-12.737183526034212,"C":-12.752581615499494},{"x":92,"A":-0.25523499080138357,"B":-13.963591118675222,"C":-13.702137769982667},{"x":93,"A":0.31120110873824536,"B":-13.511378031668619,"C":-12.7531163983403},{"x":94,"A":-0.1474698943194115,"B":-14.697303276174619,"C":-13.712214129266009},{"x":95,"A":-0.7477504749737676,"B":-14.818555608734227,"C":-13.69559543190795},{"x":96,"A":-0.3093922130165011,"B":-15.819184117338697,"C":-13.864351509835846},{"x":97,"A":0.5784315633029249,"B":-17.203816708635223,"C":-13.207355472387725},{"x":98,"A":1.9251757376421337,"B":-15.480295612373041,"C":-14.98052810401176},{"x":99,"A":1.883889675022155,"B":-15.562519253958792,"C":-14.247423402350254},{"x":100,"A":4.068412405554883,"B":-15.211888161172334,"C":-12.464427945004623}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 29 June 2023 16:06">Thursday 29 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
