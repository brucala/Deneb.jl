<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl391646f2f7bb4e66b8cc10e6ac5e67b5' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl391646f2f7bb4e66b8cc10e6ac5e67b5',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.7312407754637738,"B":1.509166461205777,"C":-0.4029975078801938},{"x":2,"A":0.481584008001932,"B":2.169197934892061,"C":-0.42721843721004416},{"x":3,"A":-0.7687755937182177,"B":1.765699718580387,"C":1.6231641658630618},{"x":4,"A":0.45729258561343333,"B":1.4412249989792603,"C":1.1724445495999007},{"x":5,"A":1.4900730631928911,"B":0.9365027900217233,"C":0.30950080100179794},{"x":6,"A":0.22812106930408738,"B":1.1122470143441758,"C":-0.6124567994818277},{"x":7,"A":1.9067649016607475,"B":1.3950567234600422,"C":-0.976516141483192},{"x":8,"A":2.116481059221652,"B":-0.1692423195967412,"C":-1.1628488860789785},{"x":9,"A":1.9798446784012245,"B":0.347962036936307,"C":-1.8926290599173985},{"x":10,"A":1.7080052310225597,"B":-1.1464349090066135,"C":-1.0022228555922856},{"x":11,"A":2.5266704069467627,"B":-1.9255109356551465,"C":-1.1286978215780497},{"x":12,"A":2.4882286885002767,"B":-1.3695363198252235,"C":-2.5813869995704417},{"x":13,"A":3.183679660345554,"B":-3.284724217752454,"C":-3.0053488158314665},{"x":14,"A":3.7857371515134255,"B":-2.6876640979338307,"C":-1.1573259651695367},{"x":15,"A":4.621540872906305,"B":-2.315575030433239,"C":-3.209206774924288},{"x":16,"A":5.933315782510473,"B":-2.066583059427428,"C":-4.579434167627513},{"x":17,"A":5.803054225891081,"B":-2.245319297226219,"C":-4.051498741016812},{"x":18,"A":4.715897079388347,"B":-2.5299477726164517,"C":-5.407015473894361},{"x":19,"A":5.467126900982373,"B":-1.4007404432284327,"C":-6.740113474589846},{"x":20,"A":5.849138146136394,"B":-0.9327726400641672,"C":-7.528903058881449},{"x":21,"A":5.983942327769199,"B":-0.8222710651009597,"C":-8.907568029560194},{"x":22,"A":5.672586985639765,"B":0.2644941074045608,"C":-10.089603223208051},{"x":23,"A":5.803145494473042,"B":2.232407379113801,"C":-9.469124311394625},{"x":24,"A":6.518126926187818,"B":1.9630620716635838,"C":-9.385612278476602},{"x":25,"A":6.584250874243663,"B":2.6965428392082478,"C":-8.009584426850534},{"x":26,"A":7.686869038191541,"B":3.8203522503265717,"C":-7.805346450600314},{"x":27,"A":7.981094696663968,"B":2.8943349713493602,"C":-7.006402132249489},{"x":28,"A":7.782919452916329,"B":0.9552914758956157,"C":-6.970415416669208},{"x":29,"A":7.769264230729592,"B":2.519727344326942,"C":-7.247269993152974},{"x":30,"A":8.280693170903241,"B":3.3307538862820882,"C":-7.430103381054903},{"x":31,"A":7.262851817928901,"B":3.7791023933996524,"C":-7.937826342351379},{"x":32,"A":7.015819073895545,"B":3.872616056458982,"C":-8.16565869366542},{"x":33,"A":9.088743562008354,"B":5.053695447124649,"C":-8.383033651043721},{"x":34,"A":10.331969967276162,"B":5.845519044037741,"C":-7.990417929000485},{"x":35,"A":9.739423071836601,"B":6.342283597599318,"C":-9.376189241535547},{"x":36,"A":8.851713076622488,"B":6.5975434338977825,"C":-8.041026034360888},{"x":37,"A":7.233461111217751,"B":7.275281134183247,"C":-7.676925049467489},{"x":38,"A":7.054550251543324,"B":6.680664672721234,"C":-6.649359551247519},{"x":39,"A":6.259001191165193,"B":7.440148988435019,"C":-6.328779603010171},{"x":40,"A":6.1477384768844106,"B":6.263663405596001,"C":-5.642413444028852},{"x":41,"A":6.33333944882832,"B":5.903673360862121,"C":-5.511115833542167},{"x":42,"A":6.293726578689753,"B":6.870048904100522,"C":-4.904822735438047},{"x":43,"A":6.438497692230029,"B":7.778635131209083,"C":-5.069296736903616},{"x":44,"A":6.810660296524687,"B":6.908508753317803,"C":-6.547936802520985},{"x":45,"A":7.597201547955867,"B":5.327889560922145,"C":-6.936248098273129},{"x":46,"A":7.3418615109049785,"B":5.125494414536446,"C":-8.373947409479511},{"x":47,"A":7.944556584117082,"B":4.953115564978108,"C":-9.611470294652943},{"x":48,"A":7.438199891188548,"B":4.886646159773148,"C":-9.559020081706294},{"x":49,"A":8.921290153134485,"B":3.9683580488681978,"C":-9.24317821828265},{"x":50,"A":8.491772220274019,"B":3.377204250359868,"C":-10.15749276796754},{"x":51,"A":8.399485234040505,"B":4.687858784598294,"C":-9.890053607366301},{"x":52,"A":7.64943528106055,"B":5.344802090152732,"C":-10.425695213314466},{"x":53,"A":6.8974582617107565,"B":4.4383035032957325,"C":-9.1629974279769},{"x":54,"A":7.196141689716608,"B":6.030138497597175,"C":-9.23080870217797},{"x":55,"A":7.73746384942502,"B":5.662664929714242,"C":-8.531452134739034},{"x":56,"A":6.5640784872682945,"B":5.760943911047255,"C":-10.400543589244911},{"x":57,"A":6.20839977435007,"B":4.11845139747845,"C":-11.060119228086227},{"x":58,"A":8.52801738593986,"B":5.1169923753313515,"C":-11.501278648330691},{"x":59,"A":9.259816313844212,"B":4.392131084684533,"C":-12.432147996330333},{"x":60,"A":10.349656926493878,"B":3.1555826504632094,"C":-10.3567225857826},{"x":61,"A":10.925893698899607,"B":2.544419855892791,"C":-8.12608316861565},{"x":62,"A":11.771731531380112,"B":2.363028560275305,"C":-7.440311441560383},{"x":63,"A":11.532758913138835,"B":2.2818195482125736,"C":-7.165716646797875},{"x":64,"A":10.931068577222117,"B":2.406206087410302,"C":-8.05305363615894},{"x":65,"A":11.947393258992271,"B":2.759791979136588,"C":-7.494696714963933},{"x":66,"A":11.633465732448943,"B":4.307530450368666,"C":-6.7402918956372275},{"x":67,"A":12.607643363916878,"B":5.41524585591427,"C":-7.020204620472636},{"x":68,"A":14.449663661165236,"B":5.387254340186435,"C":-7.498433548856917},{"x":69,"A":13.749709860241488,"B":7.590594237786958,"C":-7.244028391530629},{"x":70,"A":14.754595637796417,"B":6.481131703441039,"C":-7.038973001205924},{"x":71,"A":12.923401665174612,"B":8.620990936796218,"C":-7.767109728258505},{"x":72,"A":11.577290410896342,"B":9.959088762378219,"C":-8.911389600974703},{"x":73,"A":10.877801427108828,"B":9.4048121683158,"C":-8.362364911534465},{"x":74,"A":10.424545259494717,"B":8.08869719303803,"C":-6.695281747104776},{"x":75,"A":12.895028121820495,"B":10.68549233394118,"C":-6.263429187936321},{"x":76,"A":11.786082239523964,"B":10.34990779424432,"C":-6.351397978944218},{"x":77,"A":10.430124125359349,"B":11.101187324463126,"C":-7.3944926794097},{"x":78,"A":9.707613881169813,"B":9.998499331803794,"C":-7.581383588853534},{"x":79,"A":9.754446857743964,"B":9.520676904272873,"C":-8.271316763674788},{"x":80,"A":10.924115538805818,"B":8.189904955642985,"C":-7.8257007873326465},{"x":81,"A":11.019784541047656,"B":8.783700316609382,"C":-6.358297931163298},{"x":82,"A":10.697307438221745,"B":9.458443672212683,"C":-7.789845696556492},{"x":83,"A":8.614189519120643,"B":8.833486656854923,"C":-6.856125328685669},{"x":84,"A":8.855665005863035,"B":7.938944896335496,"C":-7.161666568934097},{"x":85,"A":7.667250009744534,"B":6.250288092973981,"C":-7.19877591689022},{"x":86,"A":8.391074707730438,"B":7.236019915992136,"C":-6.690114753531728},{"x":87,"A":8.915211083427355,"B":7.750102506703855,"C":-5.270151437031309},{"x":88,"A":8.002989734548954,"B":7.558196840059529,"C":-4.658920795318117},{"x":89,"A":6.498471158652174,"B":10.044327470650925,"C":-4.98815875363465},{"x":90,"A":9.373473241326032,"B":11.151719161247227,"C":-4.032948642062632},{"x":91,"A":6.930107043577862,"B":11.163587646480174,"C":-2.610546542112731},{"x":92,"A":7.166281213758733,"B":10.823965147546362,"C":-0.9890673828919907},{"x":93,"A":6.039214310023622,"B":10.993560473317014,"C":0.4959244295888156},{"x":94,"A":5.11408142241902,"B":10.250532297619793,"C":0.7484442782110698},{"x":95,"A":4.898899693281019,"B":9.846046720184626,"C":1.7203042836573232},{"x":96,"A":5.304846671009493,"B":10.784251376102166,"C":2.348495932118985},{"x":97,"A":4.349442376439136,"B":9.726033849368372,"C":3.458611261937265},{"x":98,"A":3.407961777723758,"B":10.286009189423291,"C":2.5555409241343128},{"x":99,"A":2.774595109561829,"B":11.336514166873995,"C":2.1660239455985106},{"x":100,"A":2.4503359503748374,"B":10.716594680733818,"C":3.4390343675015522}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 29 June 2023 08:19">Thursday 29 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
