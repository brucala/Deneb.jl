<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl793327885f5d45ff88a850cd2919ded6' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl793327885f5d45ff88a850cd2919ded6',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.9542460508468057,"B":-0.6221503505553354,"C":-0.5445820931537569},{"x":2,"A":1.8111543437741484,"B":0.5570801307540212,"C":0.2837937516877276},{"x":3,"A":0.8547664529787427,"B":0.6960145540684577,"C":2.1601415347806734},{"x":4,"A":2.475930828447081,"B":-0.38594709765075286,"C":1.582659721545081},{"x":5,"A":0.37488036083835785,"B":-0.879910428088122,"C":2.1236238344197225},{"x":6,"A":-0.2032587340446802,"B":-1.4887140207723466,"C":3.048894407084747},{"x":7,"A":-0.45128389904646615,"B":-2.399252257438904,"C":2.286109769276704},{"x":8,"A":-1.1089214250009793,"B":-3.999590483445023,"C":0.5248654296117351},{"x":9,"A":0.17137236431450964,"B":-3.964292648680199,"C":0.01091959464920822},{"x":10,"A":-1.6868359716108334,"B":-3.168135284754972,"C":-1.249537812935421},{"x":11,"A":-0.7427324098996851,"B":-1.4648432914580938,"C":-1.469804226294058},{"x":12,"A":-1.957455514085407,"B":-2.0248105396303058,"C":-1.1076073730270126},{"x":13,"A":0.6546615505933516,"B":-3.7311920215568195,"C":0.12314980072651116},{"x":14,"A":1.915170253189031,"B":-3.2128951556498038,"C":-0.7159902333879349},{"x":15,"A":2.2807812136960917,"B":-4.588913664799587,"C":0.5388293836368322},{"x":16,"A":3.598845310766913,"B":-4.685854397961592,"C":-0.20464699561626798},{"x":17,"A":4.144105247874147,"B":-4.814851263752196,"C":-1.4694712430122288},{"x":18,"A":3.4394908649483913,"B":-4.061701368668232,"C":-1.3113832018845053},{"x":19,"A":3.6500237973745904,"B":-2.7693186413360626,"C":-2.7501367193027217},{"x":20,"A":5.609079421223376,"B":-4.369622389316248,"C":-3.776663665670819},{"x":21,"A":5.811804526480979,"B":-4.358224727218268,"C":-4.419724038852369},{"x":22,"A":4.974944839108474,"B":-3.440387240344993,"C":-4.056076248291949},{"x":23,"A":4.549787573562085,"B":-2.577528966652067,"C":-3.012060220582436},{"x":24,"A":5.530677394358286,"B":-4.143326482497852,"C":-3.0791973737349356},{"x":25,"A":5.127537370747979,"B":-4.05701830948578,"C":-3.807380644232281},{"x":26,"A":6.299899749015408,"B":-4.694163532263955,"C":-6.346942954235653},{"x":27,"A":8.221807388715732,"B":-4.314513790353124,"C":-6.752638188857504},{"x":28,"A":8.775206081318542,"B":-4.918423723832458,"C":-3.818526080496397},{"x":29,"A":7.603493100120158,"B":-5.637790414085375,"C":-4.026923935326485},{"x":30,"A":7.09725036834636,"B":-5.927707896233904,"C":-3.391401337659631},{"x":31,"A":8.654112564890909,"B":-6.256467042047107,"C":-3.5219901466824037},{"x":32,"A":6.934600806726865,"B":-8.646909509047331,"C":-3.6150765157667064},{"x":33,"A":7.809378332603195,"B":-7.963594600018631,"C":-4.340088256186528},{"x":34,"A":7.552515787188856,"B":-6.7589997641952575,"C":-5.043650927212208},{"x":35,"A":7.230981810140664,"B":-6.883405698498462,"C":-4.9265189742984274},{"x":36,"A":5.607950698005029,"B":-7.070987222787629,"C":-2.7669810606944134},{"x":37,"A":5.4154451688403125,"B":-8.721912163049502,"C":-2.7964883408648653},{"x":38,"A":5.463178206560759,"B":-10.22609740247821,"C":-1.790617720677686},{"x":39,"A":5.741376964175912,"B":-9.90735818909229,"C":-1.9092559856146019},{"x":40,"A":6.506881467399697,"B":-10.73965701037369,"C":-3.882929602550182},{"x":41,"A":7.584985682890943,"B":-10.595923983921578,"C":-4.205338140723808},{"x":42,"A":7.581078393520332,"B":-11.949876349462592,"C":-5.817092184748528},{"x":43,"A":9.675411436398814,"B":-13.610027111350503,"C":-4.418506437678644},{"x":44,"A":10.02763303176202,"B":-14.900917993392802,"C":-5.232397933944241},{"x":45,"A":8.005850837813618,"B":-15.626733340748798,"C":-5.014713718597407},{"x":46,"A":7.854073184823149,"B":-16.679212921255967,"C":-6.424583457633229},{"x":47,"A":9.9888230913467,"B":-16.575075992041175,"C":-6.8897294529078685},{"x":48,"A":10.56496470541962,"B":-15.562620426865006,"C":-7.24807120590499},{"x":49,"A":9.837316567209175,"B":-14.493630820925514,"C":-6.669341319915424},{"x":50,"A":9.669381181587635,"B":-15.569219310861772,"C":-7.848141683274152},{"x":51,"A":8.820467171717318,"B":-16.384536916464498,"C":-8.80173335345035},{"x":52,"A":8.986484558878367,"B":-15.945853449858587,"C":-7.380731395142079},{"x":53,"A":9.237639728497708,"B":-16.450122562329135,"C":-6.6134611771651475},{"x":54,"A":10.466629713400177,"B":-14.362845864098574,"C":-6.7757924739961535},{"x":55,"A":10.403757506030978,"B":-14.476187805306976,"C":-5.3474430111170035},{"x":56,"A":9.52499264157347,"B":-13.999495730777213,"C":-6.130308641266544},{"x":57,"A":10.177761042709404,"B":-13.719780622197133,"C":-4.859413449693669},{"x":58,"A":9.994837263139363,"B":-13.096366170222238,"C":-3.8788622458432838},{"x":59,"A":10.646216642128943,"B":-11.833207045172445,"C":-2.561004451643644},{"x":60,"A":10.36246516716454,"B":-10.823561142157512,"C":-2.2563284732500835},{"x":61,"A":10.362913785545194,"B":-9.86424771668915,"C":-1.0883098137157883},{"x":62,"A":10.791374922472045,"B":-10.344100572438974,"C":-3.0224786264936334},{"x":63,"A":11.151274931998396,"B":-9.370724702962459,"C":-2.1114295684682607},{"x":64,"A":12.955660639958204,"B":-11.733406858824813,"C":-1.9440435972461927},{"x":65,"A":14.16025856654715,"B":-13.358632984922062,"C":-0.1792540820481926},{"x":66,"A":13.70899660731029,"B":-12.641060298881554,"C":-0.09406568701166951},{"x":67,"A":13.74557379901183,"B":-13.698179623730256,"C":0.9549487221796057},{"x":68,"A":12.742155083647544,"B":-14.717822264512565,"C":1.4085933491179228},{"x":69,"A":11.768156010730337,"B":-14.380500398803209,"C":1.1496158236160698},{"x":70,"A":10.57341441154255,"B":-15.391146267192283,"C":1.2107394777511415},{"x":71,"A":10.194691573482347,"B":-15.595491175237566,"C":1.9486220356933273},{"x":72,"A":9.852598273310779,"B":-15.392493665758618,"C":1.7402998275215853},{"x":73,"A":10.503919255557866,"B":-15.705680169609856,"C":3.1567490282147768},{"x":74,"A":10.85025240032745,"B":-14.701791716780932,"C":4.103670889601419},{"x":75,"A":9.94403665675174,"B":-15.332119842944337,"C":4.434237448553482},{"x":76,"A":11.444990968127295,"B":-16.681939053810495,"C":5.482371466884769},{"x":77,"A":12.090849470930264,"B":-15.867328491574396,"C":5.0174847023726485},{"x":78,"A":12.096033296263403,"B":-16.064484048638946,"C":3.4272781704105437},{"x":79,"A":12.49515436183304,"B":-17.92092882781448,"C":2.1264304308318476},{"x":80,"A":12.411985819739689,"B":-17.911348372020143,"C":3.308637174264557},{"x":81,"A":10.779278754071818,"B":-17.2716892821252,"C":2.0026990473582904},{"x":82,"A":11.135178806257487,"B":-19.002899968595358,"C":1.2775939166435886},{"x":83,"A":12.916662075901355,"B":-17.950842571733688,"C":3.8865416997811018},{"x":84,"A":12.9777062833706,"B":-16.744874387814008,"C":4.354790486994158},{"x":85,"A":13.267304734167446,"B":-16.5257736146186,"C":4.617725479732542},{"x":86,"A":10.658924987262179,"B":-16.477988127038973,"C":5.38054592703835},{"x":87,"A":11.266153954522423,"B":-15.441335343903111,"C":3.7954067687073785},{"x":88,"A":10.598700517430629,"B":-15.88104685409618,"C":4.310455202253857},{"x":89,"A":9.627155558992275,"B":-15.687870355958992,"C":2.4711765761245426},{"x":90,"A":8.625719903889761,"B":-15.089295967800469,"C":1.7219557020566896},{"x":91,"A":7.982859583101908,"B":-15.002459191310244,"C":1.190126132036346},{"x":92,"A":7.865484135855379,"B":-16.777375210016345,"C":1.3742167706077635},{"x":93,"A":6.775470687312432,"B":-17.912732324646,"C":2.5564184748714434},{"x":94,"A":7.826532668557716,"B":-19.761872142366542,"C":1.974486013500639},{"x":95,"A":8.248111763872473,"B":-19.656888011871033,"C":1.8335487797971353},{"x":96,"A":9.137815161767946,"B":-19.169994241955727,"C":3.4405134579951424},{"x":97,"A":8.417155508786628,"B":-18.679113937934773,"C":3.3605599562169997},{"x":98,"A":8.87740102323658,"B":-19.968911506798833,"C":4.203132903640349},{"x":99,"A":7.076237792507227,"B":-19.00363830490201,"C":5.562900102110372},{"x":100,"A":6.884463390304801,"B":-17.26949558179576,"C":6.772157453711245}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Saturday 1 July 2023 19:45">Saturday 1 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
