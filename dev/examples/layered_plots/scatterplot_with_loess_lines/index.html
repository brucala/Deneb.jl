<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl3af94e1046244694804602022ee373ca' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl3af94e1046244694804602022ee373ca',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":1.512296840542204,"B":-0.2580339758023517,"C":0.3005453044825975},{"x":2,"A":1.4038217684152914,"B":-1.7451561369237842,"C":0.9024237439107399},{"x":3,"A":1.3674489880413385,"B":-2.1897047158120526,"C":0.3249398359027726},{"x":4,"A":1.5671488295787652,"B":-2.0680508070497505,"C":0.20950330845700318},{"x":5,"A":2.7061482579616785,"B":-3.492579760391158,"C":0.5521891041787423},{"x":6,"A":0.8097291870201386,"B":-2.5184761375277884,"C":-1.1593821662661759},{"x":7,"A":-0.12611861173737404,"B":-1.4779756871927172,"C":0.11263864153996478},{"x":8,"A":0.42265155924778863,"B":-1.4585876896513363,"C":-0.5659016589830856},{"x":9,"A":-0.5415936992726404,"B":-0.9521859337100127,"C":-0.9977082269527646},{"x":10,"A":-0.21440831435268048,"B":-0.837980282808825,"C":-1.214545929927383},{"x":11,"A":0.7309020238031531,"B":-0.4362178525007667,"C":-2.4430139700804614},{"x":12,"A":1.4734799353045807,"B":1.0520200105709405,"C":-2.3360740460907143},{"x":13,"A":1.7144416881069957,"B":0.634963890645792,"C":-1.649474172633189},{"x":14,"A":2.3731305558784888,"B":-1.3808676808204348,"C":-2.6284562815270913},{"x":15,"A":2.270884916767691,"B":-2.0364273239677124,"C":-2.97623891979301},{"x":16,"A":-0.24361504204189188,"B":-3.293883943531901,"C":-2.4649356977571535},{"x":17,"A":0.11046671726862489,"B":-1.1076469990147795,"C":-1.3087511001588386},{"x":18,"A":0.6400168582084863,"B":0.6004788339380769,"C":-0.4624795364999977},{"x":19,"A":0.28144942373101456,"B":-0.07090396412514638,"C":-2.360895232297093},{"x":20,"A":-2.0747699757408657,"B":0.31140068637992563,"C":-2.575947465129643},{"x":21,"A":-3.6708913111543264,"B":1.4423569741864617,"C":-2.7718499054245016},{"x":22,"A":-1.558576433707946,"B":2.498661957767364,"C":-1.9307024328054232},{"x":23,"A":-0.06886225500475174,"B":4.834544168560272,"C":-1.715051934131068},{"x":24,"A":0.2475832615778577,"B":4.960187815058384,"C":-2.0579209830080036},{"x":25,"A":1.5626955446674278,"B":3.938742171645002,"C":-2.482306827523759},{"x":26,"A":0.21570114260640416,"B":3.6749455790351067,"C":-1.3886741441657404},{"x":27,"A":-0.3225712660182556,"B":2.6605727135310278,"C":-1.960526071180153},{"x":28,"A":-0.8225323952939889,"B":3.649023282758026,"C":-2.552229278414643},{"x":29,"A":-2.028671182124945,"B":4.237774762218398,"C":-2.4100259564836106},{"x":30,"A":-2.997870162065376,"B":5.338884226727687,"C":0.6102193973979686},{"x":31,"A":-1.8922135637758473,"B":2.8888041244881344,"C":2.4781077160171052},{"x":32,"A":-4.354437842102669,"B":2.796626874440258,"C":2.4389130422968206},{"x":33,"A":-4.162105135725052,"B":2.6232524626985256,"C":1.6476239424575971},{"x":34,"A":-4.302335575535047,"B":1.1888470547144139,"C":2.4624249869256505},{"x":35,"A":-5.658272669550937,"B":0.44385792518816586,"C":1.9559960137481451},{"x":36,"A":-4.223217114580739,"B":1.412768337977768,"C":2.243953752848632},{"x":37,"A":-4.330977517652257,"B":1.695088974248142,"C":4.373806317909234},{"x":38,"A":-3.6446058702394506,"B":3.3710793438368105,"C":4.618966737305125},{"x":39,"A":-2.1523120405366054,"B":3.0330088850951586,"C":3.307251074709932},{"x":40,"A":-1.818979298575511,"B":3.137776674558627,"C":3.100370253773845},{"x":41,"A":-1.5256696818942865,"B":3.131538471438931,"C":2.422502137113544},{"x":42,"A":-2.1775596322958304,"B":5.648327036805504,"C":1.4191705681939062},{"x":43,"A":-3.2876863438565076,"B":4.996425349201361,"C":1.847025739866191},{"x":44,"A":-1.3591202704767764,"B":3.6488880306285982,"C":3.748708474362026},{"x":45,"A":0.45332554684475945,"B":3.359058963734448,"C":6.043805276501633},{"x":46,"A":-0.6088911609972718,"B":4.05098237508796,"C":5.765381753474203},{"x":47,"A":-1.8691823895063675,"B":5.720737506816885,"C":7.6321079778049},{"x":48,"A":-1.9966647767447956,"B":4.916231737833437,"C":8.328069719717039},{"x":49,"A":-3.47648804902257,"B":4.7756681461520465,"C":9.001520853226772},{"x":50,"A":-2.72026452246456,"B":3.953908174756265,"C":9.217709756688514},{"x":51,"A":-0.8881514597470606,"B":6.04287162734312,"C":9.731445140532928},{"x":52,"A":-0.49695584982324137,"B":5.697333868323581,"C":10.707371535927209},{"x":53,"A":-0.1349641872530214,"B":5.461059586637039,"C":11.775756281796635},{"x":54,"A":-1.1112407538737967,"B":5.879873905204833,"C":11.392932153847216},{"x":55,"A":-0.891363196130396,"B":5.569140759900885,"C":11.953223742977068},{"x":56,"A":0.2521902468257369,"B":4.18508521868916,"C":13.025265551886859},{"x":57,"A":1.3130593548956322,"B":3.3493475697803277,"C":12.28785571335388},{"x":58,"A":1.6694766477901997,"B":4.599789016258576,"C":11.290055490355789},{"x":59,"A":1.197264423613831,"B":3.9082911331397763,"C":12.679947977394379},{"x":60,"A":-0.7897931027351377,"B":3.529100462798613,"C":11.29059522687434},{"x":61,"A":-1.2060439876029951,"B":4.712467881127491,"C":10.180853339658574},{"x":62,"A":-0.4477483356037104,"B":5.9890994632984365,"C":10.395644177149318},{"x":63,"A":-0.47789840382151816,"B":5.858623230714727,"C":11.152430595790314},{"x":64,"A":-0.8836068976072005,"B":6.540548964955202,"C":10.528621227770422},{"x":65,"A":-2.746589345588971,"B":5.168487440346947,"C":9.939247503833052},{"x":66,"A":-1.2539239634026629,"B":6.150960271644663,"C":8.66330574358302},{"x":67,"A":-0.04282051378470375,"B":7.161473970379415,"C":9.616094018849383},{"x":68,"A":1.9803915167922999,"B":8.506218182428855,"C":8.584405787149835},{"x":69,"A":2.368090691877767,"B":11.090532859239108,"C":6.576208985855056},{"x":70,"A":2.529901263433666,"B":12.226983060548896,"C":7.706623879058449},{"x":71,"A":4.941314224269388,"B":12.131369077360132,"C":8.464350234054981},{"x":72,"A":4.634494239706736,"B":12.80332202745643,"C":9.346151759406963},{"x":73,"A":4.532231995091654,"B":11.240283797952502,"C":7.480096195474468},{"x":74,"A":2.5353801767219024,"B":12.601478047946712,"C":7.0455552419235365},{"x":75,"A":3.069173220196367,"B":12.170506321154248,"C":7.924144702618966},{"x":76,"A":5.5773257649362895,"B":12.507524115643964,"C":8.807016873888166},{"x":77,"A":5.542613087456314,"B":13.261056719705126,"C":9.409749330872915},{"x":78,"A":4.381351964352821,"B":11.78423699385827,"C":8.622571057644851},{"x":79,"A":3.860628925758461,"B":13.348396622485058,"C":7.649322023346603},{"x":80,"A":2.0784682838329376,"B":13.230465794982724,"C":6.904283776331734},{"x":81,"A":2.938969464356388,"B":13.634173693271219,"C":6.532837519994045},{"x":82,"A":4.6601698968043745,"B":13.155158751676995,"C":5.302775788182029},{"x":83,"A":6.389209939133899,"B":14.089594630864084,"C":6.0990272741461675},{"x":84,"A":7.409982749486945,"B":14.860216621875905,"C":7.032434969073463},{"x":85,"A":7.184694445091762,"B":14.667700938061335,"C":6.203613008495951},{"x":86,"A":7.115422036830383,"B":15.332176582569376,"C":4.6655165654611475},{"x":87,"A":4.936331451839944,"B":16.980096260740698,"C":5.390531927030907},{"x":88,"A":5.887898777070309,"B":16.814885615430978,"C":6.210663109716067},{"x":89,"A":6.436086519632228,"B":15.965349284190626,"C":4.0231092028561815},{"x":90,"A":6.303196688594613,"B":17.14599094880806,"C":6.378811436738842},{"x":91,"A":7.50103297482794,"B":17.560100336970134,"C":7.383643006932629},{"x":92,"A":7.6061836491198065,"B":19.906870232126543,"C":6.501347341447424},{"x":93,"A":7.507710488093673,"B":21.598996910666706,"C":5.719963217297345},{"x":94,"A":7.2708375317365155,"B":21.47076466586182,"C":6.83622333206597},{"x":95,"A":7.637459338860667,"B":23.195333986006265,"C":6.193703158791467},{"x":96,"A":6.705590339266664,"B":23.00394266073089,"C":5.672653433768526},{"x":97,"A":6.678288919463384,"B":22.367806416917933,"C":5.704353341788689},{"x":98,"A":6.819536336521592,"B":21.43141638545916,"C":3.2164588840467143},{"x":99,"A":7.4128451363288415,"B":22.97472632343681,"C":3.1736895582578195},{"x":100,"A":7.491472128691934,"B":22.48143134639316,"C":3.4702231520220974}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 28 June 2023 21:12">Wednesday 28 June 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
