<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl28619a2b5438495a85612846e776d179' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl28619a2b5438495a85612846e776d179',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.32207546644885077,"B":-0.011726049024389281,"C":0.669941670416125},{"x":2,"A":1.4333367857643833,"B":-0.6364770678665227,"C":0.893215293520377},{"x":3,"A":2.865598307581384,"B":-1.0969633054401124,"C":1.4552118236976792},{"x":4,"A":2.93898722530123,"B":-1.8387258275981255,"C":-0.057021333433299404},{"x":5,"A":1.3980192914373781,"B":-1.0119051360239508,"C":-0.4633945484372095},{"x":6,"A":1.0838615435479757,"B":0.6371279327106697,"C":-2.8418105347137215},{"x":7,"A":0.8137589321364856,"B":-0.735230745328188,"C":-2.6183405409619445},{"x":8,"A":0.530787731533747,"B":-1.1083709426807382,"C":-1.2079050458429301},{"x":9,"A":0.6077591041106605,"B":-1.714380550291958,"C":-2.0444089923992155},{"x":10,"A":0.8292377576600225,"B":-3.399043449348253,"C":-1.3259748466056633},{"x":11,"A":2.273221112870872,"B":-6.3921517124784115,"C":-0.8329691917133473},{"x":12,"A":3.0221036974652735,"B":-6.814923301910103,"C":-0.45440824093705867},{"x":13,"A":2.4267451688341524,"B":-6.698398560165619,"C":-3.0505550831296238},{"x":14,"A":2.560166577699812,"B":-7.35573060081727,"C":-4.381732689248417},{"x":15,"A":2.447092351635404,"B":-7.838711549983592,"C":-4.051519225145808},{"x":16,"A":3.4074013973949295,"B":-8.719386894232002,"C":-4.667471500032202},{"x":17,"A":3.7681641209409333,"B":-7.802912640754379,"C":-5.614050630228351},{"x":18,"A":4.782068334675441,"B":-7.440476771931962,"C":-6.549815447069186},{"x":19,"A":4.292357192890579,"B":-8.544221241678962,"C":-8.183076594092611},{"x":20,"A":2.9605385816672882,"B":-7.649870989543218,"C":-8.116699658672918},{"x":21,"A":3.8661184918253326,"B":-6.795684357142473,"C":-5.993810013154791},{"x":22,"A":3.035585627913873,"B":-6.482895900901427,"C":-4.6847752657946735},{"x":23,"A":2.7204820703519665,"B":-6.100812827264931,"C":-5.454965128774433},{"x":24,"A":3.3465736946892894,"B":-7.348236851597518,"C":-7.163484640618916},{"x":25,"A":2.7474669383771877,"B":-8.878840808996213,"C":-6.833953611266309},{"x":26,"A":1.2588348034038173,"B":-9.761145628761877,"C":-6.754597317973049},{"x":27,"A":0.9577557533925846,"B":-9.528909379752621,"C":-5.981467912240271},{"x":28,"A":1.3083211121030582,"B":-8.796040560984038,"C":-6.226663245470685},{"x":29,"A":1.6579281759679045,"B":-9.550224901952342,"C":-6.6813366277391175},{"x":30,"A":1.8310343376159783,"B":-9.741147439311622,"C":-7.22580528241274},{"x":31,"A":3.3627464598023504,"B":-9.788890609602767,"C":-7.359688114740865},{"x":32,"A":2.356338263080807,"B":-11.215251100058087,"C":-7.145370049874185},{"x":33,"A":3.8869463071288726,"B":-10.368761971386258,"C":-6.076448383316518},{"x":34,"A":3.85721331100906,"B":-10.121529960152428,"C":-6.955435324063381},{"x":35,"A":4.460692988135607,"B":-9.20561243744807,"C":-8.286217229218867},{"x":36,"A":3.9351031676358845,"B":-10.045028965204482,"C":-9.617101714889724},{"x":37,"A":4.422877326392999,"B":-9.242661600933586,"C":-10.069122029215531},{"x":38,"A":4.2945196254724625,"B":-9.55743480695465,"C":-11.829927155428535},{"x":39,"A":4.506053323177494,"B":-11.129332233604249,"C":-10.289750057336501},{"x":40,"A":3.9580341554592673,"B":-11.362652401869395,"C":-11.282862405612853},{"x":41,"A":3.381220548355625,"B":-10.450105000042868,"C":-11.767162972455509},{"x":42,"A":2.6699705843872,"B":-11.876574493590311,"C":-11.190470612810575},{"x":43,"A":2.235954513112725,"B":-12.05112860841036,"C":-11.770134057807592},{"x":44,"A":1.5647271517023646,"B":-11.367758411477125,"C":-11.763608547701821},{"x":45,"A":1.9487881400626539,"B":-11.85341205433213,"C":-11.634070316292398},{"x":46,"A":0.37710157435284497,"B":-11.742232896017672,"C":-12.775373276197168},{"x":47,"A":0.6880487397561528,"B":-11.635425662298406,"C":-13.073089391897192},{"x":48,"A":2.594969832206263,"B":-12.15493639881,"C":-12.797629644797528},{"x":49,"A":1.9999488378552124,"B":-10.437612311913997,"C":-11.91897219074151},{"x":50,"A":1.1952034515086711,"B":-9.899517108073848,"C":-11.55749810382424},{"x":51,"A":1.6537860984023525,"B":-9.865948947673072,"C":-12.16895986530891},{"x":52,"A":1.6673643177376303,"B":-8.99415995052975,"C":-10.648711984686134},{"x":53,"A":1.1889553562648214,"B":-8.920842695613926,"C":-10.032577698296812},{"x":54,"A":1.9439378377077314,"B":-9.317564467813003,"C":-12.20488143750973},{"x":55,"A":2.8156362028079602,"B":-7.748436882744887,"C":-10.644554667753624},{"x":56,"A":5.906855271635113,"B":-7.608863666590249,"C":-10.10854671009459},{"x":57,"A":4.731940076465079,"B":-6.358012158891376,"C":-8.209132042382283},{"x":58,"A":5.270868135604695,"B":-5.920355988301311,"C":-9.092393819799035},{"x":59,"A":5.672812829273622,"B":-6.417729719745511,"C":-9.477732903971472},{"x":60,"A":6.613893181770964,"B":-7.966340598579794,"C":-7.865936111174443},{"x":61,"A":6.341991767901874,"B":-8.148880876050814,"C":-7.263146676521758},{"x":62,"A":5.760959121891574,"B":-7.394790554669819,"C":-7.230593363226371},{"x":63,"A":5.512550596402983,"B":-5.750233495904554,"C":-6.079871510454469},{"x":64,"A":5.7406377805172415,"B":-4.843359741184307,"C":-5.409012827838129},{"x":65,"A":7.598874916072166,"B":-2.9546370075419723,"C":-6.091804931168977},{"x":66,"A":7.369127169879419,"B":-1.7983555354989982,"C":-6.989346764327026},{"x":67,"A":6.529673053249937,"B":-1.0315231989193892,"C":-8.288881407171736},{"x":68,"A":6.501763643915643,"B":-3.528530622177211,"C":-7.901552143333405},{"x":69,"A":7.113617682484446,"B":-3.741405135982208,"C":-7.2972087735446864},{"x":70,"A":8.36854579027952,"B":-5.476273859077532,"C":-7.423864290468111},{"x":71,"A":9.08581600224934,"B":-3.400299260853467,"C":-5.312490825140519},{"x":72,"A":10.917393509908868,"B":-2.0819310754566795,"C":-5.518018165020178},{"x":73,"A":11.93605544923628,"B":-0.14558117148087873,"C":-4.114339055670179},{"x":74,"A":13.94151335657119,"B":0.593240825560188,"C":-4.367159070368435},{"x":75,"A":13.96982242448569,"B":0.5689381869329663,"C":-2.6236525876771117},{"x":76,"A":14.39809793497806,"B":1.0976791003694726,"C":-1.4714417400172835},{"x":77,"A":16.03918615398134,"B":-0.21824942410451892,"C":-1.1547935401229574},{"x":78,"A":15.654355420363338,"B":1.1003682577830747,"C":-0.8532761838774581},{"x":79,"A":15.042736115492295,"B":1.1775216658917833,"C":1.0935828062701995},{"x":80,"A":15.006301636091521,"B":2.30649164283862,"C":2.006482923702427},{"x":81,"A":13.842143356275969,"B":3.769009615324676,"C":1.1034912182981316},{"x":82,"A":12.276913386766843,"B":3.2282742145475503,"C":0.5952817384601236},{"x":83,"A":14.388447270170376,"B":4.0265498848470145,"C":1.6296097568440744},{"x":84,"A":13.024260612773315,"B":4.335074024432248,"C":1.8283590564823662},{"x":85,"A":13.689709614588548,"B":3.8436012504251305,"C":0.954049636004891},{"x":86,"A":12.30679027777676,"B":3.2298066406296355,"C":0.5591118323701556},{"x":87,"A":12.954127986412105,"B":4.087583768139548,"C":0.5061810669147113},{"x":88,"A":13.21619653509006,"B":2.0200590594615346,"C":1.0704273144630134},{"x":89,"A":13.08762893489972,"B":2.4404376323805015,"C":1.8755614341049651},{"x":90,"A":15.273790294645485,"B":1.626827728786301,"C":3.292142979138616},{"x":91,"A":17.054818409711785,"B":2.7229011995627146,"C":3.6115909990615402},{"x":92,"A":16.282572937925092,"B":2.6558509470749914,"C":2.2901209064704897},{"x":93,"A":17.423570541820247,"B":2.095080505098294,"C":0.5061407917914447},{"x":94,"A":16.853857201083986,"B":1.0992362608462356,"C":-0.4065905506682763},{"x":95,"A":16.674439834121177,"B":0.6419643779072746,"C":-0.321249191489541},{"x":96,"A":16.786012922159465,"B":1.762867174614811,"C":0.324793205982038},{"x":97,"A":14.98451351458203,"B":2.502701456717789,"C":0.3044774008773745},{"x":98,"A":15.707226065564592,"B":2.4599911604056963,"C":0.35265679658389726},{"x":99,"A":15.833923705156968,"B":1.4374964868305684,"C":0.004799904580279013},{"x":100,"A":14.842510853610946,"B":1.299361491187077,"C":-0.22326835813683132}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 2 July 2023 09:21">Sunday 2 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
