<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vldedc8214777640979996701b7e0dbcd4' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vldedc8214777640979996701b7e0dbcd4',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":1.3421393518578748,"B":-0.13211643157987576,"C":-0.033999177376493335},{"x":2,"A":0.47928969239537067,"B":-0.7846648633320246,"C":0.43227690783016615},{"x":3,"A":0.2540847652816016,"B":-0.29398911184060206,"C":-0.2779600240878095},{"x":4,"A":-1.20016382817571,"B":0.7229521992081023,"C":-0.22880671385373968},{"x":5,"A":-1.698502068619097,"B":2.2881362912710466,"C":-0.3808374745617717},{"x":6,"A":-0.5706526787628861,"B":3.310929310163641,"C":-0.8842897470275222},{"x":7,"A":-2.296887795172398,"B":1.0722737703245566,"C":0.026970629338109058},{"x":8,"A":-2.5104261714938523,"B":0.11949821630879473,"C":-1.0665726656023804},{"x":9,"A":-3.142524078826616,"B":1.2236776750492548,"C":-2.5443569396314145},{"x":10,"A":-3.7315089213920007,"B":2.822688213269781,"C":-0.696751850830899},{"x":11,"A":-2.9640771149631915,"B":2.647075028919276,"C":-2.3259514602942692},{"x":12,"A":-1.2480071234340784,"B":3.7469283955290478,"C":-3.3200387351169964},{"x":13,"A":-1.3110273984000234,"B":2.837832909793084,"C":-2.476909923186818},{"x":14,"A":-1.4450095477879694,"B":2.6265945731668134,"C":-1.4508358189496264},{"x":15,"A":0.2133617484864212,"B":1.2474240305976745,"C":-0.7917712432329277},{"x":16,"A":0.17742715231252304,"B":1.6678122669242672,"C":-2.45094942179451},{"x":17,"A":0.09918098212571613,"B":2.3092447968295495,"C":-1.3571376396565875},{"x":18,"A":0.3575133103649468,"B":2.193754783197097,"C":-0.3576580729510466},{"x":19,"A":2.086776328939494,"B":2.3860153066204277,"C":0.6612570548914832},{"x":20,"A":0.4106294779148587,"B":1.2381916037498415,"C":-0.7916070995006764},{"x":21,"A":-0.29834472755272934,"B":0.9184998902351638,"C":-0.5791458381357694},{"x":22,"A":-2.496263283171847,"B":-0.9295894608819486,"C":-2.046390298267677},{"x":23,"A":-1.1223868907577281,"B":-0.7146872139206402,"C":-2.7383384962328514},{"x":24,"A":-2.024614134511067,"B":0.24240136296725187,"C":-2.044962758574905},{"x":25,"A":-2.5568838737604294,"B":0.9944230551984594,"C":-1.0467096145761474},{"x":26,"A":-3.6829880297617965,"B":1.999882420899838,"C":-0.12985696644892092},{"x":27,"A":-4.255625286011436,"B":1.0543569927548422,"C":0.506975158349113},{"x":28,"A":-4.475967937353479,"B":1.290638784210848,"C":1.264741803256623},{"x":29,"A":-4.116957249552154,"B":-0.4786888974678605,"C":2.055819183967086},{"x":30,"A":-4.448914023869055,"B":-0.2971607113470541,"C":3.133816310785655},{"x":31,"A":-5.4452244403943295,"B":-1.7334061324703292,"C":5.523554858989533},{"x":32,"A":-6.493274547029478,"B":-2.2740053687725474,"C":7.178429029997161},{"x":33,"A":-8.756715194949411,"B":-2.015724881351786,"C":5.844500929260972},{"x":34,"A":-8.592809385920734,"B":-1.564011759912348,"C":5.206418341020979},{"x":35,"A":-5.610636194395403,"B":-4.055417356540736,"C":5.450604092001242},{"x":36,"A":-6.261686701044279,"B":-3.5716369267138526,"C":4.9019235744899365},{"x":37,"A":-6.439110820594394,"B":-4.6610924364170785,"C":4.254571932054568},{"x":38,"A":-4.8657097928897715,"B":-4.8855413821070215,"C":4.9349525127075795},{"x":39,"A":-3.2438841126950946,"B":-2.3989290372938354,"C":5.792676835061429},{"x":40,"A":-2.950527372780982,"B":-2.9503730291924923,"C":4.897099554296658},{"x":41,"A":-3.9840410743696806,"B":-3.0078172007221107,"C":4.554271305667849},{"x":42,"A":-3.5377621927281275,"B":-2.0871866025225483,"C":4.625562762569147},{"x":43,"A":-2.330986727453511,"B":-1.5041099845233639,"C":3.9381580710147164},{"x":44,"A":-1.1487645731172282,"B":-0.7613915095889597,"C":6.3658346250331075},{"x":45,"A":-0.5007135890935488,"B":-0.528058386999475,"C":4.8773994436939585},{"x":46,"A":1.9224331386501152,"B":-1.3339144318244887,"C":4.5920090242289096},{"x":47,"A":2.287901913195704,"B":-1.36292129024899,"C":6.112941470769226},{"x":48,"A":2.8558372572014754,"B":-0.4602009168376512,"C":6.304088494045338},{"x":49,"A":3.149420374492204,"B":-2.726223918785618,"C":5.716893652931638},{"x":50,"A":1.6651537835967487,"B":-0.9274326261256307,"C":5.221517885438269},{"x":51,"A":2.683755772091601,"B":-1.0837328675429738,"C":6.931073027190347},{"x":52,"A":0.8257690574868648,"B":-1.6701531336913154,"C":7.86904640605967},{"x":53,"A":0.9661060106555978,"B":-2.712034435167916,"C":8.689553895514605},{"x":54,"A":2.438146943312279,"B":-3.3706235997835954,"C":9.526680456118166},{"x":55,"A":2.772895175016104,"B":-1.0993759624625206,"C":10.340949341494925},{"x":56,"A":1.827751653846701,"B":-2.3170461430364826,"C":7.939180766934458},{"x":57,"A":0.76951467033837,"B":-2.3436518489696945,"C":7.5145669095563115},{"x":58,"A":0.561190841709104,"B":-2.6879127513073033,"C":5.9885887217588385},{"x":59,"A":-1.2606842178769995,"B":-3.658614367360152,"C":6.310324745384211},{"x":60,"A":-1.984577044364058,"B":-4.387804652146392,"C":5.893130604513141},{"x":61,"A":-2.771711247822026,"B":-3.972002197971981,"C":4.708995323535275},{"x":62,"A":-3.244658507269972,"B":-2.672978021785127,"C":4.158951699498927},{"x":63,"A":-3.7979264052014665,"B":-2.5431685787692313,"C":2.940703628935785},{"x":64,"A":-1.2766068197418123,"B":-2.5807048387105533,"C":4.529191650588008},{"x":65,"A":-2.401533847051785,"B":-1.4414372201848968,"C":5.0061845760084855},{"x":66,"A":-2.7967280114486934,"B":-1.8764711463027604,"C":3.258569639443953},{"x":67,"A":-3.1167687679858336,"B":-2.1545917824923433,"C":4.042426654648064},{"x":68,"A":-3.1087684199557515,"B":-0.6871986077752403,"C":4.100740466001125},{"x":69,"A":-2.0019708052928404,"B":0.44791654102251344,"C":2.5355109122410435},{"x":70,"A":-0.8290705739811619,"B":1.1350149544813766,"C":1.6776117424762271},{"x":71,"A":0.27636842313206733,"B":1.7048869369519066,"C":2.463021126925681},{"x":72,"A":1.1474480220950398,"B":2.463436661982874,"C":1.5726887828405272},{"x":73,"A":4.0912836289111585,"B":2.039790249509401,"C":0.1319734640319215},{"x":74,"A":4.892054927670464,"B":1.3274289155198826,"C":1.2261339157645164},{"x":75,"A":4.850390227294559,"B":1.5790273554188408,"C":0.0013890467197788456},{"x":76,"A":3.0726059486893273,"B":2.8891404577508695,"C":-0.5468142369850777},{"x":77,"A":4.080545237249102,"B":2.0882476939182,"C":1.385694031896039},{"x":78,"A":3.6622028840915952,"B":3.577535701578677,"C":0.9161789529368414},{"x":79,"A":3.3390728125643063,"B":3.032128078933396,"C":2.7016492459067365},{"x":80,"A":1.4303478069471485,"B":3.516968494480367,"C":1.936614250636034},{"x":81,"A":1.4223815311431685,"B":2.554768268442631,"C":1.6888676545266192},{"x":82,"A":1.8579432040682262,"B":2.2723361010978667,"C":0.24618026428737522},{"x":83,"A":2.044359213038623,"B":2.9380841894505694,"C":0.687416805594421},{"x":84,"A":2.005412387952224,"B":3.7153024421449787,"C":0.3975599690981694},{"x":85,"A":2.834702669503321,"B":4.5261704704595385,"C":-0.9648288071159716},{"x":86,"A":2.1906689128493357,"B":5.675036249526612,"C":-0.8833988721039505},{"x":87,"A":2.6572960841465845,"B":6.1822849963425375,"C":-1.145638822144608},{"x":88,"A":3.6706746899482,"B":5.139382838662881,"C":-1.8488511208454035},{"x":89,"A":2.7091584933241535,"B":5.690925670869363,"C":-1.3642112943360833},{"x":90,"A":2.5678158242071936,"B":5.720187189036637,"C":-2.227145045657433},{"x":91,"A":2.568803141822628,"B":5.345567308652459,"C":-1.837008480526322},{"x":92,"A":3.6043452797259032,"B":3.6654954157419883,"C":-0.29501190497837854},{"x":93,"A":5.587095824870996,"B":4.9289648110915865,"C":1.161216771083521},{"x":94,"A":5.8437097544467616,"B":4.790690690986513,"C":2.632078472432068},{"x":95,"A":7.61398769005408,"B":3.8837718005579553,"C":2.0906284368041015},{"x":96,"A":8.277944625303544,"B":5.1486298736463825,"C":2.1255868701780996},{"x":97,"A":7.457384415638844,"B":4.659942275058241,"C":3.494429089214583},{"x":98,"A":4.96317222649504,"B":5.18978989951073,"C":3.4613383259104205},{"x":99,"A":5.086154294036301,"B":6.023448546362481,"C":3.8515240331730705},{"x":100,"A":4.300188514635666,"B":6.921485742733801,"C":2.387138170012535}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 10 July 2023 08:05">Monday 10 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
