<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-2df2e3c9-fcd2-4b14-af0c-0092f8713a95.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-2df2e3c9-fcd2-4b14-af0c-0092f8713a95.vega-embed details,
  #vis-2df2e3c9-fcd2-4b14-af0c-0092f8713a95.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-2df2e3c9-fcd2-4b14-af0c-0092f8713a95"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-2df2e3c9-fcd2-4b14-af0c-0092f8713a95") {
      outputDiv = document.getElementById("vis-2df2e3c9-fcd2-4b14-af0c-0092f8713a95");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-1.485266890572692,"B":-2.526319972299632,"C":2.5663634872302903},{"x":2,"A":-1.8526835811652975,"B":0.09650079576952342,"C":1.052786741822178},{"x":3,"A":-0.8780964532007478,"B":0.37621708372559937,"C":0.5772327934085577},{"x":4,"A":0.3696788517373868,"B":1.0072833307000932,"C":-0.5950407025794182},{"x":5,"A":-0.3795141807862781,"B":0.8469067812183413,"C":-2.5076696419618743},{"x":6,"A":-1.9499379404713053,"B":0.7002340665902258,"C":-3.808936630964705},{"x":7,"A":-3.3597911349907497,"B":1.9291485531211094,"C":-4.495176102525738},{"x":8,"A":-2.7282468716230266,"B":3.2968932208477053,"C":-4.159674051964231},{"x":9,"A":-4.499245673833108,"B":4.253545255183001,"C":-2.875441086326316},{"x":10,"A":-4.5547795567795335,"B":5.095118664461067,"C":-2.4451111229251503},{"x":11,"A":-3.86989277123335,"B":5.434580305152135,"C":-3.8713657336802973},{"x":12,"A":-2.283756303633,"B":4.650668328719309,"C":-5.7036719241134275},{"x":13,"A":-1.7604975022307277,"B":5.4135089369667675,"C":-6.161638261365759},{"x":14,"A":-1.9800930655596547,"B":5.572966014246932,"C":-5.156657275013806},{"x":15,"A":-1.8656627436604643,"B":4.401236717408253,"C":-5.798588828135932},{"x":16,"A":-1.2909224832602488,"B":5.046608579486242,"C":-4.753898284436126},{"x":17,"A":-1.7294721049773458,"B":4.706016887614618,"C":-3.26862820999957},{"x":18,"A":-1.9152932809215168,"B":5.12011770499946,"C":-4.190988689485307},{"x":19,"A":-3.0213555576293354,"B":4.5280599004933535,"C":-1.5313056244047138},{"x":20,"A":-3.458149568616661,"B":5.249045666463055,"C":-2.4147201279998574},{"x":21,"A":-2.965187154936713,"B":5.973757285028956,"C":-2.2895035465420635},{"x":22,"A":-2.938050497916083,"B":5.360775861341039,"C":-2.730705068225786},{"x":23,"A":-2.2855593491385813,"B":5.106229189415977,"C":-2.396283753961218},{"x":24,"A":-2.3061999461329385,"B":5.091709701733728,"C":-2.1982753827126733},{"x":25,"A":-0.32931479965745836,"B":5.5222436288047305,"C":-2.6863593372737706},{"x":26,"A":-1.771446314921046,"B":4.848377609143947,"C":-4.441597098499127},{"x":27,"A":-1.4835749556635942,"B":6.191817132902141,"C":-5.487809274778954},{"x":28,"A":-2.5859611699664353,"B":5.267096813274621,"C":-7.04422168121544},{"x":29,"A":-1.042798900977979,"B":5.272809068088831,"C":-6.007928401839372},{"x":30,"A":1.9223338092380742,"B":6.262784071136576,"C":-6.135120868826203},{"x":31,"A":0.636340463626553,"B":5.59631170299841,"C":-7.562524223973906},{"x":32,"A":-0.36382401521079477,"B":6.298642704866875,"C":-8.928674383699086},{"x":33,"A":1.3569234823544598,"B":7.277938607116647,"C":-6.738447431307163},{"x":34,"A":1.288011992250074,"B":7.142909086657941,"C":-7.832429443589476},{"x":35,"A":1.8025853739804634,"B":5.079806617730266,"C":-6.944686172458546},{"x":36,"A":0.7326176595004708,"B":2.6008385685466546,"C":-7.245782053513391},{"x":37,"A":2.445706679362079,"B":2.445221658754085,"C":-6.155730554599616},{"x":38,"A":2.6337392216186704,"B":3.6356425677154487,"C":-4.9927604912329695},{"x":39,"A":3.1917907658606337,"B":2.3109689295753792,"C":-5.229392483093756},{"x":40,"A":4.29052365705798,"B":2.3372208667659695,"C":-5.813516196983519},{"x":41,"A":4.730375058531122,"B":3.4496590932344127,"C":-5.396458092790523},{"x":42,"A":4.8695611392850795,"B":3.4834632532831113,"C":-4.352242177937306},{"x":43,"A":4.206894778188588,"B":4.828749206624909,"C":-4.060486504828132},{"x":44,"A":4.229201049646945,"B":4.774632045157582,"C":-4.938879167547727},{"x":45,"A":5.372775758087367,"B":3.1726196102125304,"C":-7.078697906423441},{"x":46,"A":5.621003988921193,"B":3.4894821198656487,"C":-5.128134295674647},{"x":47,"A":6.279820167036423,"B":2.6170693419186053,"C":-6.338494732412819},{"x":48,"A":7.143000331560311,"B":2.5986538132171066,"C":-6.489868468151334},{"x":49,"A":7.926216654631389,"B":3.8682836104349585,"C":-5.112062663812818},{"x":50,"A":8.016420657273255,"B":4.135316499453695,"C":-5.413732890082175},{"x":51,"A":6.77880039855618,"B":5.721346549511049,"C":-6.755050339255321},{"x":52,"A":5.972183567749863,"B":5.206688244316554,"C":-5.84513594517793},{"x":53,"A":6.107780471485762,"B":5.562662830036434,"C":-6.43655160369379},{"x":54,"A":7.118379261091009,"B":5.591908515682203,"C":-6.00246645943035},{"x":55,"A":8.046941861872199,"B":3.738392529903006,"C":-5.841716380839866},{"x":56,"A":8.637370081618412,"B":3.5114036838862104,"C":-5.207724044747874},{"x":57,"A":8.238931799687014,"B":3.1632400251982613,"C":-4.775228030284119},{"x":58,"A":9.66502200653593,"B":2.976261456693738,"C":-3.365014300793597},{"x":59,"A":8.226187106403609,"B":2.2727480435535403,"C":-2.597140018088631},{"x":60,"A":7.920429775373394,"B":0.09013885413546463,"C":-2.430135393651365},{"x":61,"A":9.137823034090179,"B":0.14302837487898223,"C":-3.729775456952756},{"x":62,"A":8.304152132557117,"B":0.24630542446659476,"C":-4.668076640200896},{"x":63,"A":6.484534600640624,"B":-1.0069999544061286,"C":-3.1253575131634608},{"x":64,"A":6.45783484823378,"B":1.1042097560969388,"C":-3.2278145042863495},{"x":65,"A":8.038895518488644,"B":1.6080321290735213,"C":-3.9476078443130667},{"x":66,"A":6.995656536631724,"B":1.917356844843348,"C":-3.9480704658382897},{"x":67,"A":7.0080580965694566,"B":1.6786407119198845,"C":-4.5694247576737865},{"x":68,"A":6.2678925633155105,"B":1.8947927654690382,"C":-5.801385755944118},{"x":69,"A":7.062465640370933,"B":-0.19398804285726845,"C":-5.358423628507856},{"x":70,"A":7.334566989992949,"B":0.8335120017326902,"C":-4.807103284514817},{"x":71,"A":7.459622243951905,"B":0.06998623312175356,"C":-4.441063646958845},{"x":72,"A":6.20359029514944,"B":-1.5173029521880013,"C":-4.645541701646323},{"x":73,"A":8.237567099146819,"B":-2.7076999701942563,"C":-4.062716673772844},{"x":74,"A":8.249533545814746,"B":-2.84801446466671,"C":-4.8267532667119255},{"x":75,"A":6.388080082561437,"B":-3.9422090732985557,"C":-4.987669024384539},{"x":76,"A":6.436213275809258,"B":-5.306515216130347,"C":-3.04004700376815},{"x":77,"A":6.5144525917774745,"B":-5.847651694699819,"C":-3.4747914716651613},{"x":78,"A":5.740488929364797,"B":-6.311395353421252,"C":-4.231319045566776},{"x":79,"A":5.9498115563898635,"B":-6.704401895406319,"C":-5.501669858542462},{"x":80,"A":6.157256676835269,"B":-5.648967284194322,"C":-5.133096224723584},{"x":81,"A":5.7725227786069215,"B":-7.263188104782415,"C":-6.3370716240253255},{"x":82,"A":5.967550974362392,"B":-5.627286582762942,"C":-6.833163993704382},{"x":83,"A":6.481059928591752,"B":-4.160030295071769,"C":-6.508020201523934},{"x":84,"A":4.100944656278064,"B":-4.422921185166413,"C":-6.353370127700677},{"x":85,"A":3.3568424020878256,"B":-5.464385524736421,"C":-6.237824727358015},{"x":86,"A":3.594647422756612,"B":-5.074619517952547,"C":-7.379099571513306},{"x":87,"A":2.1829354961850926,"B":-5.818715662473631,"C":-7.32557405560142},{"x":88,"A":1.063725439130734,"B":-4.075582450462621,"C":-7.019627440177905},{"x":89,"A":2.4491492504013994,"B":-4.6450104514565,"C":-6.95327870102914},{"x":90,"A":3.000360937824923,"B":-4.359160983083207,"C":-9.094053698641044},{"x":91,"A":3.120430496444542,"B":-3.8927585068316746,"C":-8.481769215793289},{"x":92,"A":4.639812772736649,"B":-2.328810052388083,"C":-8.699727395353761},{"x":93,"A":6.176983246817801,"B":-1.9402052268675594,"C":-7.576283649104635},{"x":94,"A":6.58946993963092,"B":-2.753294024033569,"C":-7.469309973861776},{"x":95,"A":7.618223814505365,"B":-2.6848747925065894,"C":-8.350849729515776},{"x":96,"A":7.045794458614203,"B":-3.0715681256057596,"C":-6.132109722110556},{"x":97,"A":6.746275998216719,"B":-1.4649342509647956,"C":-6.447359776383163},{"x":98,"A":6.848761299809503,"B":-2.8217455922979475,"C":-7.960468670552755},{"x":99,"A":7.14496011660361,"B":-1.676693909271619,"C":-7.686327890939237},{"x":100,"A":6.9636165232417095,"B":-1.5657596556862878,"C":-8.304824035416447}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 2 December 2024 10:51">Monday 2 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
