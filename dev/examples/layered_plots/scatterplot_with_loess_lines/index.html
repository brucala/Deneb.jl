<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl7a3ebeb790654415b8aa3ad5e09fc651' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl7a3ebeb790654415b8aa3ad5e09fc651',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.7114068925776975,"B":1.606776609711618,"C":-0.8599939323707388},{"x":2,"A":-0.8339174643472704,"B":0.057168214225292946,"C":0.9790593703563863},{"x":3,"A":0.013178337163758158,"B":-3.3511636886725036,"C":0.04525851479802667},{"x":4,"A":-1.1961864129810071,"B":-0.9902028888249492,"C":-0.8667038040797608},{"x":5,"A":-1.0606706425746975,"B":0.210759617217801,"C":-2.1280553608740904},{"x":6,"A":-2.723076150440205,"B":-0.07194323559696914,"C":-2.7741262998017087},{"x":7,"A":-4.1422655016305905,"B":0.4252045351401039,"C":-1.5760467480790623},{"x":8,"A":-3.7389955273343842,"B":2.247815577775913,"C":-1.9645609676293039},{"x":9,"A":-2.888934169051577,"B":0.5615470145564947,"C":-0.9650346196660305},{"x":10,"A":-4.139974146144558,"B":0.7139461417977764,"C":-0.8121053899010275},{"x":11,"A":-5.3526921150872395,"B":-0.4053278994892242,"C":-1.2059458695442813},{"x":12,"A":-5.13770397806692,"B":-0.1963951191840756,"C":-0.4857357175966299},{"x":13,"A":-4.70647233256379,"B":0.8427022986002317,"C":-0.3619426286102641},{"x":14,"A":-4.616708826271349,"B":0.2925963761535404,"C":-0.4710197793227867},{"x":15,"A":-5.527536962701906,"B":0.8042635893996197,"C":-1.868932376814217},{"x":16,"A":-3.9539162858915606,"B":-0.018367413090983442,"C":-1.3841888095551556},{"x":17,"A":-3.385205987314883,"B":-1.100044806848988,"C":-2.362699295350235},{"x":18,"A":-3.1984588866882975,"B":-1.2268334722088219,"C":-0.7856426593359904},{"x":19,"A":-4.650712758682929,"B":-1.0557513670145622,"C":-1.3492261572767907},{"x":20,"A":-3.2768030443477656,"B":-2.0428047249862846,"C":0.29294674120358777},{"x":21,"A":-5.151218492278748,"B":-2.6135600088463367,"C":1.5453615376811556},{"x":22,"A":-4.050148639503504,"B":-5.0634628890478375,"C":2.072354969295681},{"x":23,"A":-4.636662756117288,"B":-5.807978581898903,"C":1.253868684960138},{"x":24,"A":-4.880585951916386,"B":-4.72761374573968,"C":-1.3530663319122562},{"x":25,"A":-5.492906074855874,"B":-5.5795567833105375,"C":0.6186314674783557},{"x":26,"A":-6.316718139687548,"B":-6.048906687353382,"C":0.20428781039099086},{"x":27,"A":-7.067925823706244,"B":-6.425840100759961,"C":0.6583979544796643},{"x":28,"A":-6.931373420038532,"B":-7.595806915585959,"C":1.5104277109351016},{"x":29,"A":-5.346276294737602,"B":-5.5276703359356025,"C":0.449811330584595},{"x":30,"A":-4.309305332174044,"B":-4.653025632020931,"C":0.36361349077399585},{"x":31,"A":-3.7717248735570283,"B":-4.64562540941337,"C":2.267452106991379},{"x":32,"A":-3.2613527758072474,"B":-4.2386328736614,"C":1.2559165678984099},{"x":33,"A":-4.0237387019445405,"B":-5.185719300775706,"C":0.704149450656222},{"x":34,"A":-4.6901446035201975,"B":-4.294629403067404,"C":0.185739542719076},{"x":35,"A":-3.774480011114333,"B":-4.6827989535269126,"C":-1.3275095338795466},{"x":36,"A":-4.721332983591073,"B":-5.408958953443977,"C":-2.160367121293972},{"x":37,"A":-5.151650107481794,"B":-5.184956187270211,"C":-1.7147466656518553},{"x":38,"A":-5.699028859505633,"B":-5.466548714885389,"C":-1.4110933025379417},{"x":39,"A":-6.860006617697621,"B":-5.788038688221307,"C":-2.308461026600723},{"x":40,"A":-6.604339099265769,"B":-4.917744899261215,"C":-1.7166678380331597},{"x":41,"A":-5.726552566014572,"B":-6.32554214774157,"C":-1.6932180196892996},{"x":42,"A":-6.759702634772788,"B":-5.803367512285575,"C":-2.9874897346693956},{"x":43,"A":-8.185645928152757,"B":-4.735699567794276,"C":-3.2370920561045056},{"x":44,"A":-8.529744474613725,"B":-5.0417523868761975,"C":-4.072508771947024},{"x":45,"A":-9.424449519934603,"B":-5.031334052746139,"C":-4.120692791908296},{"x":46,"A":-9.0604671704807,"B":-5.080975839256267,"C":-5.025096742748217},{"x":47,"A":-9.506554397104232,"B":-5.559203546304578,"C":-5.112562693474959},{"x":48,"A":-9.63710863738014,"B":-5.445179425927207,"C":-4.4113345450511305},{"x":49,"A":-8.953550502980118,"B":-3.7045604391102254,"C":-4.235927375472052},{"x":50,"A":-8.833190110483716,"B":-4.470596365827449,"C":-3.8337507488645937},{"x":51,"A":-7.06176557746717,"B":-4.196601755085233,"C":-4.6919013576838715},{"x":52,"A":-8.278233376178765,"B":-3.986223189552911,"C":-3.9087466783961444},{"x":53,"A":-8.32353412493719,"B":-2.1157302420943624,"C":-5.421067728992026},{"x":54,"A":-8.61383845678103,"B":-2.4158964577304527,"C":-3.923237245572971},{"x":55,"A":-9.7877974977712,"B":-1.4215649066078937,"C":-3.3953782375145467},{"x":56,"A":-9.91605125611477,"B":0.5729422434354567,"C":-2.3765446562351364},{"x":57,"A":-9.084622732350004,"B":-1.2193790689481405,"C":-2.59645201870479},{"x":58,"A":-9.00443537802098,"B":-2.0230896588701057,"C":-3.4126154005649765},{"x":59,"A":-9.162583764603696,"B":-2.899586635942301,"C":-3.3593106280071545},{"x":60,"A":-8.809750697173184,"B":-1.9378243731185072,"C":-3.2039017515677575},{"x":61,"A":-8.96836666897493,"B":-0.9583654668388446,"C":-4.975952178589292},{"x":62,"A":-8.11104892012835,"B":-0.006007780661857254,"C":-4.943479136563223},{"x":63,"A":-7.483856132461058,"B":1.3734003380723439,"C":-5.284139159639421},{"x":64,"A":-8.360965047317872,"B":-0.5398361333915007,"C":-7.683775900035834},{"x":65,"A":-8.398674960749801,"B":1.0868946213819637,"C":-6.443822293311258},{"x":66,"A":-7.832373542341794,"B":3.0619025736689762,"C":-8.2315168144916},{"x":67,"A":-9.537406119522473,"B":5.755819712714873,"C":-6.572367078423526},{"x":68,"A":-8.440293191581187,"B":7.717101422371053,"C":-6.2107098217452235},{"x":69,"A":-10.04827270278188,"B":6.8673916845120155,"C":-7.431449321508473},{"x":70,"A":-9.14386261807484,"B":6.119011926193918,"C":-7.983900793071827},{"x":71,"A":-8.499209126077627,"B":5.5976830740718695,"C":-7.371607945941067},{"x":72,"A":-8.148590050511176,"B":4.832348273027824,"C":-6.428420052737353},{"x":73,"A":-7.937643089440082,"B":4.38825945357552,"C":-7.014938846763075},{"x":74,"A":-7.975898635534824,"B":3.271924862969715,"C":-6.14028543922393},{"x":75,"A":-7.224516023313151,"B":2.749956216113203,"C":-6.869031982133081},{"x":76,"A":-7.72702950296108,"B":4.114181480023673,"C":-6.799120104806836},{"x":77,"A":-6.670141894960027,"B":3.074751787802641,"C":-7.038669954367948},{"x":78,"A":-6.507783095406055,"B":3.9234229409321255,"C":-6.532550955875021},{"x":79,"A":-7.149308579886668,"B":2.6583047620694575,"C":-6.193773432015793},{"x":80,"A":-9.00656092155446,"B":3.239036986743053,"C":-7.086128411510101},{"x":81,"A":-9.017340561037283,"B":2.680025048807894,"C":-9.0220552043173},{"x":82,"A":-9.841749945852701,"B":4.555123298775047,"C":-9.058874467531972},{"x":83,"A":-10.808105600209405,"B":5.030076674707308,"C":-9.654713139577098},{"x":84,"A":-9.026248517446573,"B":3.6790150386623575,"C":-10.662128190329907},{"x":85,"A":-10.952761032886105,"B":3.6892663083304424,"C":-11.394492061029604},{"x":86,"A":-12.627074582982578,"B":3.5440860396737905,"C":-10.322939494388276},{"x":87,"A":-14.297635843096092,"B":4.070636114618202,"C":-11.26369227965871},{"x":88,"A":-14.811888747828572,"B":3.4194632972674994,"C":-11.395771299922888},{"x":89,"A":-13.212249886658025,"B":4.642924405473892,"C":-11.103914606737593},{"x":90,"A":-13.367272842811687,"B":4.342406076955047,"C":-11.521236507677843},{"x":91,"A":-13.49649397089184,"B":4.086464735233996,"C":-13.065175262718633},{"x":92,"A":-12.958185168677302,"B":3.9053152028242777,"C":-12.806195691273583},{"x":93,"A":-13.318845903512385,"B":4.115781423107584,"C":-13.092360597588387},{"x":94,"A":-11.692713886586217,"B":2.9675456817810995,"C":-13.54807320445647},{"x":95,"A":-11.472894100795411,"B":5.1563405442318295,"C":-13.363111835012338},{"x":96,"A":-10.583231726929075,"B":6.089860195609467,"C":-13.927691885212845},{"x":97,"A":-8.94691760404758,"B":5.866447783541348,"C":-14.589247878655554},{"x":98,"A":-8.470619201672227,"B":6.04979597774159,"C":-14.655769641978239},{"x":99,"A":-7.679027024686742,"B":5.9364080253147815,"C":-14.61382881514413},{"x":100,"A":-6.14255329753031,"B":7.628933177810998,"C":-14.191888552718185}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 11 July 2023 07:20">Tuesday 11 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
