<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlaefd579188c64c2fad8cc88616e77065' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlaefd579188c64c2fad8cc88616e77065',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.6528903014994067,"B":0.4762283225546709,"C":0.48268793265109783},{"x":2,"A":0.8211910776548553,"B":-1.4514692005848393,"C":-1.6083570483105458},{"x":3,"A":0.08140088686343772,"B":-2.6073925194386423,"C":-0.9600088952868109},{"x":4,"A":-1.3792564191945675,"B":-2.9081416480273115,"C":-1.5688041820375547},{"x":5,"A":-0.5874038416734997,"B":-2.102667617453352,"C":0.2139898981772262},{"x":6,"A":-0.4614048220360625,"B":-1.1166126798655907,"C":-0.9721877369313996},{"x":7,"A":-0.5505302894895754,"B":1.187426883386243,"C":-1.4571865020676753},{"x":8,"A":-0.6463040282724812,"B":1.7737358340042304,"C":-1.430176875793491},{"x":9,"A":-1.0690008353496014,"B":1.3563384164856267,"C":-0.08932510206720828},{"x":10,"A":-0.3609932171383401,"B":1.8667256311150568,"C":0.376990904722773},{"x":11,"A":0.5987421206760817,"B":2.560003249666069,"C":0.8291946006122597},{"x":12,"A":0.40718061690631924,"B":3.3133721741679794,"C":1.156265382243349},{"x":13,"A":0.8831856688105889,"B":3.170651650477728,"C":0.7246816161402054},{"x":14,"A":1.9768087638730354,"B":3.0362688183452873,"C":0.6618282544061516},{"x":15,"A":3.652362798539298,"B":3.0181841041063047,"C":0.17820516146882076},{"x":16,"A":5.016397242605367,"B":2.700574773926154,"C":0.4912513277164774},{"x":17,"A":5.907259256501186,"B":3.6135272158656977,"C":-0.11025771870130735},{"x":18,"A":6.240396328143284,"B":3.9536960518130275,"C":0.16742927317808115},{"x":19,"A":8.045308023115535,"B":1.8030931539344093,"C":-0.17385760248312704},{"x":20,"A":7.281432258501368,"B":3.1900948434925525,"C":-0.5781228475262079},{"x":21,"A":7.273457918050894,"B":4.068978220098453,"C":-0.8967500335549683},{"x":22,"A":4.995130713998715,"B":4.252501206269458,"C":0.881893648541676},{"x":23,"A":3.98917244154649,"B":5.02547834023809,"C":-0.2632421086241596},{"x":24,"A":3.5951106362883083,"B":1.7884644747456093,"C":0.09424509041638274},{"x":25,"A":4.263341821064979,"B":1.6147511684384053,"C":-1.3909283765795557},{"x":26,"A":2.9854848209414175,"B":1.471796532047061,"C":-0.9192024060314974},{"x":27,"A":3.639115863521969,"B":1.4647227681565194,"C":-0.9405604371237393},{"x":28,"A":4.472147062725405,"B":0.9397388899064154,"C":-2.389142996807938},{"x":29,"A":4.145371540253536,"B":-0.24921345278260038,"C":-3.0129642999833655},{"x":30,"A":5.40987477823467,"B":-0.8814861442626358,"C":-2.4488341499248776},{"x":31,"A":6.439031378078344,"B":-0.9794453708493216,"C":-1.826583847078682},{"x":32,"A":6.403471019110177,"B":-0.7767938131110257,"C":-1.1430609727862662},{"x":33,"A":6.06403483607734,"B":-0.23608412460315936,"C":-2.3313618133181437},{"x":34,"A":3.9175624664003177,"B":-2.1586781371746366,"C":-0.03659279063263704},{"x":35,"A":4.246905377480704,"B":-2.3878692912511847,"C":-1.2706107820906127},{"x":36,"A":3.9542627335992773,"B":-1.9689971603300487,"C":-2.2861408043085527},{"x":37,"A":3.759122973788825,"B":-4.207802991506989,"C":-2.0579434918231607},{"x":38,"A":2.6998861597291395,"B":-2.565559735284033,"C":-1.8449535873258964},{"x":39,"A":1.3757828776260954,"B":-2.983196904794145,"C":-1.7909828070015814},{"x":40,"A":0.9646989933879756,"B":-2.7788918622114194,"C":-1.071686495969435},{"x":41,"A":1.346874969177957,"B":-2.729625475896062,"C":-2.5662430228450566},{"x":42,"A":2.2537762612337557,"B":-1.4628279651882956,"C":-1.6033095804367903},{"x":43,"A":1.9398559971505,"B":1.5627705151784481,"C":-1.1155939329228002},{"x":44,"A":2.321554217698159,"B":1.9573720101509975,"C":-0.11057363884375943},{"x":45,"A":3.025761389907486,"B":0.5255439481859847,"C":-1.1691202937417733},{"x":46,"A":2.3531462712244684,"B":-0.9939745185753521,"C":-2.013764438174828},{"x":47,"A":2.972736301771744,"B":-1.0252219582494528,"C":-0.28963797370769945},{"x":48,"A":1.9902000281096508,"B":-1.1950341054932703,"C":-2.6032531125718763},{"x":49,"A":3.3105471829382163,"B":-1.3998139715179425,"C":-3.311748286876939},{"x":50,"A":5.203750024359838,"B":-1.0778576978763996,"C":-2.5905364597691065},{"x":51,"A":5.059018177934367,"B":-0.7570034142965878,"C":-3.105713709567002},{"x":52,"A":4.12218976883591,"B":-1.0708897682857825,"C":-3.8250770179518456},{"x":53,"A":5.323491363483574,"B":-0.38422035894091894,"C":-4.303036021452933},{"x":54,"A":6.008970620655737,"B":-0.41589271282162915,"C":-4.195500708925446},{"x":55,"A":4.703295015049995,"B":1.711263775252593,"C":-3.602729917997425},{"x":56,"A":5.4891654601076745,"B":2.2887146955989413,"C":-4.605851908088932},{"x":57,"A":6.917598712172351,"B":1.891976011170756,"C":-3.340573786393607},{"x":58,"A":7.867439870569115,"B":1.151361541264847,"C":-3.120316852452995},{"x":59,"A":8.673510536969848,"B":-0.1767856464783873,"C":-5.218102215938046},{"x":60,"A":8.288480712239402,"B":-0.2444660579485795,"C":-5.683998831055354},{"x":61,"A":7.540394772252701,"B":0.9110451453395256,"C":-6.109282913618432},{"x":62,"A":8.101314767775074,"B":2.807105908166462,"C":-6.375767266299739},{"x":63,"A":8.492868433372394,"B":2.9474537404118513,"C":-6.1786568902199015},{"x":64,"A":7.753266500214963,"B":2.1290818193736136,"C":-5.32735408073837},{"x":65,"A":9.181736686865966,"B":1.9883129027294408,"C":-5.915881928991251},{"x":66,"A":9.062290697893857,"B":1.2232218216887807,"C":-6.135358277979704},{"x":67,"A":8.665380425476087,"B":-0.7565981630908822,"C":-6.093919589883232},{"x":68,"A":9.54425074120104,"B":-0.550861101124362,"C":-6.180943615702613},{"x":69,"A":9.873190653295929,"B":-0.5508356204939222,"C":-5.760127875247902},{"x":70,"A":9.117366636252932,"B":-1.6348725843346146,"C":-6.092312658081605},{"x":71,"A":9.226687380325039,"B":-1.839050598773075,"C":-7.223270913466283},{"x":72,"A":9.396947697278362,"B":-1.231327412928497,"C":-6.159249323936598},{"x":73,"A":8.18787713131896,"B":-0.8292291929772189,"C":-5.303779647650147},{"x":74,"A":7.756743134168854,"B":0.2900106633468434,"C":-6.673520808364352},{"x":75,"A":6.529865113709642,"B":-0.4429522635803796,"C":-6.80352298746906},{"x":76,"A":6.902387035636109,"B":-0.6373662783940774,"C":-7.240080300883671},{"x":77,"A":5.3363915906309245,"B":-0.6913121724810796,"C":-5.039066002398018},{"x":78,"A":6.140050152397849,"B":0.6851913110289247,"C":-5.237113352830791},{"x":79,"A":4.574447151040839,"B":1.6086592334603724,"C":-5.251336143103226},{"x":80,"A":5.171686985348676,"B":1.6598922520678736,"C":-6.798645184323314},{"x":81,"A":5.027512948227254,"B":2.811913474521642,"C":-6.668848641893935},{"x":82,"A":3.936548972875932,"B":2.639755253137171,"C":-6.253672331765006},{"x":83,"A":4.396553660702289,"B":2.8428355853698264,"C":-7.692701127077951},{"x":84,"A":5.885281566746563,"B":3.489922963388091,"C":-7.142681761476056},{"x":85,"A":6.8470980958188115,"B":3.322775788599337,"C":-7.29223249431908},{"x":86,"A":8.662262230125252,"B":2.4761506861382543,"C":-7.109409282228162},{"x":87,"A":8.491537084000242,"B":2.9699169071509735,"C":-6.99225702871003},{"x":88,"A":7.620219756050321,"B":3.867623231530713,"C":-5.413756875279141},{"x":89,"A":9.077252783712282,"B":4.048804599448744,"C":-5.151104726815812},{"x":90,"A":9.003091685377301,"B":4.752295225069416,"C":-5.229382549202298},{"x":91,"A":8.032560853874946,"B":5.242272983613554,"C":-5.418168572355253},{"x":92,"A":9.20477346034453,"B":4.211775968143793,"C":-4.776543917672287},{"x":93,"A":9.176464516555685,"B":4.285957843030176,"C":-4.72924968443436},{"x":94,"A":9.113873578662679,"B":4.938806740694895,"C":-5.6111779892269125},{"x":95,"A":7.651408500419166,"B":4.522111863662027,"C":-5.830400996714056},{"x":96,"A":7.336191839835838,"B":5.067612151971734,"C":-4.733558113743273},{"x":97,"A":6.32624722427741,"B":5.576100311319135,"C":-4.415442581827337},{"x":98,"A":6.44398261329726,"B":4.0069068424333905,"C":-5.356845262247365},{"x":99,"A":5.546468543805275,"B":3.8436920595165143,"C":-4.810021695635475},{"x":100,"A":5.333401488644503,"B":4.61500962321867,"C":-6.0332759059168115}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 4 July 2023 18:44">Tuesday 4 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
