<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlcf4ce5ebe47b4e0ebb14013f18ed0c6f' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlcf4ce5ebe47b4e0ebb14013f18ed0c6f',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":0.49463987508471186,"B":-0.10163468135549701,"C":0.1706590634220514},{"x":2,"A":-0.15902933255886376,"B":-0.3250692955867456,"C":1.3964772460528057},{"x":3,"A":-1.3138075168867196,"B":-1.9146887381296482,"C":2.4958603651541527},{"x":4,"A":-1.159038743853038,"B":-1.582446860620644,"C":1.6116898075682151},{"x":5,"A":-1.5157090606812786,"B":0.26167166387823226,"C":1.9046490055565264},{"x":6,"A":-0.8359531771456943,"B":0.2198904368439873,"C":1.3679448762377189},{"x":7,"A":-1.1755696316010826,"B":1.8838817356192585,"C":1.9491268539450557},{"x":8,"A":-1.5995666878040458,"B":3.328357994435051,"C":0.19107321539752153},{"x":9,"A":-0.40477894823872984,"B":3.315109745313299,"C":1.3396043646090479},{"x":10,"A":-0.5720150146400715,"B":4.51742014703756,"C":0.28737564750883415},{"x":11,"A":-1.1445017882493478,"B":5.51962866214211,"C":-0.42274285016419877},{"x":12,"A":-1.3063887074670486,"B":4.264620795675419,"C":1.3163097266950778},{"x":13,"A":-0.43449888960715355,"B":5.838980161810722,"C":1.2140686418108149},{"x":14,"A":-0.04891959054112327,"B":6.132403537791282,"C":2.607686975955979},{"x":15,"A":-0.22643664788020124,"B":6.63562231653858,"C":3.166026238461151},{"x":16,"A":-1.215857862025313,"B":6.147814067939477,"C":3.415171423369468},{"x":17,"A":-0.012156858743701537,"B":6.149524791708238,"C":2.554968795703761},{"x":18,"A":-0.1295915665563815,"B":6.834085905934029,"C":1.0432168181571981},{"x":19,"A":-0.3743960875040968,"B":8.633177967395069,"C":-0.379752728583724},{"x":20,"A":0.8165600184276798,"B":7.601939412272808,"C":-0.35214824330172945},{"x":21,"A":0.4767581282346724,"B":7.608318548741347,"C":-2.028550970404153},{"x":22,"A":1.245681752384687,"B":6.767365878430741,"C":-0.1619804161388988},{"x":23,"A":0.5829616156071452,"B":6.8627369688972655,"C":-0.2711916563704861},{"x":24,"A":0.18254145451399728,"B":7.188590713537553,"C":-0.14350484014035192},{"x":25,"A":-0.06778148082852398,"B":8.309644476843918,"C":-0.46023057862321115},{"x":26,"A":-0.5941502113732298,"B":7.6226428380838485,"C":0.15791467285403193},{"x":27,"A":-0.5023664596094871,"B":7.655290470683993,"C":0.8118940598766733},{"x":28,"A":-0.3308819120748512,"B":6.809520587391495,"C":2.3260172400836234},{"x":29,"A":-1.6159892952348904,"B":6.1053316824538015,"C":1.4944230205266504},{"x":30,"A":-1.8416569759364159,"B":6.369700060890949,"C":0.4373413818086783},{"x":31,"A":-0.27388787564746586,"B":5.030485768966216,"C":0.26605517482524504},{"x":32,"A":-0.2972901988698996,"B":4.42123653447357,"C":1.3969863436798646},{"x":33,"A":2.7034464235130695,"B":5.8876811321785585,"C":1.5889620408808982},{"x":34,"A":2.691242128161748,"B":6.981300927605192,"C":0.8921021453143665},{"x":35,"A":3.5315230342738424,"B":8.203149885403628,"C":2.247799897585537},{"x":36,"A":1.9003079868373505,"B":7.491197710082467,"C":5.2756802787231445},{"x":37,"A":2.4241010728087558,"B":8.79451944097472,"C":4.709285307097312},{"x":38,"A":1.1694706658082075,"B":6.6514569209673535,"C":4.726331722020934},{"x":39,"A":1.4587596590399092,"B":5.931176730821594,"C":4.9554393682967905},{"x":40,"A":2.380752283896162,"B":6.546546739714219,"C":4.024659128482068},{"x":41,"A":2.370318103916097,"B":4.589292177723801,"C":3.475050751417907},{"x":42,"A":1.2960928183572613,"B":5.517975275003183,"C":2.981371642348619},{"x":43,"A":3.1028946659447723,"B":5.297843852225772,"C":3.8375412392920483},{"x":44,"A":2.4803134682806363,"B":6.9665390685575,"C":5.341642438171962},{"x":45,"A":1.279276038402572,"B":8.137652252793645,"C":3.968549753066304},{"x":46,"A":1.5157845637658807,"B":6.791530735996147,"C":3.7226331710836202},{"x":47,"A":0.7671626187804005,"B":7.4490882461447745,"C":3.8397201861226704},{"x":48,"A":1.6605363079766613,"B":7.187005027529996,"C":3.622038211839764},{"x":49,"A":2.7811025808858076,"B":6.951971619126663,"C":3.4891413895123318},{"x":50,"A":3.6958987526559257,"B":7.318891063336868,"C":3.1364589411325703},{"x":51,"A":4.138198537337216,"B":7.386884995727441,"C":2.614291900989118},{"x":52,"A":4.0475209224801105,"B":7.080110830335313,"C":1.999111119434703},{"x":53,"A":2.2860173249578155,"B":7.920543437539278,"C":0.6256271027436694},{"x":54,"A":1.648896511698292,"B":9.17053948518272,"C":0.2461591137028576},{"x":55,"A":0.5663861452156205,"B":8.366038169264009,"C":0.4866605347651092},{"x":56,"A":1.8462328531011167,"B":9.599885266995745,"C":-0.16747216352226113},{"x":57,"A":3.5370594642923265,"B":9.113595027034863,"C":0.9351519179716021},{"x":58,"A":2.9046944973441278,"B":7.7759428325148505,"C":1.8679753524096592},{"x":59,"A":0.418222307895215,"B":7.346225954085421,"C":2.6024697273538764},{"x":60,"A":0.4178792203408066,"B":6.647415316343584,"C":1.9592319582597746},{"x":61,"A":0.6586973997762138,"B":6.3266876830904115,"C":3.0895335888815953},{"x":62,"A":1.1938348981067615,"B":6.879726953560095,"C":3.0597463401520515},{"x":63,"A":1.4205225141238709,"B":7.039884419558095,"C":3.1600405104687},{"x":64,"A":0.20850545460055958,"B":6.558915811020809,"C":3.6133311080698864},{"x":65,"A":0.6386553593394917,"B":5.923649591097984,"C":2.708291044802022},{"x":66,"A":1.891455202415516,"B":5.954046436669407,"C":4.113799453611151},{"x":67,"A":1.6990888549456262,"B":4.64242675104118,"C":3.3662088049640575},{"x":68,"A":2.3477940554014505,"B":4.883816962949452,"C":2.4915066680036473},{"x":69,"A":1.6915371112208333,"B":5.343895977578328,"C":2.442175512490492},{"x":70,"A":2.227071872463674,"B":6.764186056396641,"C":3.9491133698013225},{"x":71,"A":3.4585252590149667,"B":7.349961776167963,"C":3.1772225448106153},{"x":72,"A":3.6400228631498317,"B":8.366753336460313,"C":2.9975037273223255},{"x":73,"A":3.7905609010847954,"B":7.943124419868866,"C":0.6997058786832412},{"x":74,"A":3.250177745201616,"B":7.033362086719357,"C":0.915773364339613},{"x":75,"A":2.6460407508783312,"B":7.93362612957411,"C":0.8384110520113478},{"x":76,"A":1.8087545034074652,"B":8.049741697053431,"C":0.17538123450993437},{"x":77,"A":0.9594171533158856,"B":8.148425342129016,"C":0.6199814386365115},{"x":78,"A":-0.20610634790935467,"B":10.545060139778158,"C":0.266260545047762},{"x":79,"A":-0.09273437985218091,"B":11.995452639367256,"C":-0.6177134857854385},{"x":80,"A":0.018093746695859836,"B":11.637016576489668,"C":-2.535223989056884},{"x":81,"A":-0.3427855261548993,"B":12.667689485730527,"C":-3.9211065482893686},{"x":82,"A":1.0175148447764362,"B":13.343785436150585,"C":-6.4262966655532265},{"x":83,"A":1.9770300167964157,"B":13.8920312770164,"C":-5.211868552853083},{"x":84,"A":2.485837481295328,"B":12.756815320648544,"C":-6.011828973438073},{"x":85,"A":0.5196287469567533,"B":13.652297250675453,"C":-6.43691247853366},{"x":86,"A":1.0678872325004454,"B":14.073938140489552,"C":-7.538222626946593},{"x":87,"A":2.7183505716426923,"B":13.550965102594123,"C":-7.524070181238854},{"x":88,"A":2.3428054796432463,"B":12.716241855638913,"C":-8.235254225795671},{"x":89,"A":1.2327696356570819,"B":12.967709375764697,"C":-8.261427006057884},{"x":90,"A":-0.12888510204769243,"B":13.114678714766157,"C":-8.211193601087412},{"x":91,"A":-1.2312336673358526,"B":12.163866183345212,"C":-8.345252565135219},{"x":92,"A":-2.8225807510826053,"B":11.976730805234844,"C":-7.34821214269624},{"x":93,"A":-2.5800833898042894,"B":12.507308215958846,"C":-5.687055173539234},{"x":94,"A":-2.6524289772109313,"B":10.764707064659747,"C":-5.68961243050932},{"x":95,"A":-2.481941076423767,"B":10.054754233603738,"C":-5.282406278518721},{"x":96,"A":-3.799938779948188,"B":10.185635569914169,"C":-4.950601521388704},{"x":97,"A":-4.725050000087253,"B":11.226021993396275,"C":-6.165949587161756},{"x":98,"A":-5.633688263392807,"B":10.601943811889932,"C":-5.323206052608035},{"x":99,"A":-7.203172044551765,"B":11.349105538012454,"C":-4.3240170232351165},{"x":100,"A":-8.734784621057662,"B":11.25705708604099,"C":-3.154144267650513}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 29 June 2023 17:12">Thursday 29 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
