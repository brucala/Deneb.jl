<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../graphs/">Graphs</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-186891de-26a7-4b53-871c-cd94aafa85a1.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-186891de-26a7-4b53-871c-cd94aafa85a1.vega-embed details,
  #vis-186891de-26a7-4b53-871c-cd94aafa85a1.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-186891de-26a7-4b53-871c-cd94aafa85a1"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-186891de-26a7-4b53-871c-cd94aafa85a1") {
      outputDiv = document.getElementById("vis-186891de-26a7-4b53-871c-cd94aafa85a1");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.7735074568763696,"B":0.19498740301240158,"C":1.2458502740023512},{"x":2,"A":-2.014534774730989,"B":-0.5351194465477471,"C":2.08311559689747},{"x":3,"A":-2.46574556554768,"B":0.4511085661051948,"C":2.2456185574132306},{"x":4,"A":-2.204788808944902,"B":0.1274776819385075,"C":2.6514232888511735},{"x":5,"A":-3.2452550195173173,"B":0.017007051320785865,"C":4.200250391786515},{"x":6,"A":-1.4134398946250062,"B":-1.0481846777440809,"C":3.6095010677704655},{"x":7,"A":-1.1020431191871425,"B":-2.1676436286505334,"C":2.823510398412518},{"x":8,"A":-1.2432923993996905,"B":-1.170702317853737,"C":2.215354230868887},{"x":9,"A":-1.4595495347538416,"B":-1.3772006731805884,"C":2.0415900927350554},{"x":10,"A":-2.2742017574837434,"B":-1.9337620918212348,"C":1.0712638497391838},{"x":11,"A":-2.294930464576465,"B":-0.7881601090142557,"C":1.2767228588894046},{"x":12,"A":-2.116914522399017,"B":0.5756119620898638,"C":0.7481180343563263},{"x":13,"A":-2.168170432353259,"B":0.28938796606555733,"C":-0.6231662530503219},{"x":14,"A":-2.0660585272797114,"B":-0.23670579224016014,"C":-0.16698857057361116},{"x":15,"A":-1.5620788973139952,"B":-0.4087750774190474,"C":-0.48866157215240946},{"x":16,"A":-0.4837777469520891,"B":-0.5464701498499466,"C":-1.043512721757138},{"x":17,"A":-0.330943639233424,"B":0.25449091870024443,"C":-0.14845000237208095},{"x":18,"A":-1.3062539689091894,"B":0.1976799353804361,"C":0.5256515263894771},{"x":19,"A":-0.10877006940281775,"B":0.8914501100534484,"C":-1.4081959428244015},{"x":20,"A":0.48481243515842753,"B":0.16445267251762907,"C":-1.79957873689901},{"x":21,"A":0.5323243730973921,"B":-1.1197070872715633,"C":-3.2334356250568286},{"x":22,"A":1.7958161105955806,"B":0.5006808843296308,"C":-1.565248346478967},{"x":23,"A":2.23841064842382,"B":2.0478945611300325,"C":-2.277197565708158},{"x":24,"A":4.052594279948835,"B":2.7369021247997716,"C":-2.98868814857643},{"x":25,"A":4.683928949518123,"B":2.33989681351942,"C":-2.540507928406919},{"x":26,"A":6.408667906536458,"B":1.259723799485502,"C":-1.8754004841748613},{"x":27,"A":6.804858430657582,"B":2.1621166087383927,"C":-1.5187267956873771},{"x":28,"A":6.209931002838179,"B":1.3502439664880792,"C":-2.2142051985639863},{"x":29,"A":6.193347300663696,"B":2.5421587135829617,"C":-1.2749100645314468},{"x":30,"A":8.901921298091676,"B":3.7829555073770127,"C":-0.6155775418654317},{"x":31,"A":7.922954079557135,"B":3.466203451166941,"C":-2.2215396222387875},{"x":32,"A":7.307244692071162,"B":3.2488570908770096,"C":-0.6811043416664078},{"x":33,"A":7.9383937457251115,"B":2.641382970722901,"C":0.7606574917154145},{"x":34,"A":7.643958663973846,"B":4.16698989734521,"C":-1.6972158781325486},{"x":35,"A":8.24883640364897,"B":4.164511832169773,"C":-0.5558794639026168},{"x":36,"A":7.925695787220757,"B":4.875141848738021,"C":-0.8857941002375596},{"x":37,"A":7.758887634925372,"B":5.215578712471024,"C":-2.250437128154198},{"x":38,"A":7.49665459738873,"B":6.007005578959819,"C":-0.1887624598849993},{"x":39,"A":5.864981471107866,"B":5.53379725289321,"C":0.840166306328562},{"x":40,"A":4.372253163659149,"B":3.8422817675090064,"C":-0.1540619617488812},{"x":41,"A":4.518826380637808,"B":5.378804835030434,"C":-0.09658599972995452},{"x":42,"A":4.927688495949658,"B":5.157158847941764,"C":0.21317729517684114},{"x":43,"A":4.328524300312996,"B":5.046958202306967,"C":0.42567768967353825},{"x":44,"A":4.347840349711568,"B":5.548575444582665,"C":0.44541486491362015},{"x":45,"A":4.640884569363783,"B":7.696840873427451,"C":1.2834905572595607},{"x":46,"A":5.153863869983171,"B":8.284688845989265,"C":0.2515071087872267},{"x":47,"A":6.834868433296421,"B":7.5251211102237,"C":1.137504778852131},{"x":48,"A":4.629015333286958,"B":8.484987282236638,"C":1.1233874806179447},{"x":49,"A":3.4638515547439437,"B":7.21214185259704,"C":1.8476721896518575},{"x":50,"A":5.164482989598808,"B":7.451856903310046,"C":1.6414350545007232},{"x":51,"A":4.862388704520164,"B":8.587985337537983,"C":1.6333789386956377},{"x":52,"A":4.6695731349710545,"B":7.0575244582260135,"C":1.3193022470181945},{"x":53,"A":4.330622775745271,"B":6.794682167881106,"C":3.789813867047666},{"x":54,"A":5.750992391377304,"B":5.289728774679219,"C":4.061658596491501},{"x":55,"A":6.102851340830929,"B":5.240287425667769,"C":4.786240617196579},{"x":56,"A":6.689877048868986,"B":5.5908854652311675,"C":5.547197545501781},{"x":57,"A":5.679664587306879,"B":3.4539816103166228,"C":2.198223196584446},{"x":58,"A":5.686112167469844,"B":4.2888266390834895,"C":3.0754563300423814},{"x":59,"A":5.43956921860503,"B":4.783428164273932,"C":1.6533255628752679},{"x":60,"A":5.657123610554123,"B":4.196927164291974,"C":-0.452413190353413},{"x":61,"A":5.686513007406424,"B":4.413364313937028,"C":2.952305940455147},{"x":62,"A":5.914966243412273,"B":2.1176767826151783,"C":2.8911754931435523},{"x":63,"A":6.386803863861113,"B":1.81473651236138,"C":4.665387863565583},{"x":64,"A":5.670935087226576,"B":1.5183928047185606,"C":4.605579567503133},{"x":65,"A":6.483946398563345,"B":2.6333130189133174,"C":5.755572954404783},{"x":66,"A":7.272975834308781,"B":2.4688614684599695,"C":3.6071363692462377},{"x":67,"A":7.030106377363309,"B":1.1719093590311749,"C":3.1740961640658627},{"x":68,"A":8.149787248388854,"B":1.1041459189938285,"C":2.944113016461829},{"x":69,"A":6.013744835879368,"B":0.5471310480650403,"C":3.603920831156839},{"x":70,"A":5.9131021298114845,"B":1.0532887310320358,"C":3.758074387761596},{"x":71,"A":6.461920269985111,"B":1.3301283186664294,"C":3.9167627675247134},{"x":72,"A":7.103776415269522,"B":1.8061859554414954,"C":3.1666165235680372},{"x":73,"A":7.6809053605154,"B":2.1258235445063214,"C":1.4645541799737944},{"x":74,"A":8.312573339730754,"B":2.651352135840227,"C":0.7561034018219135},{"x":75,"A":8.213268180103295,"B":1.1672829961320748,"C":0.9309474312130762},{"x":76,"A":8.748782171424555,"B":1.5442859135914913,"C":-0.9865699375781884},{"x":77,"A":8.091736302520296,"B":1.8716227804176304,"C":-1.5094632499667788},{"x":78,"A":7.763669444016118,"B":1.027472096603251,"C":-1.076626887096322},{"x":79,"A":7.954821186781015,"B":0.4858313816100873,"C":-0.7565226391648532},{"x":80,"A":10.40019339354227,"B":-0.5311867668599469,"C":-1.6533681096034425},{"x":81,"A":9.700748172455425,"B":0.23295190973313795,"C":-0.5692992878926157},{"x":82,"A":8.34606888496883,"B":0.22368773459462732,"C":0.3936054451179104},{"x":83,"A":8.694466376539244,"B":-0.6205059472307336,"C":0.0462652103781076},{"x":84,"A":8.599008787185829,"B":1.0393937275832417,"C":0.09885460892662734},{"x":85,"A":7.967567789562384,"B":1.1110740561250827,"C":0.7730318875202569},{"x":86,"A":5.929889700662693,"B":1.0344068227775738,"C":0.8715356591985215},{"x":87,"A":6.709098422749644,"B":0.36628327465835553,"C":1.3763328008722224},{"x":88,"A":6.809312483204023,"B":0.6909631934030891,"C":0.8092526962520835},{"x":89,"A":5.331415178797355,"B":1.9370649945845106,"C":1.2800146943961956},{"x":90,"A":4.990777032076963,"B":2.3726046351324346,"C":2.1620751896166954},{"x":91,"A":4.937165444547798,"B":4.305710295885827,"C":2.9201481561471514},{"x":92,"A":6.787897406956372,"B":5.736096156994657,"C":4.131004875714707},{"x":93,"A":7.001390724892058,"B":4.962193598291658,"C":3.338331174388041},{"x":94,"A":8.239294960900436,"B":5.027969101218237,"C":2.813699176051772},{"x":95,"A":8.880568948279052,"B":4.652718961210312,"C":3.5563426807737786},{"x":96,"A":8.198908527868149,"B":3.8195088400165935,"C":4.147470871064165},{"x":97,"A":8.283992164221281,"B":2.9231345613385242,"C":5.151711684401612},{"x":98,"A":9.549382574678017,"B":5.804984604900762,"C":5.110192533030104},{"x":99,"A":9.897555884240218,"B":5.911686053357133,"C":5.259296327359017},{"x":100,"A":11.874449332048219,"B":6.25335963898622,"C":5.098471453503221}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 17 January 2025 17:34">Friday 17 January 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
