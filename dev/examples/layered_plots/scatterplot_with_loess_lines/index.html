<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl03ac221f90694d1d9cc723e2a4837915' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl03ac221f90694d1d9cc723e2a4837915',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.7469623111475073,"B":-0.3136430962596323,"C":0.5270307322615925},{"x":2,"A":-1.1472125778490445,"B":-1.365538311884537,"C":2.1337789258838833},{"x":3,"A":-0.7837624536992306,"B":-1.9325071432937466,"C":4.704779192698669},{"x":4,"A":-0.9485953705748223,"B":-1.491117490233461,"C":6.134569794421442},{"x":5,"A":-0.14401155242765085,"B":-0.9207204604359227,"C":4.022071865264297},{"x":6,"A":1.0286187801085647,"B":-0.0116054602290247,"C":1.8114801339374949},{"x":7,"A":0.48777761725433766,"B":1.899487059788498,"C":1.9933104462935805},{"x":8,"A":0.8812586229915046,"B":0.7945693582323756,"C":2.1353654686627017},{"x":9,"A":-1.2062502801198502,"B":0.05940612096471781,"C":3.101564575500773},{"x":10,"A":-1.1658508988781902,"B":0.8900639886051436,"C":1.8382319904076767},{"x":11,"A":-2.400476957355253,"B":1.546066844362019,"C":1.650958613671178},{"x":12,"A":-0.9950562878607249,"B":1.7021129014237004,"C":-0.8019317079069787},{"x":13,"A":-0.3035208320599234,"B":1.8741144710537994,"C":0.1747296574485172},{"x":14,"A":0.48193127062922414,"B":0.7647970149215135,"C":-0.2075703139373838},{"x":15,"A":0.7536549636224229,"B":1.8091220996862203,"C":-0.7642772640901009},{"x":16,"A":0.7485872921826956,"B":-0.19244019085016512,"C":-1.6509638057975664},{"x":17,"A":-0.06305577630846193,"B":-0.8737354698103967,"C":-1.9561080513522238},{"x":18,"A":-0.5977378679084868,"B":-2.028227427882309,"C":-0.8070255665992508},{"x":19,"A":-0.18891070534155896,"B":-2.993680562943914,"C":-0.7886752483473133},{"x":20,"A":-1.3754641912481165,"B":-4.389882418781541,"C":-1.7322662825441388},{"x":21,"A":-1.0743563806727439,"B":-4.727582368296324,"C":-0.8447482817895234},{"x":22,"A":-1.5660979864849232,"B":-2.6012876517739043,"C":-2.5556829944802444},{"x":23,"A":-2.193484174713472,"B":-2.6951384993349836,"C":-3.369245413719023},{"x":24,"A":-2.973456861821605,"B":-3.5098055877069907,"C":-4.914324397064576},{"x":25,"A":-3.620536568101477,"B":-2.1892362136325487,"C":-4.091581788425425},{"x":26,"A":-3.5307458355102086,"B":-1.4452399427126743,"C":-6.647965605982562},{"x":27,"A":-4.4406671759806935,"B":-1.6272022596360767,"C":-6.084310564024405},{"x":28,"A":-4.407529925487604,"B":-2.5521791144849866,"C":-7.848388672858499},{"x":29,"A":-5.244814736706508,"B":-1.5883443195992892,"C":-6.808824374681893},{"x":30,"A":-4.55463595276358,"B":-1.6108786822004764,"C":-7.200288624342542},{"x":31,"A":-5.277950022468471,"B":-2.238860805831791,"C":-6.879107984939858},{"x":32,"A":-5.910776413171511,"B":-1.420634944183963,"C":-8.429419139954256},{"x":33,"A":-6.460447771690318,"B":0.559521457138227,"C":-8.5034729101609},{"x":34,"A":-5.794862737380995,"B":-1.9518106510615665,"C":-8.011809223103336},{"x":35,"A":-5.79458799812662,"B":-3.4869742987686134,"C":-7.033574819988488},{"x":36,"A":-4.468183261292407,"B":-3.897476769806546,"C":-5.058359316697968},{"x":37,"A":-4.389527794554678,"B":-3.59005727273204,"C":-5.239793737990475},{"x":38,"A":-6.270940708700902,"B":-4.492967273755275,"C":-5.719469501109866},{"x":39,"A":-4.965384672673948,"B":-6.0615399600731585,"C":-5.7318878210556585},{"x":40,"A":-5.305038009215935,"B":-6.8957736494342114,"C":-5.283523715969483},{"x":41,"A":-5.144602588555573,"B":-7.312870019105406,"C":-5.196183888163463},{"x":42,"A":-4.847043339484221,"B":-7.067930551384089,"C":-7.238433704540889},{"x":43,"A":-5.309990918957202,"B":-4.385525859445353,"C":-6.047679028178989},{"x":44,"A":-7.030804111815902,"B":-4.072881438714183,"C":-7.300409718366017},{"x":45,"A":-7.237767956285944,"B":-3.634982462259351,"C":-6.583004051887345},{"x":46,"A":-8.390356739842211,"B":-2.4197928602124494,"C":-6.889318045400078},{"x":47,"A":-7.9417420709784405,"B":-1.967324535986342,"C":-6.5247478748794},{"x":48,"A":-7.499806511549682,"B":-1.8744835820556403,"C":-7.497055577047225},{"x":49,"A":-7.467149515967658,"B":-4.416814279405017,"C":-6.969200909471861},{"x":50,"A":-5.76563441252139,"B":-5.156110519538223,"C":-5.662584400401611},{"x":51,"A":-5.978169884019393,"B":-6.790020798126976,"C":-6.447672280924388},{"x":52,"A":-4.6238887276823615,"B":-7.674077316704572,"C":-4.262458252318705},{"x":53,"A":-3.400409094822266,"B":-8.015585928024556,"C":-3.8112248102816864},{"x":54,"A":-3.368960286173313,"B":-6.494554759812026,"C":-3.8511416126193794},{"x":55,"A":-2.575952380770255,"B":-5.762969935477457,"C":-3.9083510712103893},{"x":56,"A":-3.2393709586072443,"B":-5.098756116910961,"C":-5.7175902000690195},{"x":57,"A":-3.6167990817399454,"B":-6.065983664905281,"C":-4.606427878612099},{"x":58,"A":-3.289774442544576,"B":-5.711536378709333,"C":-3.428201482829382},{"x":59,"A":-3.2391876781442694,"B":-5.47320989676133,"C":-3.3914360658444007},{"x":60,"A":-4.2335836984683874,"B":-4.834607828624436,"C":-2.1213151803781427},{"x":61,"A":-3.402022636200338,"B":-4.486618463544176,"C":-2.1513600220199534},{"x":62,"A":-3.6839839981552105,"B":-5.609936589111274,"C":-2.0230160596310043},{"x":63,"A":-4.914691980373856,"B":-6.405406870837363,"C":-2.675451681242053},{"x":64,"A":-4.062148771146992,"B":-5.298445189949174,"C":-2.180659034849887},{"x":65,"A":-5.840265111414437,"B":-6.801270250904254,"C":-3.338616610581602},{"x":66,"A":-5.486746166236907,"B":-7.135193895185812,"C":-4.07941094249479},{"x":67,"A":-5.45198825397938,"B":-4.65287826914277,"C":-5.447632751317999},{"x":68,"A":-4.493657953421667,"B":-6.1793055479556065,"C":-7.238555281176987},{"x":69,"A":-2.5432760623651682,"B":-4.664898391451608,"C":-5.808024866408151},{"x":70,"A":-1.948084211114729,"B":-5.2763970068429655,"C":-4.446903948132182},{"x":71,"A":-3.13882708796135,"B":-4.285114992697647,"C":-3.6829807627803515},{"x":72,"A":-2.2309813547680664,"B":-3.767801267887329,"C":-2.6273222869456703},{"x":73,"A":-1.2820929222022186,"B":-3.4102445302042166,"C":-2.7778789496165976},{"x":74,"A":-0.49393703046115356,"B":-5.18121472604516,"C":-4.936961381876874},{"x":75,"A":-1.0978949919133836,"B":-5.138409628462651,"C":-5.202868727386355},{"x":76,"A":-2.6889821656657356,"B":-4.328390536350372,"C":-6.5993472103422794},{"x":77,"A":-2.8949958987962994,"B":-1.9956815869655793,"C":-4.905706788202647},{"x":78,"A":-2.90065305110452,"B":-0.31232359661716685,"C":-5.442516243635623},{"x":79,"A":-2.2771371938449643,"B":-0.7608716250382966,"C":-4.737169779084377},{"x":80,"A":-1.6568254323077904,"B":0.849850014848001,"C":-4.421268156422536},{"x":81,"A":-0.8552223233949645,"B":1.0810913261666901,"C":-3.846561576231532},{"x":82,"A":-3.6133955009124703,"B":0.7197614040903364,"C":-3.5352637435761327},{"x":83,"A":-4.791358537755697,"B":0.8619590867561051,"C":-3.32212450542186},{"x":84,"A":-3.8268163784289846,"B":0.8898343617052731,"C":-3.539378519357542},{"x":85,"A":-4.210918340668685,"B":0.5308853776418321,"C":-2.594570394060779},{"x":86,"A":-5.489484111412633,"B":0.6078271965032671,"C":-0.9100942418424024},{"x":87,"A":-6.4215603166305675,"B":-0.16094010052899171,"C":-0.05001328079298306},{"x":88,"A":-4.891183586940979,"B":0.5751147276370148,"C":-0.4573653961094518},{"x":89,"A":-4.715115074043213,"B":-0.07349590143293944,"C":-0.14715756429646099},{"x":90,"A":-6.235285902829952,"B":0.8206253963558712,"C":0.8236552029539626},{"x":91,"A":-5.515625845301544,"B":2.3130088792551664,"C":1.4816836549149817},{"x":92,"A":-6.338847100409526,"B":3.172661972930927,"C":3.0671678330339325},{"x":93,"A":-6.477940454000539,"B":2.739018459102479,"C":4.20260489522918},{"x":94,"A":-6.1567702052655395,"B":2.029053472525475,"C":6.339646160799515},{"x":95,"A":-5.276843800635393,"B":2.4372706093563408,"C":6.78939030231415},{"x":96,"A":-4.626659234624922,"B":1.6114017967157603,"C":7.87344002992359},{"x":97,"A":-4.531144840041141,"B":2.473059213909889,"C":6.588190918002817},{"x":98,"A":-3.7970481284008595,"B":3.1732225967696652,"C":5.132426159835311},{"x":99,"A":-4.791227124140948,"B":3.6340313999421543,"C":4.860327042357604},{"x":100,"A":-5.795485969571481,"B":2.8048000466930807,"C":4.761015854527866}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 6 July 2023 16:21">Thursday 6 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
