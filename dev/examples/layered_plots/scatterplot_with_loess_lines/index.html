<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlfc549c3dfd9646f7bc30a1db7e9c1dd9' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlfc549c3dfd9646f7bc30a1db7e9c1dd9',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.8327920513951794,"B":0.6675269703556699,"C":-0.9588631216581208},{"x":2,"A":1.4054508015254832,"B":0.9850169859350641,"C":-0.26853174665859236},{"x":3,"A":2.701623846877551,"B":0.4431818836019366,"C":0.8087884064910488},{"x":4,"A":3.9633053024025457,"B":-0.004072919011237852,"C":0.8267765960202352},{"x":5,"A":3.801927117668046,"B":-0.8342815354562136,"C":1.769798979170671},{"x":6,"A":3.201516499057334,"B":-0.2995005698342964,"C":3.4958115396200684},{"x":7,"A":1.514577008932221,"B":-2.072665252529924,"C":2.5550823419396984},{"x":8,"A":1.6540899522960715,"B":-4.087693999278555,"C":2.4543678550073156},{"x":9,"A":2.4940149142060255,"B":-3.7543354151114245,"C":3.731499788741922},{"x":10,"A":2.7498304569793346,"B":-4.11631993666825,"C":4.194095411969269},{"x":11,"A":2.453222608134489,"B":-5.05398263372612,"C":4.446689331563813},{"x":12,"A":2.3995391287310195,"B":-4.555405927258642,"C":5.042563270949561},{"x":13,"A":2.0665848254586487,"B":-3.024571608433069,"C":5.090475389881765},{"x":14,"A":3.620010472558577,"B":-3.551269227128338,"C":5.052961754725268},{"x":15,"A":5.077211094758858,"B":-3.138429393987983,"C":5.37559898546619},{"x":16,"A":5.8766216601717645,"B":-3.3175214300528175,"C":6.308336131562142},{"x":17,"A":5.369847045308194,"B":-1.762428584688242,"C":4.869513967372022},{"x":18,"A":5.742029426177702,"B":-2.518913352341543,"C":4.44172142522246},{"x":19,"A":4.5769538363403175,"B":-2.4676493449992662,"C":4.677201874177947},{"x":20,"A":3.1835615620969433,"B":-2.505655282871075,"C":4.39256140517297},{"x":21,"A":1.9222551108207548,"B":-2.908243539240412,"C":5.202605637448387},{"x":22,"A":3.400513183978286,"B":-3.9003679951336645,"C":5.316889413477899},{"x":23,"A":5.077710450105908,"B":-5.064518986155316,"C":5.896848613173025},{"x":24,"A":4.236740034380375,"B":-5.806265517156574,"C":6.382383833139384},{"x":25,"A":5.294970128984174,"B":-5.565589295099529,"C":7.832203779341702},{"x":26,"A":4.032004680925699,"B":-8.39412175556691,"C":7.452447114423826},{"x":27,"A":4.623176041976768,"B":-8.213090686655473,"C":7.256935446242169},{"x":28,"A":3.1525557988873985,"B":-7.71560172587985,"C":7.920577986214139},{"x":29,"A":3.7385180199546877,"B":-7.149715570475493,"C":4.776595966172029},{"x":30,"A":2.187621663187551,"B":-6.643396511906092,"C":4.0108687895309405},{"x":31,"A":1.2834277291988323,"B":-7.726757765324173,"C":2.1018069243643582},{"x":32,"A":0.9678978629716295,"B":-8.165363853742543,"C":1.2804510726743348},{"x":33,"A":2.229076181002128,"B":-8.685382423212122,"C":1.4432681242364684},{"x":34,"A":1.8971987696670098,"B":-8.846809598916312,"C":0.42938856867770314},{"x":35,"A":1.1835723790583346,"B":-9.259093064605844,"C":1.0769853654714177},{"x":36,"A":1.254255905202194,"B":-11.709201132108038,"C":1.0904990674028152},{"x":37,"A":3.133424382529488,"B":-12.728527204363658,"C":1.905440201077429},{"x":38,"A":3.0407266651973375,"B":-12.714001302591358,"C":2.3538749369549117},{"x":39,"A":3.012608354996975,"B":-12.631896293409005,"C":2.6390392208830757},{"x":40,"A":3.3922881355506265,"B":-11.18062728904705,"C":3.2191606631449865},{"x":41,"A":2.029512635887717,"B":-11.30895162733708,"C":4.080673067745038},{"x":42,"A":1.1745745614069782,"B":-10.222366743901361,"C":3.9785020988924717},{"x":43,"A":1.850748129080887,"B":-10.57244460919376,"C":3.8257836036559647},{"x":44,"A":3.1989424411178966,"B":-11.080917275295562,"C":3.083328542074825},{"x":45,"A":2.1346693221233988,"B":-10.979873912854217,"C":4.618148111491374},{"x":46,"A":2.002935970748622,"B":-11.023731935882022,"C":4.7579599999567685},{"x":47,"A":0.4966657558718599,"B":-10.922787278958305,"C":6.900976131951106},{"x":48,"A":-0.13742579852969072,"B":-11.94892231202598,"C":4.935313832940536},{"x":49,"A":-0.5366626707467637,"B":-11.411498618607286,"C":6.417390289048165},{"x":50,"A":-1.2518573836133622,"B":-10.375897246285822,"C":6.775205311149469},{"x":51,"A":-0.974548653034142,"B":-10.801746731447002,"C":6.5977091600103215},{"x":52,"A":-0.9059813512893429,"B":-10.420399142276464,"C":6.815495862643236},{"x":53,"A":-2.707855884477359,"B":-11.233857240861056,"C":8.86983488514681},{"x":54,"A":-2.946292830388332,"B":-10.758137690556834,"C":9.254443992218905},{"x":55,"A":-3.5282650724590194,"B":-10.004400978380046,"C":9.588564168494576},{"x":56,"A":-3.9075640619827556,"B":-10.015985355452672,"C":9.104353563067763},{"x":57,"A":-2.5143967281370747,"B":-9.909080287742652,"C":8.097297015762278},{"x":58,"A":-2.9073590581628848,"B":-9.380999503480789,"C":7.3584240975141455},{"x":59,"A":-3.798264808055003,"B":-9.676020305037563,"C":7.78748281327743},{"x":60,"A":-3.2980624660378517,"B":-9.933989966083757,"C":6.22575718302051},{"x":61,"A":-3.216685671899177,"B":-9.468619035763702,"C":5.574046629474144},{"x":62,"A":-2.006064178607885,"B":-6.642051225602961,"C":5.03401954815995},{"x":63,"A":-1.7700622427011985,"B":-7.461121448983281,"C":3.456113028217745},{"x":64,"A":-1.7750834561048228,"B":-7.468398545827647,"C":3.0089784800362622},{"x":65,"A":-1.3381561894258756,"B":-8.120490762993366,"C":2.2100086395335827},{"x":66,"A":-1.4928331458459339,"B":-7.272628977051112,"C":1.6660555509346322},{"x":67,"A":-1.6538969298319046,"B":-8.294490618344769,"C":2.892303055355815},{"x":68,"A":-1.1572513162812854,"B":-7.0958285534826615,"C":2.854072486635694},{"x":69,"A":-1.5217420100535621,"B":-4.51286989336655,"C":2.9315360279757603},{"x":70,"A":-2.7946574454631214,"B":-6.800053335691047,"C":4.429613536471159},{"x":71,"A":-3.490902736107924,"B":-5.439180053828086,"C":3.836212924400316},{"x":72,"A":-3.5396797449645785,"B":-5.063609808120707,"C":2.892659950188076},{"x":73,"A":-5.236602419008069,"B":-5.095500007516129,"C":2.535589473065535},{"x":74,"A":-6.152808103706487,"B":-5.548789887495079,"C":3.2391688806586094},{"x":75,"A":-7.264905200911787,"B":-5.738018691521076,"C":2.4705850726652168},{"x":76,"A":-6.748228594962001,"B":-6.4109151351139,"C":2.9810786437152634},{"x":77,"A":-7.438387533203443,"B":-4.901906440426441,"C":4.27700038677791},{"x":78,"A":-7.912763601142811,"B":-5.1712610747932475,"C":4.845123964907308},{"x":79,"A":-9.223553111180044,"B":-4.907069898218485,"C":2.831257872423984},{"x":80,"A":-10.045149938962886,"B":-3.856091926997169,"C":2.040504235469508},{"x":81,"A":-11.074038085735035,"B":-3.705135645302371,"C":2.370536500076569},{"x":82,"A":-9.745649779600802,"B":-5.277416866750453,"C":3.8448465917010957},{"x":83,"A":-10.302532966396724,"B":-5.680863007528694,"C":3.3562991848065105},{"x":84,"A":-11.136879110921415,"B":-6.1324873846592505,"C":1.965391967480218},{"x":85,"A":-10.353354137063222,"B":-5.733479389203414,"C":2.9905223367871057},{"x":86,"A":-9.580007123289422,"B":-5.933466864751872,"C":1.7039943082339128},{"x":87,"A":-8.252671281177681,"B":-6.318262584034245,"C":2.235373593638459},{"x":88,"A":-9.558944376303856,"B":-6.526230852471531,"C":1.837542050626387},{"x":89,"A":-11.653764884546607,"B":-7.095205750143509,"C":0.8533027175522984},{"x":90,"A":-12.397907016832177,"B":-6.5580832115487775,"C":0.2026964557220955},{"x":91,"A":-13.71714396701087,"B":-6.967124643181632,"C":0.27461562413600327},{"x":92,"A":-14.086868186025121,"B":-5.585177969691387,"C":0.7239135710083794},{"x":93,"A":-15.55388438246434,"B":-4.723488105126789,"C":0.26732252376276644},{"x":94,"A":-15.508982467104692,"B":-3.6597980984457488,"C":1.4417764233052637},{"x":95,"A":-16.129581980452457,"B":-3.6589727283096343,"C":1.5590874185441934},{"x":96,"A":-16.228750400453336,"B":-4.2704352715361695,"C":-0.41877854697856576},{"x":97,"A":-18.116788170055067,"B":-5.507374787467598,"C":-1.2519467971799574},{"x":98,"A":-16.342496148906044,"B":-5.637223193806792,"C":-2.6139903281848005},{"x":99,"A":-17.159266490125603,"B":-5.754900806416895,"C":-3.289882056876915},{"x":100,"A":-17.862598838693707,"B":-5.148540590301916,"C":-2.721731015513492}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 10 July 2023 19:44">Monday 10 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
