<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../graphs/">Graphs</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-3ad300a7-2e7d-4b15-b02b-5f74b6ef39f7.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-3ad300a7-2e7d-4b15-b02b-5f74b6ef39f7.vega-embed details,
  #vis-3ad300a7-2e7d-4b15-b02b-5f74b6ef39f7.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-3ad300a7-2e7d-4b15-b02b-5f74b6ef39f7"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-3ad300a7-2e7d-4b15-b02b-5f74b6ef39f7") {
      outputDiv = document.getElementById("vis-3ad300a7-2e7d-4b15-b02b-5f74b6ef39f7");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":1.1903000412876228,"B":0.2638637613650169,"C":-0.8056564544115309},{"x":2,"A":0.3570821884405555,"B":0.8683885988321274,"C":-0.7960220800836034},{"x":3,"A":-0.2559836797905324,"B":-0.8385065761061609,"C":-2.3069030501307224},{"x":4,"A":-0.21233233207635926,"B":-1.0885514596590022,"C":-2.7200992799235055},{"x":5,"A":1.1884561643732205,"B":-1.2248408509211681,"C":-3.060107142023471},{"x":6,"A":0.2799926055426444,"B":-2.299584493109701,"C":-5.067461357129562},{"x":7,"A":-1.227644631697871,"B":-2.931655829273395,"C":-4.623785415752615},{"x":8,"A":-1.238074820538424,"B":-1.6017800544127492,"C":-3.514570925952322},{"x":9,"A":0.18274211426251563,"B":-1.4173310059020436,"C":-3.638096962408578},{"x":10,"A":0.5379918258713989,"B":-2.07615975158118,"C":-4.233261170642248},{"x":11,"A":1.9869140647002683,"B":-1.4945412246654506,"C":-3.706718719222417},{"x":12,"A":1.7212906220685396,"B":-1.8555800746874072,"C":-3.844879781882087},{"x":13,"A":1.6816666341755686,"B":-1.7133280180542538,"C":-2.8392784707759993},{"x":14,"A":0.984119676104531,"B":-2.3475997789092236,"C":-2.3044434930204702},{"x":15,"A":1.466854525662149,"B":-0.6429044953853048,"C":-0.6960960135269155},{"x":16,"A":0.9222014942592951,"B":-1.2265419407138451,"C":-1.4913608515774759},{"x":17,"A":0.4350734126773932,"B":-0.5513796326755765,"C":-1.2803862496012068},{"x":18,"A":-0.6597398832589898,"B":1.2303116147856437,"C":-0.6803243373227459},{"x":19,"A":-3.6201814604318576,"B":3.094553436186454,"C":-0.666816514717117},{"x":20,"A":-3.538713397909836,"B":4.171009514149329,"C":-0.9990591182761881},{"x":21,"A":-3.7871074178354425,"B":3.5802480017683487,"C":-2.1919825641550252},{"x":22,"A":-3.3019785181076875,"B":2.9365252049909474,"C":-2.572957707428672},{"x":23,"A":-3.8640474142895878,"B":3.447271862812511,"C":-4.319734439627255},{"x":24,"A":-4.402945513016372,"B":3.6349865669987405,"C":-3.8943554565238676},{"x":25,"A":-3.459216650758248,"B":2.9477399454779616,"C":-5.754138535338533},{"x":26,"A":-2.2845027511059355,"B":0.6355852353029822,"C":-4.983520628722353},{"x":27,"A":-2.2404454836202463,"B":0.31699017302490357,"C":-5.48698688981878},{"x":28,"A":-2.676420001307132,"B":1.1311897814620968,"C":-5.258428802398789},{"x":29,"A":-2.553233568252751,"B":1.7142264872122657,"C":-5.912933985583351},{"x":30,"A":-3.0803524549930543,"B":0.9371622368778835,"C":-4.477433751519221},{"x":31,"A":-3.210926704575641,"B":1.2626505336531904,"C":-4.398578583205133},{"x":32,"A":-2.5184976692479304,"B":1.8645416591602917,"C":-3.8790604412620238},{"x":33,"A":-3.7281215367713116,"B":1.540703747421758,"C":-2.6782665367178735},{"x":34,"A":-3.329463446812569,"B":2.0353997886914557,"C":-1.7564550781959936},{"x":35,"A":-4.956504877984004,"B":1.4175878789472405,"C":-2.1722297278377183},{"x":36,"A":-4.554839915615907,"B":1.0914170522372069,"C":0.029985577250087325},{"x":37,"A":-4.803003414930569,"B":0.9942340913301334,"C":-0.3850530253076518},{"x":38,"A":-6.028842033751987,"B":0.10205925179146236,"C":-1.5238985240577336},{"x":39,"A":-6.388056593677801,"B":-1.011733815681708,"C":-1.6947305801549026},{"x":40,"A":-6.15905006034286,"B":-2.456846643276842,"C":-1.2176370773974503},{"x":41,"A":-7.224252511970642,"B":-1.9110616988612685,"C":-1.794337642135268},{"x":42,"A":-7.043267989321475,"B":-1.1222026869984436,"C":-1.640716906641829},{"x":43,"A":-7.45593719819645,"B":-0.2074116096591071,"C":-0.6469533603967008},{"x":44,"A":-7.171177896024297,"B":-0.008195949726816143,"C":-0.3308414995600529},{"x":45,"A":-7.746068059246586,"B":-0.08967833823472904,"C":0.23152254036370057},{"x":46,"A":-8.647478092542807,"B":0.08017902578504665,"C":2.274810141066251},{"x":47,"A":-9.447767163143501,"B":0.15953681334402955,"C":2.06082472632259},{"x":48,"A":-8.571065033154536,"B":-0.3368371966520436,"C":4.816783799034955},{"x":49,"A":-8.981245181128584,"B":0.44232350342262816,"C":4.736315113371008},{"x":50,"A":-10.136757945424668,"B":-1.2264434652985994,"C":4.670856293610377},{"x":51,"A":-10.808745696289245,"B":-1.8737886536603412,"C":5.505780720162032},{"x":52,"A":-10.7363205746462,"B":-1.2683929102591587,"C":5.967265133949837},{"x":53,"A":-9.85689199542328,"B":-2.768048448483076,"C":6.7522540810382905},{"x":54,"A":-10.447872766770745,"B":-0.8265960337658173,"C":6.3814758204910405},{"x":55,"A":-10.048496306548945,"B":-0.34827148453621304,"C":6.125913627444857},{"x":56,"A":-9.953505011067842,"B":-0.16784980985771886,"C":5.3601293854828596},{"x":57,"A":-8.934383506871047,"B":-0.06638386710734612,"C":4.5222204707652285},{"x":58,"A":-9.150613166318033,"B":0.04106953441197991,"C":4.210500057406821},{"x":59,"A":-8.098585887786665,"B":-0.721391279274666,"C":3.123676753294362},{"x":60,"A":-8.057392635364524,"B":-0.6049804601878481,"C":2.1332132629332334},{"x":61,"A":-8.331911153552301,"B":-0.7615203958170137,"C":2.174070179913701},{"x":62,"A":-9.014673357081984,"B":1.1900127005677383,"C":1.5501466470907341},{"x":63,"A":-9.27629437807795,"B":1.8248451374983699,"C":2.9534364883807425},{"x":64,"A":-10.619920064314416,"B":2.3210965474449234,"C":1.906334935220182},{"x":65,"A":-12.198180468469952,"B":1.3283924293695728,"C":2.737486483993728},{"x":66,"A":-12.656308456221533,"B":2.573333544665747,"C":2.408416129774456},{"x":67,"A":-13.134582345826319,"B":1.806978840717964,"C":3.8726720455022776},{"x":68,"A":-14.603475422357459,"B":2.1362903655080228,"C":3.1592544044434163},{"x":69,"A":-13.959794236417963,"B":1.9967782978817676,"C":4.162613224493897},{"x":70,"A":-12.566590672820691,"B":2.1463437002212444,"C":4.028683494774467},{"x":71,"A":-11.76324739982526,"B":1.7560827583377674,"C":3.8086547156976915},{"x":72,"A":-11.372297881432514,"B":2.2676414161664007,"C":4.439020098786824},{"x":73,"A":-12.458401377302623,"B":0.8157030941412814,"C":3.5128270394975085},{"x":74,"A":-12.318603193193077,"B":1.5678702319366464,"C":4.314974817713071},{"x":75,"A":-12.178828920131158,"B":1.68404508390475,"C":6.057635455991676},{"x":76,"A":-10.602500512809183,"B":2.12824303402441,"C":4.931129192636921},{"x":77,"A":-11.533570375992843,"B":1.911565478469086,"C":5.521564748538056},{"x":78,"A":-11.103232298592069,"B":2.501460820547356,"C":5.977946178038975},{"x":79,"A":-11.539236569098648,"B":3.0832318127597076,"C":5.032793913743809},{"x":80,"A":-10.53869667625545,"B":4.712506928222838,"C":5.547895869653814},{"x":81,"A":-11.492768915993985,"B":5.710028011659968,"C":5.893120188114899},{"x":82,"A":-11.098324767175766,"B":5.2572637165057605,"C":4.752479770606878},{"x":83,"A":-11.149846822487524,"B":4.96828349560624,"C":4.323612402859891},{"x":84,"A":-9.792036520768043,"B":3.9136170384410462,"C":4.023452652553536},{"x":85,"A":-9.364503542584968,"B":2.958116927455977,"C":3.381579308387336},{"x":86,"A":-8.300331269359384,"B":1.111238862539957,"C":5.596949368330389},{"x":87,"A":-9.02690574755274,"B":0.3098496365642931,"C":5.5426457560335285},{"x":88,"A":-10.584030923712044,"B":-0.3700159969536534,"C":4.030323757860748},{"x":89,"A":-9.882688982738527,"B":-1.6954422057493845,"C":4.363433193093246},{"x":90,"A":-11.076084328913945,"B":-0.9672634353936301,"C":4.583043817788024},{"x":91,"A":-12.516355295353762,"B":-1.0514214109109212,"C":3.795056955749415},{"x":92,"A":-14.118245751605738,"B":-0.6054428181999247,"C":3.7803149024657796},{"x":93,"A":-14.866263514026647,"B":-0.7304325189006363,"C":4.048515712146278},{"x":94,"A":-14.320716376603167,"B":0.881649159315934,"C":3.8378800531016766},{"x":95,"A":-13.005409661749445,"B":1.9237302239241343,"C":3.9240205879272767},{"x":96,"A":-13.5086891718352,"B":2.6651434029019043,"C":5.370484968009701},{"x":97,"A":-11.915431618044554,"B":3.3755055216547145,"C":6.060185777139044},{"x":98,"A":-13.547598009331962,"B":4.007400601691465,"C":4.946507835699811},{"x":99,"A":-14.73098666099268,"B":5.302963304027847,"C":5.061114002756349},{"x":100,"A":-13.70654387479628,"B":4.349489526834194,"C":4.876202207800809}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Sunday 8 December 2024 10:09">Sunday 8 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
