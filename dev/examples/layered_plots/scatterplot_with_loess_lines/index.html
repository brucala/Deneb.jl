<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><meta name="title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="og:title" content="Scatterplot with loess lines · Deneb.jl"/><meta property="twitter:title" content="Scatterplot with loess lines · Deneb.jl"/><meta name="description" content="Documentation for Deneb.jl."/><meta property="og:description" content="Documentation for Deneb.jl."/><meta property="twitter:description" content="Documentation for Deneb.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/transitiongridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../interactive/">Interactive Charts</a></li><li><a class="tocitem" href="../../../transformations/">Data Transformations</a></li><li><a class="tocitem" href="../../../graphs/">Graphs</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><style>
  #vis-53fe87e2-e61b-4c23-acde-e09fb43fc938.vega-embed {
    width: 100%;
    display: flex;
  }

  #vis-53fe87e2-e61b-4c23-acde-e09fb43fc938.vega-embed details,
  #vis-53fe87e2-e61b-4c23-acde-e09fb43fc938.vega-embed details summary {
    position: relative;
  }
</style>
<div id="vis-53fe87e2-e61b-4c23-acde-e09fb43fc938"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "vis-53fe87e2-e61b-4c23-acde-e09fb43fc938") {
      outputDiv = document.getElementById("vis-53fe87e2-e61b-4c23-acde-e09fb43fc938");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.6060372919481846,"B":0.3279592320367603,"C":-0.761334279151834},{"x":2,"A":-0.19770615279534393,"B":1.3069614096071012,"C":-1.128074407443776},{"x":3,"A":0.48282405304100096,"B":2.141965338020487,"C":-1.420834724629483},{"x":4,"A":-0.05089668509419132,"B":1.2646456304346223,"C":-2.169135252972775},{"x":5,"A":0.8552751445687917,"B":2.4591774788706116,"C":-1.0155604257219812},{"x":6,"A":1.6205913471237707,"B":2.3305557434675173,"C":-0.7804076899219914},{"x":7,"A":2.3091647532100996,"B":2.8039425129881743,"C":0.41448272500729044},{"x":8,"A":2.0171653461774195,"B":4.170515982389101,"C":0.5700351358754765},{"x":9,"A":2.4009618565700817,"B":5.007921968505153,"C":0.843281043617663},{"x":10,"A":3.239668823345181,"B":6.6990895203303955,"C":-0.933151744816987},{"x":11,"A":3.026549059122439,"B":6.617894088753866,"C":-0.027478273496737038},{"x":12,"A":2.8877278911641686,"B":7.427222897063856,"C":1.1703024285128165},{"x":13,"A":4.802613262399791,"B":7.7562706277010545,"C":3.4203950733896473},{"x":14,"A":5.287292411285417,"B":8.647222216440813,"C":1.5836564218941092},{"x":15,"A":4.415644387132934,"B":8.501872902062368,"C":1.0131506964739028},{"x":16,"A":5.8704356209489665,"B":7.378612199022392,"C":1.4077172876284945},{"x":17,"A":7.12650009683111,"B":9.805363809946195,"C":2.553470502314413},{"x":18,"A":6.203812388279643,"B":9.266755312177347,"C":3.824684609510527},{"x":19,"A":6.768293119696666,"B":8.675899942589819,"C":3.7814118107472323},{"x":20,"A":5.981075009029698,"B":8.780359262111784,"C":5.462235270715869},{"x":21,"A":5.919921520556742,"B":10.734962431252908,"C":4.91069102666128},{"x":22,"A":7.859909847520908,"B":9.926035189794503,"C":4.076206072095417},{"x":23,"A":7.657493274770874,"B":11.176772011468078,"C":3.674065229756602},{"x":24,"A":6.8855136469803195,"B":11.439074548818079,"C":4.07978386644714},{"x":25,"A":9.057956127226642,"B":12.026428151839234,"C":4.723280555982547},{"x":26,"A":9.708522663087042,"B":12.526130461897292,"C":4.617377699215064},{"x":27,"A":9.299520585505247,"B":12.109878332552993,"C":4.618340543647873},{"x":28,"A":8.817351130152755,"B":13.301901250652167,"C":6.442938080463157},{"x":29,"A":7.530852956341119,"B":10.877807510562972,"C":5.878092569404333},{"x":30,"A":7.963443691729547,"B":11.141734947635976,"C":6.971071534401763},{"x":31,"A":6.746411808464448,"B":12.533355099470366,"C":5.8076620611312855},{"x":32,"A":5.737501815770877,"B":13.707495054277564,"C":7.228637730466568},{"x":33,"A":5.070905421958605,"B":14.327083040755051,"C":6.958804869395557},{"x":34,"A":6.1648223363071715,"B":13.549026627892822,"C":5.46356557593554},{"x":35,"A":6.403835237997086,"B":13.917908146378487,"C":7.093472696381942},{"x":36,"A":5.053191425887676,"B":14.649221504735879,"C":4.790393033224989},{"x":37,"A":5.158886704440474,"B":15.150121753944127,"C":3.8070796981836716},{"x":38,"A":5.849699604373157,"B":14.223160496800585,"C":2.2576042200828184},{"x":39,"A":4.479592200558869,"B":15.668435939398258,"C":1.4748423429957274},{"x":40,"A":4.242080889522408,"B":16.23044606964848,"C":1.8398286507350126},{"x":41,"A":3.63145534719008,"B":15.915964937122302,"C":2.4399682484893592},{"x":42,"A":4.903061660786614,"B":16.514651960841167,"C":1.4905473452550708},{"x":43,"A":5.0951970687660335,"B":17.11736727837259,"C":0.7822392667468014},{"x":44,"A":5.18990279483795,"B":16.583455712383863,"C":1.5154012602116567},{"x":45,"A":6.185875252464058,"B":16.197960348316,"C":1.0726959558694344},{"x":46,"A":7.168200725131649,"B":17.763739498207304,"C":0.42199564745441953},{"x":47,"A":5.501026753993473,"B":17.585196582309784,"C":0.5600679036802834},{"x":48,"A":2.7399208356356097,"B":17.826332273802517,"C":-0.18759310521291017},{"x":49,"A":3.817079874683132,"B":18.629242278894832,"C":-0.9795971765881213},{"x":50,"A":3.794195795603085,"B":18.475447451553112,"C":-1.94751248518707},{"x":51,"A":4.083993547453596,"B":20.25236010452116,"C":-1.4382134664439585},{"x":52,"A":3.27482629456732,"B":20.685240813507583,"C":-1.6312091539430034},{"x":53,"A":1.9166718207695794,"B":21.11829326921701,"C":-1.8834699983732597},{"x":54,"A":2.3768197010114704,"B":21.649812784597884,"C":-2.413493136215018},{"x":55,"A":0.9902494805917473,"B":22.48968423308597,"C":-2.739852181203619},{"x":56,"A":1.2780693105529353,"B":21.944444185884954,"C":-1.565553592863494},{"x":57,"A":0.2653467140810474,"B":21.554677915744275,"C":-0.6779975166720007},{"x":58,"A":0.38604077226919487,"B":22.809331335327244,"C":-0.4002152316713595},{"x":59,"A":-1.293166476775296,"B":23.31073501514651,"C":-0.06373139399151362},{"x":60,"A":-0.5623920072587986,"B":21.95807691022862,"C":-0.044907024064845036},{"x":61,"A":-2.066679563806607,"B":22.23249555663758,"C":-0.30089444073641136},{"x":62,"A":-2.240328671875514,"B":22.577863569567505,"C":-0.7390870492402518},{"x":63,"A":-2.542772172252405,"B":22.820828538811483,"C":-2.25171016353692},{"x":64,"A":-3.5520869362692746,"B":22.98544898970513,"C":-3.681279982254284},{"x":65,"A":-3.404588638578738,"B":24.024407686699995,"C":-3.2519421493436127},{"x":66,"A":-4.419938337220943,"B":23.33825489387075,"C":-4.906235433583551},{"x":67,"A":-3.228990682920468,"B":23.49087045765659,"C":-6.518371840045887},{"x":68,"A":-2.7410267060075646,"B":22.991578266533274,"C":-5.103259143910828},{"x":69,"A":-2.4548387379507397,"B":24.73937348470324,"C":-5.863963810786845},{"x":70,"A":-2.765855076266882,"B":25.424151110015284,"C":-5.614635212040992},{"x":71,"A":-2.08789820972006,"B":25.694763649080155,"C":-3.7850134532622803},{"x":72,"A":-1.185065458231068,"B":25.373852623582838,"C":-2.8213609591327664},{"x":73,"A":-1.6853983139726627,"B":26.06268145745781,"C":-4.573435835167486},{"x":74,"A":-3.3598118497470217,"B":26.721530759531312,"C":-4.041959288151343},{"x":75,"A":-3.448157377653472,"B":28.141488688249407,"C":-3.5848341727878177},{"x":76,"A":-3.4002509151142286,"B":28.85064908370884,"C":-4.491366645718421},{"x":77,"A":-4.061589503334475,"B":29.20292127687127,"C":-6.264979632531184},{"x":78,"A":-7.251341319926928,"B":29.379673037855223,"C":-6.011170318379885},{"x":79,"A":-6.363940119661405,"B":29.511694538506788,"C":-4.883820518042181},{"x":80,"A":-5.7472403996840695,"B":29.082653154424825,"C":-3.7087636579417103},{"x":81,"A":-5.817264121946249,"B":27.656237524655108,"C":-4.314867055739853},{"x":82,"A":-5.376233675456823,"B":27.496316722362117,"C":-3.637209764644143},{"x":83,"A":-5.1219172340707715,"B":28.31804116319781,"C":-3.493640310482376},{"x":84,"A":-6.630511642128173,"B":28.19548669534747,"C":-1.8668891510611973},{"x":85,"A":-5.1770941136912745,"B":28.827034224026356,"C":-2.795591172257316},{"x":86,"A":-3.33667071170808,"B":28.977395010886433,"C":-3.555338375491268},{"x":87,"A":-5.61729861067398,"B":29.16833478108513,"C":-4.251541904346721},{"x":88,"A":-6.05714157582301,"B":28.954333410256748,"C":-4.6290982800699805},{"x":89,"A":-6.803577001245939,"B":29.300028996388278,"C":-3.4078854750283716},{"x":90,"A":-7.459694198508236,"B":28.26258481531271,"C":-2.9565319985032845},{"x":91,"A":-6.162937895103764,"B":28.38430262924225,"C":-3.955596159740331},{"x":92,"A":-6.209904633664503,"B":29.24330872300995,"C":-3.961353939284045},{"x":93,"A":-5.471144714139341,"B":31.50233223665118,"C":-4.853778925609902},{"x":94,"A":-3.569077634383718,"B":32.1269743200797,"C":-4.239054914602267},{"x":95,"A":-3.7386668629488433,"B":30.75782762348258,"C":-4.096243667321831},{"x":96,"A":-4.167141770835916,"B":31.42096793646583,"C":-2.588010692327389},{"x":97,"A":-1.788483600242818,"B":30.778828082506976,"C":-2.411537730409287},{"x":98,"A":-2.774567630794766,"B":31.368053881680794,"C":-3.460848078086215},{"x":99,"A":-1.6631112180464318,"B":30.665208728754934,"C":-3.12704083159589},{"x":100,"A":0.22798109748519046,"B":31.06530385939964,"C":-4.591434513600946}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]}, {"mode": "vega-lite"});
</script>
<hr/><p><em>This page was generated using <a href="https://github.com/JuliaDocs/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Saturday 7 December 2024 20:59">Saturday 7 December 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
