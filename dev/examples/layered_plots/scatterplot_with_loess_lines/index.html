<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlbd85639171394fed84f0a7ef09a5f711' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlbd85639171394fed84f0a7ef09a5f711',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-1.1664511603462606,"B":0.439482246922108,"C":-1.1224834606582261},{"x":2,"A":-2.153199216634737,"B":1.6783175729776507,"C":-2.210662637018932},{"x":3,"A":-1.4135990059208776,"B":0.4652914791456899,"C":-3.480758117014755},{"x":4,"A":-2.477398477528636,"B":-0.6513987427855912,"C":-2.4756414131448476},{"x":5,"A":-2.7432711670059895,"B":0.3908872771467644,"C":-3.0096990009853117},{"x":6,"A":-2.7217870861405453,"B":0.3179542156299836,"C":-2.2226464654786118},{"x":7,"A":-1.3779038423905838,"B":-0.3864844386645675,"C":-2.3672013408858597},{"x":8,"A":-0.9917068112032524,"B":1.6834055759802804,"C":-1.8774447075341714},{"x":9,"A":-2.2047661871704447,"B":1.5048925070777732,"C":-1.1338228968008996},{"x":10,"A":-1.9101345985077887,"B":0.27505462925882984,"C":-0.6774933396678318},{"x":11,"A":-1.8672015586697208,"B":0.5641267818063989,"C":-0.8956802581989189},{"x":12,"A":-2.9697944396016345,"B":1.8899804207450273,"C":0.6062812216823164},{"x":13,"A":-2.058213021500566,"B":1.183939456518239,"C":0.36288440940815514},{"x":14,"A":-1.7878746094836044,"B":1.8135183099879597,"C":0.10414769386254652},{"x":15,"A":-2.5451746473510135,"B":1.7149813224319892,"C":2.4040971180606183},{"x":16,"A":-3.585007358033631,"B":2.0567721342104015,"C":3.204899869513837},{"x":17,"A":-3.262999134711817,"B":2.188504493945252,"C":4.402594854940537},{"x":18,"A":-2.192021890613616,"B":1.7186957636285214,"C":4.210837162921209},{"x":19,"A":-3.4663012707477034,"B":1.8626072129645286,"C":3.304259900272018},{"x":20,"A":-3.6368990626215547,"B":1.430628721626177,"C":3.8818868797917236},{"x":21,"A":-4.322722123986251,"B":2.008675781708148,"C":3.1563644365866423},{"x":22,"A":-5.7516428428694955,"B":2.5373952668799293,"C":2.246167605927226},{"x":23,"A":-5.446160524965629,"B":2.21499595888537,"C":0.87578404581935},{"x":24,"A":-6.232646386652933,"B":2.022260975173613,"C":0.7071365527207598},{"x":25,"A":-6.454191607130024,"B":1.1143562707891612,"C":0.6731764966718305},{"x":26,"A":-6.938363185554106,"B":-0.04625503319687396,"C":-1.0783633933504582},{"x":27,"A":-8.68710369160891,"B":0.3990422399706135,"C":-1.0684215014577916},{"x":28,"A":-9.193569073141738,"B":0.3556418351784325,"C":-2.3031875321564446},{"x":29,"A":-8.292898925209146,"B":0.24334383046768232,"C":-1.8964483112562376},{"x":30,"A":-7.577921381101342,"B":-1.4680315998268665,"C":-0.3774566044614579},{"x":31,"A":-7.598392521348709,"B":-0.2067920811974111,"C":0.6229088011880664},{"x":32,"A":-8.872748769765296,"B":0.429831947068536,"C":0.32742390527309584},{"x":33,"A":-8.68630892457347,"B":0.7663911879365116,"C":0.9164054328474514},{"x":34,"A":-8.687266156053951,"B":2.7089214694046957,"C":-0.1604709510415332},{"x":35,"A":-10.198007461402801,"B":2.937359730388406,"C":-1.542682464583838},{"x":36,"A":-8.511906683034246,"B":1.9042150505714492,"C":-2.1802773406109046},{"x":37,"A":-7.961256084703704,"B":3.285324604237628,"C":-0.6385832171825165},{"x":38,"A":-9.095552954979311,"B":4.638322353055987,"C":-0.20403788425912928},{"x":39,"A":-9.560202370469579,"B":6.135241604181738,"C":-0.25997027116127047},{"x":40,"A":-9.286161644589635,"B":5.690008261805165,"C":-0.9191006441883818},{"x":41,"A":-8.610602992557395,"B":5.522407382134894,"C":-1.6892436229374486},{"x":42,"A":-9.587948743436524,"B":6.182532030621992,"C":-0.1399564905096199},{"x":43,"A":-10.416495934438034,"B":6.748298168121462,"C":-0.08164819028039227},{"x":44,"A":-9.98472801463811,"B":6.294414393709319,"C":-0.26587010131831246},{"x":45,"A":-8.72898176717934,"B":5.252359139363499,"C":-1.6393193484149817},{"x":46,"A":-9.104998421241671,"B":5.8525000058260375,"C":-1.8671175321156543},{"x":47,"A":-9.315800585751747,"B":6.454520283366946,"C":-0.667010537828129},{"x":48,"A":-9.836482476769365,"B":7.6477232212285795,"C":-0.9655235793191865},{"x":49,"A":-9.27751808379933,"B":6.969436642587038,"C":-1.8129322790468338},{"x":50,"A":-9.266495064071032,"B":6.621285809934951,"C":-2.0112396416101377},{"x":51,"A":-9.055344627158709,"B":7.2047504167714855,"C":-2.576084837202781},{"x":52,"A":-9.411411762968902,"B":5.176759906796525,"C":-1.5276407951715525},{"x":53,"A":-9.625800384943094,"B":4.667682376195238,"C":-3.001819729359588},{"x":54,"A":-8.702261512649379,"B":4.1370314932694825,"C":-2.4386475109626513},{"x":55,"A":-9.229774589465691,"B":2.9634472276853385,"C":-3.477155790992499},{"x":56,"A":-9.864463338140839,"B":1.4174406422119425,"C":-4.440380125447666},{"x":57,"A":-7.836091901753258,"B":-0.43602262279010695,"C":-4.3050040295648255},{"x":58,"A":-8.079324664103241,"B":0.5434918334975863,"C":-6.050178843943242},{"x":59,"A":-7.751392418271745,"B":0.8586130311675715,"C":-7.248281560853307},{"x":60,"A":-7.931462373332257,"B":1.1235573374951398,"C":-7.375320898424742},{"x":61,"A":-8.899827159925676,"B":1.480317405953381,"C":-5.733768611645828},{"x":62,"A":-9.153948165100875,"B":0.41653603340785006,"C":-6.221888716268936},{"x":63,"A":-8.67919594930163,"B":1.0656362088304614,"C":-6.109574618718041},{"x":64,"A":-8.257599846192988,"B":0.9297176999926811,"C":-6.013014687389091},{"x":65,"A":-10.626292587863713,"B":0.5646921638751148,"C":-5.121598777001163},{"x":66,"A":-11.790660874881358,"B":0.8247471097424842,"C":-6.947397559203391},{"x":67,"A":-12.678653772239622,"B":1.0132202781118016,"C":-4.847496303460147},{"x":68,"A":-14.627616288825417,"B":1.3243405014988645,"C":-5.251139818285657},{"x":69,"A":-14.146550059406437,"B":1.2012585583846138,"C":-5.4593394276610265},{"x":70,"A":-15.34157407688911,"B":2.3702749583653673,"C":-4.54545166900192},{"x":71,"A":-15.439019913115644,"B":2.721921207999187,"C":-5.39746255811822},{"x":72,"A":-17.44161321155552,"B":2.1784838035564595,"C":-4.8166605117188785},{"x":73,"A":-16.506571284730544,"B":1.602468158431812,"C":-3.5642185430860813},{"x":74,"A":-16.37793068700631,"B":4.694202378806377,"C":-5.424292968816515},{"x":75,"A":-17.056665680630164,"B":3.3446363036593665,"C":-6.122194243923671},{"x":76,"A":-13.256679529233596,"B":1.9680573371475625,"C":-4.38808417347737},{"x":77,"A":-14.578007315620384,"B":2.297977865961736,"C":-5.3712140177862375},{"x":78,"A":-14.72420171911234,"B":2.6354591546494546,"C":-4.314970258612592},{"x":79,"A":-14.924783314705445,"B":3.2364517598977205,"C":-3.809615789623417},{"x":80,"A":-14.06976421789704,"B":2.9522472801411896,"C":-4.195148373899715},{"x":81,"A":-13.80205359547292,"B":4.200544772257636,"C":-4.994791239520958},{"x":82,"A":-12.953950681203631,"B":4.043331806389162,"C":-4.82493238243655},{"x":83,"A":-13.616934533466674,"B":3.2889815838983063,"C":-4.900390633184564},{"x":84,"A":-13.152962924770415,"B":3.2830593166764053,"C":-3.9929220298432955},{"x":85,"A":-13.851475556206285,"B":3.4129993299079087,"C":-5.6373040958314675},{"x":86,"A":-15.705241173025515,"B":3.0450187051786917,"C":-5.404506044850366},{"x":87,"A":-16.286898488583983,"B":3.3295635634037493,"C":-3.08015872324962},{"x":88,"A":-15.859951013253868,"B":1.0075770432814601,"C":-1.3714964327864423},{"x":89,"A":-16.611195183003485,"B":1.0387386857972545,"C":-1.5166980707747886},{"x":90,"A":-17.808992809658726,"B":-0.9428981414606463,"C":0.0154235292258873},{"x":91,"A":-17.535507873135252,"B":-0.6794008333617452,"C":0.2937865148159948},{"x":92,"A":-17.99710368208011,"B":-2.060295193298637,"C":1.376667791907363},{"x":93,"A":-17.726183753986458,"B":-0.8904349881619853,"C":1.4630250364021546},{"x":94,"A":-18.974885220404094,"B":-1.308087738078449,"C":1.2684999797812524},{"x":95,"A":-19.52853852845543,"B":-1.860898455861598,"C":1.0336968662264252},{"x":96,"A":-20.338418183598932,"B":-1.9563899150718513,"C":0.010647753845447694},{"x":97,"A":-21.434344079338,"B":-1.6137474213691583,"C":0.8394464966137976},{"x":98,"A":-21.609052881457664,"B":0.3575145827104087,"C":-0.6113045692027363},{"x":99,"A":-22.228103060371534,"B":1.3645245664086305,"C":-0.6495148418628044},{"x":100,"A":-23.107825421476186,"B":1.5530283925550776,"C":-1.6524069566511717}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 13 July 2023 19:29">Thursday 13 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
