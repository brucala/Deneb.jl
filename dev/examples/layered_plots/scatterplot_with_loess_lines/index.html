<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vlbbe102d071454cb3b5bc77713465889e' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlbbe102d071454cb3b5bc77713465889e',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.8161130154413316,"B":-1.1234670796075583,"C":-0.2935876556258762},{"x":2,"A":-0.02079848211281654,"B":-1.6919899446995086,"C":-0.2575932454018264},{"x":3,"A":1.0743781796151757,"B":0.7823459303754843,"C":0.23008043843188897},{"x":4,"A":1.3569206747519134,"B":-1.3370668585423224,"C":0.6558460333280132},{"x":5,"A":0.465314953511881,"B":-2.4882353363868495,"C":0.9604704162311314},{"x":6,"A":1.332379249775703,"B":-2.660488072608392,"C":2.7516760804998603},{"x":7,"A":0.7143289993504438,"B":-4.058836142185431,"C":2.4302429924802786},{"x":8,"A":2.291857021257382,"B":-3.8427698865525874,"C":3.1498911112788215},{"x":9,"A":2.2701033695867574,"B":-3.2041289344273363,"C":2.0689216628701392},{"x":10,"A":4.706406815925789,"B":-3.381025599284838,"C":3.3844706328990983},{"x":11,"A":5.347264925810532,"B":-3.8657840870025675,"C":3.3800740786589456},{"x":12,"A":3.7624132352258366,"B":-3.3954843446390894,"C":1.7635589926915203},{"x":13,"A":2.361631812250063,"B":-2.476055490561424,"C":1.1285906677113737},{"x":14,"A":1.252934108157539,"B":-3.2804788142183448,"C":0.6424693621342906},{"x":15,"A":1.7599160176223545,"B":-2.1508387931259785,"C":1.8424718167428926},{"x":16,"A":0.2775112936434354,"B":-1.050600181458586,"C":1.7242025332686657},{"x":17,"A":1.4228115536206125,"B":-2.0617378339321166,"C":2.8298381990289467},{"x":18,"A":1.3955609273541374,"B":-2.220898163887356,"C":2.480031538316258},{"x":19,"A":2.6148875330753008,"B":-2.61693208825349,"C":2.230854819901175},{"x":20,"A":1.2553662509231327,"B":-4.299939354784218,"C":1.9658785118109514},{"x":21,"A":1.3715446033260796,"B":-4.111179371993522,"C":1.8800417996583665},{"x":22,"A":1.6541123031502412,"B":-5.0073795687036915,"C":2.5427422824905204},{"x":23,"A":1.6418704940118227,"B":-6.551271122502899,"C":2.140921522908267},{"x":24,"A":1.7510242522964428,"B":-7.085313452644518,"C":4.196318599551193},{"x":25,"A":2.2015823093408127,"B":-6.811955612448263,"C":3.651210903768144},{"x":26,"A":3.6064918467075504,"B":-6.555413113713498,"C":3.683907470162106},{"x":27,"A":4.679351954333294,"B":-6.399032412901375,"C":4.1022775152004725},{"x":28,"A":4.390234444781841,"B":-6.288722411566976,"C":4.490257161525666},{"x":29,"A":5.299297474046824,"B":-5.899754360451143,"C":3.50036210630142},{"x":30,"A":3.9804457831696167,"B":-3.3480070743211385,"C":3.734985509850739},{"x":31,"A":4.676665402368832,"B":-5.338142593719142,"C":4.191332914436902},{"x":32,"A":4.408440541100846,"B":-4.17145930837659,"C":3.3417904665061324},{"x":33,"A":4.238861921669796,"B":-3.2168032145191354,"C":4.542203277670838},{"x":34,"A":4.589929264090417,"B":-3.308351080583055,"C":5.292290653952215},{"x":35,"A":4.014761724405332,"B":-3.7495400865078876,"C":6.689744914218154},{"x":36,"A":2.4731019078603165,"B":-3.49305861297196,"C":5.54329706891794},{"x":37,"A":3.6066368553827735,"B":-2.754997597423389,"C":6.889087863193257},{"x":38,"A":3.8568063456613038,"B":-2.67835122408958,"C":7.010947332744616},{"x":39,"A":4.440118364034755,"B":-4.353889945831632,"C":6.200447917273344},{"x":40,"A":4.729885900097626,"B":-4.003491320612312,"C":7.671929925360152},{"x":41,"A":4.4130498836013565,"B":-4.850646745089707,"C":9.493700611174251},{"x":42,"A":3.8556282255421817,"B":-4.569275615859242,"C":9.315670909640739},{"x":43,"A":2.6713097962120482,"B":-3.570568158321744,"C":10.270306496441952},{"x":44,"A":1.686732023650414,"B":-3.430985071976962,"C":8.415917184337339},{"x":45,"A":2.791748221724821,"B":-3.458116017890692,"C":10.218979259130636},{"x":46,"A":2.4770334095299305,"B":-3.5633237459621023,"C":10.546169634294097},{"x":47,"A":2.9621061862579756,"B":-4.66569799765695,"C":11.219215935824815},{"x":48,"A":3.64719188609668,"B":-5.916876043213498,"C":10.077912950902657},{"x":49,"A":3.252620797015778,"B":-3.985850303925588,"C":10.181497361103867},{"x":50,"A":4.261387847016575,"B":-4.067553216259664,"C":9.645781615635634},{"x":51,"A":5.716861251794715,"B":-1.9642418616264476,"C":11.685198634257135},{"x":52,"A":6.431365986662723,"B":-1.6818079290843935,"C":11.769202221728067},{"x":53,"A":6.267451406611757,"B":-2.3864266977255113,"C":12.52580867561984},{"x":54,"A":5.1205638520166135,"B":-1.5164073094883195,"C":13.880781892336108},{"x":55,"A":4.391897029283557,"B":-0.9198156744021002,"C":13.923476798608164},{"x":56,"A":3.3495267795548607,"B":-0.16669447451578023,"C":15.584472237112323},{"x":57,"A":2.7609250330803663,"B":0.8531681971498648,"C":15.526407506822178},{"x":58,"A":2.7765010215657044,"B":0.3204179396214528,"C":14.54683843722285},{"x":59,"A":3.858108392563219,"B":-0.5530167022053215,"C":15.013705914391101},{"x":60,"A":4.533443804018224,"B":-1.343429943081,"C":16.77759045491975},{"x":61,"A":4.736627531905738,"B":-1.1407533258750535,"C":17.409021502454586},{"x":62,"A":4.7210975225873435,"B":0.1189626535407553,"C":17.114166552941352},{"x":63,"A":4.3306847447632455,"B":0.2293363798314867,"C":16.716477134831386},{"x":64,"A":3.4081031450990444,"B":-0.6755142073625158,"C":15.316497099644321},{"x":65,"A":4.8097825415795405,"B":-0.1824378623781462,"C":15.079962350813686},{"x":66,"A":4.126464253128799,"B":0.7743001069480131,"C":15.654480363484103},{"x":67,"A":3.1160347810540427,"B":0.9810333776681255,"C":16.501340490373988},{"x":68,"A":1.86858059271748,"B":1.253488189178347,"C":15.043744403856378},{"x":69,"A":2.7247479506253276,"B":2.020448601716419,"C":15.38516535784729},{"x":70,"A":1.4711920942550278,"B":1.7116999775695854,"C":16.15945051392849},{"x":71,"A":2.2485957520924176,"B":1.6257512651210482,"C":15.549540395412548},{"x":72,"A":2.5289942307456084,"B":1.272792981426887,"C":15.306512014722138},{"x":73,"A":0.6929630895852137,"B":0.046805080816741285,"C":14.469130630327818},{"x":74,"A":1.589253497270209,"B":-0.009787707708712512,"C":14.210301423567643},{"x":75,"A":1.7570663812907228,"B":2.3625666918770634,"C":14.91512906188172},{"x":76,"A":1.6403560024062924,"B":3.5740467415982264,"C":15.02637519850632},{"x":77,"A":2.8446797345965615,"B":3.6707860448616634,"C":13.419597973758325},{"x":78,"A":0.20152027002370976,"B":3.547299538903923,"C":12.652140565847942},{"x":79,"A":0.42517216583520656,"B":2.593260810091306,"C":11.113331894525352},{"x":80,"A":1.235631877858961,"B":5.060051504460549,"C":12.67908171237425},{"x":81,"A":0.8432915543801733,"B":6.424464244818234,"C":12.316892591507004},{"x":82,"A":0.19958366618810142,"B":3.1800175673760576,"C":12.123470886784192},{"x":83,"A":-0.643367529847346,"B":2.9002719137472948,"C":11.843363185191082},{"x":84,"A":-0.9959480751016481,"B":1.6946216741530933,"C":10.890906440579856},{"x":85,"A":0.5245782566265376,"B":0.5862779697034755,"C":10.972347405120914},{"x":86,"A":1.0668707301327267,"B":-0.771460110344883,"C":9.782352713593202},{"x":87,"A":0.2111734019128011,"B":-1.4490468210783214,"C":11.06722426316619},{"x":88,"A":-0.0692103984882968,"B":-3.2006302715598967,"C":11.875653478231468},{"x":89,"A":0.2872613480879458,"B":-3.0879621510605126,"C":12.196683006475524},{"x":90,"A":1.2586638066300837,"B":-4.574787135853186,"C":10.441966291806404},{"x":91,"A":1.9525676463595343,"B":-4.966142047886244,"C":12.53803580723782},{"x":92,"A":0.8249580834584318,"B":-5.614199726728023,"C":12.805866949352122},{"x":93,"A":0.9451672495240564,"B":-5.0090177867961785,"C":11.726750632982963},{"x":94,"A":1.832473934458877,"B":-5.166122321477876,"C":12.290435158237722},{"x":95,"A":2.90038804962374,"B":-6.684983427378228,"C":11.877386410052333},{"x":96,"A":3.4719741687123866,"B":-7.65272092920468,"C":10.424937962193267},{"x":97,"A":1.9317605204263788,"B":-5.631863748262467,"C":11.195029003088745},{"x":98,"A":2.92979085357086,"B":-5.035783855654554,"C":10.735120605561812},{"x":99,"A":3.143577241044868,"B":-6.499496757981888,"C":9.805847391381626},{"x":100,"A":3.49953859707155,"B":-8.424065753421107,"C":10.18489270987022}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 4 July 2023 20:34">Tuesday 4 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
