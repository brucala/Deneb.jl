<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scatterplot with loess lines · Deneb.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Deneb.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Deneb.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../installation/">Installation</a></li><li><a class="tocitem" href="../../../basic_tutorial/">Basic Tutorial</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../../intro/">Introduction</a></li><li><a class="tocitem" href="../../../data_mark_encoding/">Data, Mark and Encoding</a></li><li><a class="tocitem" href="../../../composition_and_layering/">Composition and Layering</a></li><li><a class="tocitem" href="../../../multiview/">Multi-views</a></li><li><a class="tocitem" href="../../../themes/">Themes</a></li></ul></li><li><a class="tocitem" href="../../">Gallery</a></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scatterplot with loess lines</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brucala/Deneb.jl/blob/main/docs/examples/layered_plots/scatterplot_with_loess_lines.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scatterplot-with-loess-lines"><a class="docs-heading-anchor" href="#Scatterplot-with-loess-lines">Scatterplot with loess lines</a><a id="Scatterplot-with-loess-lines-1"></a><a class="docs-heading-anchor-permalink" href="#Scatterplot-with-loess-lines" title="Permalink"></a></h1><p><a href="../scatterplot_with_loess_lines.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <img src="https://img.shields.io/badge/Author-bruno-blue" alt="Author"/></p><pre><code class="language-julia hljs">using Deneb

data = (
    x=1:100,
    A=cumsum(randn(100)),
    B=cumsum(randn(100)),
    C=cumsum(randn(100)),
)

base = Data(data) * transform_fold(
    [:A, :B, :C],
    as=(:category, :y),
) * Encoding(&quot;x:Q&quot;, &quot;y:Q&quot;, color=:category)

points = Mark(:circle, opacity=0.4)

lines = Mark(:line, size=4) * transform_loess(
    :x, :y, groupby=:category
)

chart = base * (points + lines) * vlspec(width=400)</code></pre><div id='vl43765102958c4aabaf5683e709fc6f92' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@5?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl43765102958c4aabaf5683e709fc6f92',{"config":{"view":{"continuousWidth":300,"continuousHeight":300,"step":25},"mark":{"tooltip":true}},"transform":[{"fold":["A","B","C"],"as":["category","y"]}],"data":{"values":[{"x":1,"A":-0.663496452795364,"B":-0.8390877727317743,"C":-1.3484411527364328},{"x":2,"A":-2.544881520853629,"B":-1.2958990134208013,"C":-1.1111827874190852},{"x":3,"A":-3.568317099463574,"B":-1.4464154023428881,"C":-1.4007252416006784},{"x":4,"A":-5.538964894513935,"B":-0.36047547818991976,"C":-1.582438276953511},{"x":5,"A":-6.214312387709402,"B":1.754716572927653,"C":-0.3261271962052261},{"x":6,"A":-5.950560923031605,"B":2.0312342224390805,"C":0.11674376477231863},{"x":7,"A":-7.145867684878143,"B":2.3188711022667317,"C":-0.542833872791354},{"x":8,"A":-5.4337449699275835,"B":2.7577162482105417,"C":-1.0235765590097303},{"x":9,"A":-6.142846165803613,"B":4.9457747833119825,"C":1.289638607837235},{"x":10,"A":-5.093134529956815,"B":6.1989161789203155,"C":1.9912874776163754},{"x":11,"A":-4.583820137461778,"B":7.482934135486971,"C":3.136129209300951},{"x":12,"A":-3.360547690686202,"B":6.7007050731831335,"C":4.178869007244975},{"x":13,"A":-2.6764770752377265,"B":6.995395052729627,"C":4.225081045906968},{"x":14,"A":-1.5951532181076178,"B":6.163952321214197,"C":2.6543016583349646},{"x":15,"A":-1.6809940115995852,"B":7.301410252224921,"C":2.5045683456022525},{"x":16,"A":-0.4832995027852143,"B":5.758198070895791,"C":1.0284362438446697},{"x":17,"A":-1.415562650717416,"B":4.800089065419879,"C":0.27823356070452143},{"x":18,"A":-0.39267180003874524,"B":5.893862478369776,"C":-0.4589091171889832},{"x":19,"A":-2.958163674978353,"B":6.086633000165312,"C":-0.5537579674678664},{"x":20,"A":-5.5735844971258945,"B":6.2496540874730595,"C":-1.7544311587250982},{"x":21,"A":-4.137064684239586,"B":6.370919047173455,"C":-1.8971527323504591},{"x":22,"A":-4.861799273148961,"B":6.644471633072852,"C":-1.199044870422072},{"x":23,"A":-4.40542192123249,"B":8.324501770944396,"C":-1.1461198322833355},{"x":24,"A":-5.047518815950942,"B":8.676075200444778,"C":-1.400472384459883},{"x":25,"A":-4.511524236691597,"B":8.363410365465445,"C":-2.4672531235188866},{"x":26,"A":-4.09907972937923,"B":9.812672065079932,"C":-1.9688517695495558},{"x":27,"A":-5.056710792144128,"B":9.980754260769215,"C":-1.8329243592112525},{"x":28,"A":-5.642802982517317,"B":10.797066970302328,"C":-1.944014906942075},{"x":29,"A":-5.7730961902263,"B":11.153037040687087,"C":-1.905198325961961},{"x":30,"A":-5.172570115895765,"B":12.234691905880355,"C":-2.037387673204549},{"x":31,"A":-4.843916193498745,"B":11.042964472425195,"C":-2.7221982008848498},{"x":32,"A":-4.930158864207482,"B":12.009513575422895,"C":-3.85796491468259},{"x":33,"A":-5.521752671185917,"B":10.409645836215544,"C":-4.234801138756891},{"x":34,"A":-6.020546478420763,"B":9.699705181438453,"C":-4.712579387859762},{"x":35,"A":-6.18704101190394,"B":8.130008784411292,"C":-6.493487912841699},{"x":36,"A":-5.663560018207278,"B":9.245702399324289,"C":-5.256733170389144},{"x":37,"A":-5.343775652627692,"B":9.931033835680537,"C":-5.627003572251274},{"x":38,"A":-5.434528731161094,"B":7.9445819241688405,"C":-5.3388456062418},{"x":39,"A":-4.812878536532281,"B":8.385026182818999,"C":-5.096526342344281},{"x":40,"A":-5.463639523342441,"B":8.352282392478221,"C":-4.70043166036427},{"x":41,"A":-6.012465299730347,"B":7.605779759082768,"C":-4.427507969809307},{"x":42,"A":-6.329553824262407,"B":7.7362183118139125,"C":-5.884909439721751},{"x":43,"A":-5.362041614296579,"B":8.080337807518182,"C":-7.270247692386356},{"x":44,"A":-5.833456996121874,"B":8.735144255663018,"C":-7.748961221443707},{"x":45,"A":-5.928204931598932,"B":9.06749589976323,"C":-8.625760946804077},{"x":46,"A":-6.162385222148347,"B":8.367026692242225,"C":-6.847603850329888},{"x":47,"A":-7.419850854066269,"B":8.159180833251046,"C":-6.856511841179144},{"x":48,"A":-6.904426970910243,"B":10.294822504259672,"C":-5.7696520876521},{"x":49,"A":-7.765529905392183,"B":11.829605252115478,"C":-7.49587431310181},{"x":50,"A":-8.787063909929433,"B":9.606218829123803,"C":-6.32203281723596},{"x":51,"A":-7.928550393480319,"B":10.17645357687248,"C":-9.24106384214863},{"x":52,"A":-8.882947732858087,"B":12.535315934714205,"C":-8.900647017637379},{"x":53,"A":-8.461627098015962,"B":13.267543112247164,"C":-7.888924293468772},{"x":54,"A":-9.142532949389867,"B":13.004015427505585,"C":-7.435566223202542},{"x":55,"A":-9.539636589816805,"B":13.879697774255773,"C":-6.871106535842724},{"x":56,"A":-9.947073309968456,"B":14.494769598781701,"C":-6.035525745728059},{"x":57,"A":-8.188418290871189,"B":14.212027534050984,"C":-7.620703847700192},{"x":58,"A":-7.455888217283415,"B":13.02705671663916,"C":-7.654432116458167},{"x":59,"A":-7.768515645906269,"B":12.887243032493439,"C":-9.244524892029077},{"x":60,"A":-8.119445904958761,"B":13.967512675793877,"C":-9.26152469408655},{"x":61,"A":-7.884236426091619,"B":14.41807595226409,"C":-10.833722196558098},{"x":62,"A":-6.487173075219034,"B":15.58233129044442,"C":-10.290690476697417},{"x":63,"A":-6.47714659710469,"B":15.30793347850337,"C":-10.415992082384173},{"x":64,"A":-6.490769880832012,"B":14.8389631018507,"C":-11.155749689239807},{"x":65,"A":-5.196856922740011,"B":14.279485582050171,"C":-9.433515670124528},{"x":66,"A":-3.5482047723065246,"B":13.375475438942601,"C":-9.712835403231185},{"x":67,"A":-4.400863546880916,"B":14.797252764636083,"C":-9.88149369363529},{"x":68,"A":-3.9384619611397396,"B":16.199575749771597,"C":-9.713874450712792},{"x":69,"A":-2.7027866341053928,"B":16.620517523974442,"C":-10.753457397286924},{"x":70,"A":-3.2015480053708494,"B":14.334265290649183,"C":-9.107173182171},{"x":71,"A":-5.482304948987682,"B":13.195596275675658,"C":-7.864027398703987},{"x":72,"A":-6.922460234187582,"B":14.65796997446042,"C":-7.873819801290576},{"x":73,"A":-6.582760079202876,"B":14.783578153829406,"C":-8.972039276471948},{"x":74,"A":-5.182030650088125,"B":12.719025685317584,"C":-9.066990504764787},{"x":75,"A":-3.6589096609837384,"B":12.603087885054812,"C":-9.784374355761745},{"x":76,"A":-3.7554384594423755,"B":13.615721986406818,"C":-10.26693981873811},{"x":77,"A":-3.3771510718236115,"B":13.262059648987364,"C":-9.741660614408945},{"x":78,"A":-4.560054810876341,"B":13.162970229464491,"C":-10.042964635625944},{"x":79,"A":-4.477436138735075,"B":12.838933680230467,"C":-9.063615590557449},{"x":80,"A":-4.483614628151025,"B":11.976394697493909,"C":-10.186869748818404},{"x":81,"A":-5.2123634694139795,"B":12.788984848888848,"C":-10.36408712992293},{"x":82,"A":-6.253381445308055,"B":12.473063272011329,"C":-9.377197649678966},{"x":83,"A":-7.076285063038696,"B":11.119316953928266,"C":-9.962946846115907},{"x":84,"A":-6.371658925085176,"B":11.748262083780752,"C":-9.8809911379909},{"x":85,"A":-6.166334198955879,"B":11.932331488937493,"C":-9.097444058418642},{"x":86,"A":-3.8061651526061535,"B":12.45659095449105,"C":-8.874097424285884},{"x":87,"A":-4.640088927086066,"B":12.798111099899014,"C":-9.459064099546007},{"x":88,"A":-3.433266028564324,"B":12.746862916606027,"C":-11.130819089356264},{"x":89,"A":-4.52186836946404,"B":13.10788072203102,"C":-9.01372406102176},{"x":90,"A":-5.196451355897536,"B":11.763594981148204,"C":-9.962751972771748},{"x":91,"A":-6.443624765730866,"B":12.654718141995366,"C":-9.721254235059066},{"x":92,"A":-6.137474025933246,"B":13.694487168678174,"C":-9.50695285749262},{"x":93,"A":-5.569541325225488,"B":12.71505954570813,"C":-9.218040689629717},{"x":94,"A":-6.123542974620411,"B":11.68875176577433,"C":-9.46730360099509},{"x":95,"A":-5.432884259344564,"B":11.50627382313966,"C":-8.80958217033332},{"x":96,"A":-5.023296282987547,"B":11.13795199712577,"C":-9.666140169962132},{"x":97,"A":-6.0433746696706745,"B":10.499922602515422,"C":-9.460294496307403},{"x":98,"A":-6.31325149097369,"B":9.159963568276998,"C":-8.843977511649866},{"x":99,"A":-8.115717087620583,"B":9.158012627611678,"C":-8.257539478665649},{"x":100,"A":-9.379584922739657,"B":9.476807385321578,"C":-8.515447836900583}]},"encoding":{"color":{"field":"category"},"x":{"field":"x","type":"quantitative"},"y":{"field":"y","type":"quantitative"}},"layer":[{"mark":{"type":"circle","opacity":0.4},"width":400},{"transform":[{"loess":"y","on":"x","groupby":["category"]}],"mark":{"type":"line","size":4},"width":400}]},{mode:'vega-lite'}).catch(console.warn);})</script><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Saturday 8 July 2023 11:32">Saturday 8 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
